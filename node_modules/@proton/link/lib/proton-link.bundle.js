/**
 * Proton Link v4.2.7
 * https://github.com/protonprotocol/proton-link
 *
 * @license
 * Copyright (c) 2020 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */
var ProtonLink=function(e){"use strict";
/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */function t(e){let t=e.length;for(;--t>=0;)e[t]=0}const r=256,n=286,i=30,a=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),c=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new Array(576);t(d);const u=new Array(60);t(u)
;const h=new Array(512);t(h);const l=new Array(256);t(l);const p=new Array(29);t(p);const b=new Array(i);function y(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let m,v,g;function _(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}t(b);const w=e=>e<256?h[e]:h[256+(e>>>7)],x=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},A=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,
x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},k=(e,t,r)=>{A(e,r[2*t],r[2*t+1])},S=(e,t)=>{let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},M=(e,t,r)=>{const n=new Array(16);let i,s,o=0;for(i=1;i<=a;i++)n[i]=o=o+r[i-1]<<1;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=S(n[t]++,t))}},E=e=>{let t;for(t=0;t<n;t++)e.dyn_ltree[2*t]=0;for(t=0;t<i;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,
e.opt_len=e.static_len=0,e.last_lit=e.matches=0},z=e=>{e.bi_valid>8?x(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},I=(e,t,r,n)=>{const i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]},N=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&I(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!I(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},T=(e,t,n)=>{let i,a,c,f,d=0;if(0!==e.last_lit)do{
i=e.pending_buf[e.d_buf+2*d]<<8|e.pending_buf[e.d_buf+2*d+1],a=e.pending_buf[e.l_buf+d],d++,0===i?k(e,a,t):(c=l[a],k(e,c+r+1,t),f=s[c],0!==f&&(a-=p[c],A(e,a,f)),i--,c=w(i),k(e,c,n),f=o[c],0!==f&&(i-=b[c],A(e,i,f)))}while(d<e.last_lit);k(e,256,t)},P=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,c,f,d=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<s;o++)0!==r[2*o]?(e.heap[++e.heap_len]=d=o,e.depth[o]=0):r[2*o+1]=0
;for(;e.heap_len<2;)f=e.heap[++e.heap_len]=d<2?++d:0,r[2*f]=1,e.depth[f]=0,e.opt_len--,i&&(e.static_len-=n[2*f+1]);for(t.max_code=d,o=e.heap_len>>1;o>=1;o--)N(e,r,o);f=s;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],N(e,r,1),c=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=c,r[2*f]=r[2*o]+r[2*c],e.depth[f]=(e.depth[o]>=e.depth[c]?e.depth[o]:e.depth[c])+1,r[2*o+1]=r[2*c+1]=f,e.heap[1]=f++,N(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{
const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,c=t.stat_desc.extra_base,f=t.stat_desc.max_length;let d,u,h,l,p,b,y=0;for(l=0;l<=a;l++)e.bl_count[l]=0;for(r[2*e.heap[e.heap_max]+1]=0,d=e.heap_max+1;d<573;d++)u=e.heap[d],l=r[2*r[2*u+1]+1]+1,l>f&&(l=f,y++),r[2*u+1]=l,u>n||(e.bl_count[l]++,p=0,u>=c&&(p=o[u-c]),b=r[2*u],e.opt_len+=b*(l+p),s&&(e.static_len+=b*(i[2*u+1]+p)));if(0!==y){do{for(l=f-1;0===e.bl_count[l];)l--;e.bl_count[l]--,
e.bl_count[l+1]+=2,e.bl_count[f]--,y-=2}while(y>0);for(l=f;0!==l;l--)for(u=e.bl_count[l];0!==u;)h=e.heap[--d],h>n||(r[2*h+1]!==l&&(e.opt_len+=(l-r[2*h+1])*r[2*h],r[2*h+1]=l),u--)}})(e,t),M(r,d,e.bl_count)},R=(e,t,r)=>{let n,i,a=-1,s=t[1],o=0,c=7,f=4;for(0===s&&(c=138,f=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++o<c&&i===s||(o<f?e.bl_tree[2*i]+=o:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,a=i,0===s?(c=138,f=3):i===s?(c=6,f=3):(c=7,f=4))
},O=(e,t,r)=>{let n,i,a=-1,s=t[1],o=0,c=7,f=4;for(0===s&&(c=138,f=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++o<c&&i===s)){if(o<f)do{k(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==a&&(k(e,i,e.bl_tree),o--),k(e,16,e.bl_tree),A(e,o-3,2)):o<=10?(k(e,17,e.bl_tree),A(e,o-3,3)):(k(e,18,e.bl_tree),A(e,o-11,7));o=0,a=i,0===s?(c=138,f=3):i===s?(c=6,f=3):(c=7,f=4)}};let B=!1;const U=(e,t,r,n)=>{A(e,0+(n?1:0),3),((e,t,r,n)=>{z(e),n&&(x(e,r),x(e,~r)),e.pending_buf.set(e.window.subarray(t,t+r),e.pending),
e.pending+=r})(e,t,r,!0)};var C=e=>{B||((()=>{let e,t,r,f,_;const w=new Array(16);for(r=0,f=0;f<28;f++)for(p[f]=r,e=0;e<1<<s[f];e++)l[r++]=f;for(l[r-1]=f,_=0,f=0;f<16;f++)for(b[f]=_,e=0;e<1<<o[f];e++)h[_++]=f;for(_>>=7;f<i;f++)for(b[f]=_<<7,e=0;e<1<<o[f]-7;e++)h[256+_++]=f;for(t=0;t<=a;t++)w[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,w[8]++;for(;e<=255;)d[2*e+1]=9,e++,w[9]++;for(;e<=279;)d[2*e+1]=7,e++,w[7]++;for(;e<=287;)d[2*e+1]=8,e++,w[8]++;for(M(d,287,w),e=0;e<i;e++)u[2*e+1]=5,u[2*e]=S(e,5)
;m=new y(d,s,257,n,a),v=new y(u,o,0,i,a),g=new y(new Array(0),c,0,19,7)})(),B=!0),e.l_desc=new _(e.dyn_ltree,m),e.d_desc=new _(e.dyn_dtree,v),e.bl_desc=new _(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,E(e)},q=(e,t,n,i)=>{let a,s,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<r;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0
})(e)),P(e,e.l_desc),P(e,e.d_desc),o=(e=>{let t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),P(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*f[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?U(e,t,n,i):4===e.strategy||s===a?(A(e,2+(i?1:0),3),T(e,d,u)):(A(e,4+(i?1:0),3),((e,t,r,n)=>{let i;for(A(e,t-257,5),A(e,r-1,5),A(e,n-4,4),i=0;i<n;i++)A(e,e.bl_tree[2*f[i]+1],3);O(e,e.dyn_ltree,t-1),
O(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),T(e,e.dyn_ltree,e.dyn_dtree)),E(e),i&&z(e)},j=(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(l[n]+r+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1),D=e=>{A(e,2,3),k(e,256,d),(e=>{16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,
e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},F={_tr_init:C,_tr_stored_block:U,_tr_flush_block:q,_tr_tally:j,_tr_align:D};var L=(e,t,r,n)=>{let i=65535&e|0,a=e>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+t[n++]|0,a=a+i|0}while(--s);i%=65521,a%=65521}return i|a<<16|0};const K=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());var V=(e,t,r,n)=>{
const i=K,a=n+r;e^=-1;for(let r=n;r<a;r++)e=e>>>8^i[255&(e^t[r])];return-1^e},W={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Z={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,
Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}
;const{_tr_init:H,_tr_stored_block:$,_tr_flush_block:J,_tr_tally:G,_tr_align:Y}=F,{Z_NO_FLUSH:X,Z_PARTIAL_FLUSH:Q,Z_FULL_FLUSH:ee,Z_FINISH:te,Z_BLOCK:re,Z_OK:ne,Z_STREAM_END:ie,Z_STREAM_ERROR:ae,Z_DATA_ERROR:se,Z_BUF_ERROR:oe,Z_DEFAULT_COMPRESSION:ce,Z_FILTERED:fe,Z_HUFFMAN_ONLY:de,Z_RLE:ue,Z_FIXED:he,Z_DEFAULT_STRATEGY:le,Z_UNKNOWN:pe,Z_DEFLATED:be}=Z,ye=258,me=262,ve=103,ge=113,_e=666,we=(e,t)=>(e.msg=W[t],t),xe=e=>(e<<1)-(e>4?9:0),Ae=e=>{let t=e.length;for(;--t>=0;)e[t]=0}
;let ke=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask;const Se=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},Me=(e,t)=>{J(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Se(e.strm)},Ee=(e,t)=>{e.pending_buf[e.pending++]=t},ze=(e,t)=>{
e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ie=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),1===e.state.wrap?e.adler=L(e.adler,t,i,r):2===e.state.wrap&&(e.adler=V(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},Ne=(e,t)=>{let r,n,i=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-me?e.strstart-(e.w_size-me):0,f=e.window,d=e.w_mask,u=e.prev,h=e.strstart+ye
;let l=f[a+s-1],p=f[a+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(r=t,f[r+s]===p&&f[r+s-1]===l&&f[r]===f[a]&&f[++r]===f[a+1]){a+=2,r++;do{}while(f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&a<h);if(n=ye-(h-a),a=h-ye,n>s){if(e.match_start=t,s=n,n>=o)break;l=f[a+s-1],p=f[a+s]}}}while((t=u[t&d])>c&&0!=--i);return s<=e.lookahead?s:e.lookahead},Te=e=>{const t=e.w_size
;let r,n,i,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-me)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do{i=e.head[--r],e.head[r]=i>=t?i-t:0}while(--n);n=t,r=n;do{i=e.prev[--r],e.prev[r]=i>=t?i-t:0}while(--n);a+=t}if(0===e.strm.avail_in)break;if(n=Ie(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],
e.ins_h=ke(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=ke(e,e.ins_h,e.window[s+3-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<me&&0!==e.strm.avail_in)},Pe=(e,t)=>{let r,n;for(;;){if(e.lookahead<me){if(Te(e),e.lookahead<me&&t===X)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=ke(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),
0!==r&&e.strstart-r<=e.w_size-me&&(e.match_length=Ne(e,r)),e.match_length>=3)if(n=G(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=ke(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],
e.ins_h=ke(e,e.ins_h,e.window[e.strstart+1]);else n=G(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Me(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===te?(Me(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Me(e,!1),0===e.strm.avail_out)?1:2},Re=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<me){if(Te(e),e.lookahead<me&&t===X)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=ke(e,e.ins_h,e.window[e.strstart+3-1]),
r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-me&&(e.match_length=Ne(e,r),e.match_length<=5&&(e.strategy===fe||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=G(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,
e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=ke(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Me(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=G(e,0,e.window[e.strstart-1]),n&&Me(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}
return e.match_available&&(n=G(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===te?(Me(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Me(e,!1),0===e.strm.avail_out)?1:2};function Oe(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const Be=[new Oe(0,0,0,0,((e,t)=>{let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Te(e),0===e.lookahead&&t===X)return 1;if(0===e.lookahead)break}
e.strstart+=e.lookahead,e.lookahead=0;const n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Me(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-me&&(Me(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===te?(Me(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Me(e,!1),e.strm.avail_out),1)
})),new Oe(4,4,8,4,Pe),new Oe(4,5,16,8,Pe),new Oe(4,6,32,32,Pe),new Oe(4,4,16,16,Re),new Oe(8,16,32,32,Re),new Oe(8,16,128,128,Re),new Oe(8,32,128,256,Re),new Oe(32,128,258,1024,Re),new Oe(32,258,258,4096,Re)];function Ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=be,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,
this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ae(this.dyn_ltree),
Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ce=e=>{if(!e||!e.state)return we(e,ae);e.total_in=e.total_out=0,e.data_type=pe;const t=e.state
;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:ge,e.adler=2===t.wrap?0:1,t.last_flush=X,H(t),ne},qe=e=>{const t=Ce(e);return t===ne&&(e=>{e.window_size=2*e.w_size,Ae(e.head),e.max_lazy_match=Be[e.level].max_lazy,e.good_match=Be[e.level].good_length,e.nice_match=Be[e.level].nice_length,e.max_chain_length=Be[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t
},je=(e,t,r,n,i,a)=>{if(!e)return ae;let s=1;if(t===ce&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||r!==be||n<8||n>15||t<0||t>9||a<0||a>he)return we(e,ae);8===n&&(n=9);const o=new Ue;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),
o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=a,o.method=r,qe(e)};var De=(e,t)=>{let r,n;if(!e||!e.state||t>re||t<0)return e?we(e,ae):ae;const i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===_e&&t!==te)return we(e,0===e.avail_out?oe:ae);i.strm=e;const a=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,Ee(i,31),Ee(i,139),Ee(i,8),
i.gzhead?(Ee(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Ee(i,255&i.gzhead.time),Ee(i,i.gzhead.time>>8&255),Ee(i,i.gzhead.time>>16&255),Ee(i,i.gzhead.time>>24&255),Ee(i,9===i.level?2:i.strategy>=de||i.level<2?4:0),Ee(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Ee(i,255&i.gzhead.extra.length),Ee(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=V(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,
i.status=69):(Ee(i,0),Ee(i,0),Ee(i,0),Ee(i,0),Ee(i,0),Ee(i,9===i.level?2:i.strategy>=de||i.level<2?4:0),Ee(i,3),i.status=ge);else{let t=be+(i.w_bits-8<<4)<<8,r=-1;r=i.strategy>=de||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=r<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=ge,ze(i,t),0!==i.strstart&&(ze(i,e.adler>>>16),ze(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){
for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(e.adler=V(e.adler,i.pending_buf,i.pending-r,r)),Se(e),r=i.pending,i.pending!==i.pending_buf_size));)Ee(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(e.adler=V(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{
if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=V(e.adler,i.pending_buf,i.pending-r,r)),Se(e),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Ee(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(e.adler=V(e.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{
if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=V(e.adler,i.pending_buf,i.pending-r,r)),Se(e),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Ee(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(e.adler=V(e.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=ve)}else i.status=ve;if(i.status===ve&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Se(e),
i.pending+2<=i.pending_buf_size&&(Ee(i,255&e.adler),Ee(i,e.adler>>8&255),e.adler=0,i.status=ge)):i.status=ge),0!==i.pending){if(Se(e),0===e.avail_out)return i.last_flush=-1,ne}else if(0===e.avail_in&&xe(t)<=xe(a)&&t!==te)return we(e,oe);if(i.status===_e&&0!==e.avail_in)return we(e,oe);if(0!==e.avail_in||0!==i.lookahead||t!==X&&i.status!==_e){let r=i.strategy===de?((e,t)=>{let r;for(;;){if(0===e.lookahead&&(Te(e),0===e.lookahead)){if(t===X)return 1;break}if(e.match_length=0,
r=G(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Me(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===te?(Me(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Me(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===ue?((e,t)=>{let r,n,i,a;const s=e.window;for(;;){if(e.lookahead<=ye){if(Te(e),e.lookahead<=ye&&t===X)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=e.strstart+ye
;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=ye-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=G(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=G(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Me(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===te?(Me(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Me(e,!1),
0===e.strm.avail_out)?1:2})(i,t):Be[i.level].func(i,t);if(3!==r&&4!==r||(i.status=_e),1===r||3===r)return 0===e.avail_out&&(i.last_flush=-1),ne;if(2===r&&(t===Q?Y(i):t!==re&&($(i,0,0,!1),t===ee&&(Ae(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Se(e),0===e.avail_out))return i.last_flush=-1,ne}return t!==te?ne:i.wrap<=0?ie:(2===i.wrap?(Ee(i,255&e.adler),Ee(i,e.adler>>8&255),Ee(i,e.adler>>16&255),Ee(i,e.adler>>24&255),Ee(i,255&e.total_in),Ee(i,e.total_in>>8&255),
Ee(i,e.total_in>>16&255),Ee(i,e.total_in>>24&255)):(ze(i,e.adler>>>16),ze(i,65535&e.adler)),Se(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?ne:ie)},Fe=(e,t)=>{let r=t.length;if(!e||!e.state)return ae;const n=e.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return ae;if(1===i&&(e.adler=L(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Ae(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}
const a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Te(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=ke(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,Te(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,n.wrap=i,ne},Le={
deflateInit:(e,t)=>je(e,t,be,15,8,le),deflateInit2:je,deflateReset:qe,deflateResetKeep:Ce,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?ae:(e.state.gzhead=t,ne):ae,deflate:De,deflateEnd:e=>{if(!e||!e.state)return ae;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==ve&&t!==ge&&t!==_e?we(e,ae):(e.state=null,t===ge?we(e,se):ne)},deflateSetDictionary:Fe,deflateInfo:"pako deflate (from Nodeca project)"};const Ke=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)
;var Ve=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const t in r)Ke(r,t)&&(e[t]=r[t])}}return e},We=e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;const r=new Uint8Array(t);for(let t=0,n=0,i=e.length;t<i;t++){let i=e[t];r.set(i,n),n+=i.length}return r};let Ze=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Ze=!1}const He=new Uint8Array(256)
;for(let e=0;e<256;e++)He[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;He[254]=He[254]=1;var $e=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)r=e.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=e.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)r=e.charCodeAt(i),
55296==(64512&r)&&i+1<s&&(n=e.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t},Je=(e,t)=>{const r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,i;const a=new Array(2*r);for(i=0,
n=0;n<r;){let t=e[n++];if(t<128){a[i++]=t;continue}let s=He[t];if(s>4)a[i++]=65533,n+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&n<r;)t=t<<6|63&e[n++],s--;s>1?a[i++]=65533:t<65536?a[i++]=t:(t-=65536,a[i++]=55296|t>>10&1023,a[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Ze)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r})(a,i)},Ge=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1
;for(;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+He[e[r]]>t?r:t};var Ye=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Xe=Object.prototype.toString,{Z_NO_FLUSH:Qe,Z_SYNC_FLUSH:et,Z_FULL_FLUSH:tt,Z_FINISH:rt,Z_OK:nt,Z_STREAM_END:it,Z_DEFAULT_COMPRESSION:at,Z_DEFAULT_STRATEGY:st,Z_DEFLATED:ot}=Z;function ct(e){this.options=Ve({
level:at,method:ot,chunkSize:16384,windowBits:15,memLevel:8,strategy:st},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ye,this.strm.avail_out=0;let r=Le.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==nt)throw new Error(W[r]);if(t.header&&Le.deflateSetHeader(this.strm,t.header),t.dictionary){let e
;if(e="string"==typeof t.dictionary?$e(t.dictionary):"[object ArrayBuffer]"===Xe.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,r=Le.deflateSetDictionary(this.strm,e),r!==nt)throw new Error(W[r]);this._dict_set=!0}}function ft(e,t){const r=new ct(t);if(r.push(e,!0),r.err)throw r.msg||W[r.err];return r.result}ct.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?rt:Qe,
"string"==typeof e?r.input=$e(e):"[object ArrayBuffer]"===Xe.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===et||a===tt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=Le.deflate(r,a),i===it)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Le.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===nt;if(0!==r.avail_out){
if(a>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ct.prototype.onData=function(e){this.chunks.push(e)},ct.prototype.onEnd=function(e){e===nt&&(this.result=We(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var dt={Deflate:ct,deflate:ft,deflateRaw:function(e,t){return(t=t||{}).raw=!0,ft(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,ft(e,t)},constants:Z};var ut=function(e,t){
let r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_,w,x,A,k,S;const M=e.state;r=e.next_in,k=e.input,n=r+(e.avail_in-5),i=e.next_out,S=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),o=M.dmax,c=M.wsize,f=M.whave,d=M.wnext,u=M.window,h=M.hold,l=M.bits,p=M.lencode,b=M.distcode,y=(1<<M.lenbits)-1,m=(1<<M.distbits)-1;e:do{l<15&&(h+=k[r++]<<l,l+=8,h+=k[r++]<<l,l+=8),v=p[h&y];t:for(;;){if(g=v>>>24,h>>>=g,l-=g,g=v>>>16&255,0===g)S[i++]=65535&v;else{if(!(16&g)){if(0==(64&g)){v=p[(65535&v)+(h&(1<<g)-1)]
;continue t}if(32&g){M.mode=12;break e}e.msg="invalid literal/length code",M.mode=30;break e}_=65535&v,g&=15,g&&(l<g&&(h+=k[r++]<<l,l+=8),_+=h&(1<<g)-1,h>>>=g,l-=g),l<15&&(h+=k[r++]<<l,l+=8,h+=k[r++]<<l,l+=8),v=b[h&m];r:for(;;){if(g=v>>>24,h>>>=g,l-=g,g=v>>>16&255,!(16&g)){if(0==(64&g)){v=b[(65535&v)+(h&(1<<g)-1)];continue r}e.msg="invalid distance code",M.mode=30;break e}if(w=65535&v,g&=15,l<g&&(h+=k[r++]<<l,l+=8,l<g&&(h+=k[r++]<<l,l+=8)),w+=h&(1<<g)-1,w>o){
e.msg="invalid distance too far back",M.mode=30;break e}if(h>>>=g,l-=g,g=i-a,w>g){if(g=w-g,g>f&&M.sane){e.msg="invalid distance too far back",M.mode=30;break e}if(x=0,A=u,0===d){if(x+=c-g,g<_){_-=g;do{S[i++]=u[x++]}while(--g);x=i-w,A=S}}else if(d<g){if(x+=c+d-g,g-=d,g<_){_-=g;do{S[i++]=u[x++]}while(--g);if(x=0,d<_){g=d,_-=g;do{S[i++]=u[x++]}while(--g);x=i-w,A=S}}}else if(x+=d-g,g<_){_-=g;do{S[i++]=u[x++]}while(--g);x=i-w,A=S}for(;_>2;)S[i++]=A[x++],S[i++]=A[x++],S[i++]=A[x++],_-=3
;_&&(S[i++]=A[x++],_>1&&(S[i++]=A[x++]))}else{x=i-w;do{S[i++]=S[x++],S[i++]=S[x++],S[i++]=S[x++],_-=3}while(_>2);_&&(S[i++]=S[x++],_>1&&(S[i++]=S[x++]))}break}}break}}while(r<n&&i<s);_=l>>3,r-=_,l-=_<<3,h&=(1<<l)-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=i<s?s-i+257:257-(i-s),M.hold=h,M.bits=l}
;const ht=15,lt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),pt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),bt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64])
;var mt=(e,t,r,n,i,a,s,o)=>{const c=o.bits;let f,d,u,h,l,p,b=0,y=0,m=0,v=0,g=0,_=0,w=0,x=0,A=0,k=0,S=null,M=0;const E=new Uint16Array(16),z=new Uint16Array(16);let I,N,T,P=null,R=0;for(b=0;b<=ht;b++)E[b]=0;for(y=0;y<n;y++)E[t[r+y]]++;for(g=c,v=ht;v>=1&&0===E[v];v--);if(g>v&&(g=v),0===v)return i[a++]=20971520,i[a++]=20971520,o.bits=1,0;for(m=1;m<v&&0===E[m];m++);for(g<m&&(g=m),x=1,b=1;b<=ht;b++)if(x<<=1,x-=E[b],x<0)return-1;if(x>0&&(0===e||1!==v))return-1;for(z[1]=0,b=1;b<ht;b++)z[b+1]=z[b]+E[b]
;for(y=0;y<n;y++)0!==t[r+y]&&(s[z[t[r+y]]++]=y);if(0===e?(S=P=s,p=19):1===e?(S=lt,M-=257,P=pt,R-=257,p=256):(S=bt,P=yt,p=-1),k=0,y=0,b=m,l=a,_=g,w=0,u=-1,A=1<<g,h=A-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){I=b-w,s[y]<p?(N=0,T=s[y]):s[y]>p?(N=P[R+s[y]],T=S[M+s[y]]):(N=96,T=0),f=1<<b-w,d=1<<_,m=d;do{d-=f,i[l+(k>>w)+d]=I<<24|N<<16|T|0}while(0!==d);for(f=1<<b-1;k&f;)f>>=1;if(0!==f?(k&=f-1,k+=f):k=0,y++,0==--E[b]){if(b===v)break;b=t[r+s[y]]}if(b>g&&(k&h)!==u){for(0===w&&(w=g),l+=m,_=b-w,
x=1<<_;_+w<v&&(x-=E[_+w],!(x<=0));)_++,x<<=1;if(A+=1<<_,1===e&&A>852||2===e&&A>592)return 1;u=k&h,i[u]=g<<24|_<<16|l-a|0}}return 0!==k&&(i[l+k]=b-w<<24|64<<16|0),o.bits=g,0};const{Z_FINISH:vt,Z_BLOCK:gt,Z_TREES:_t,Z_OK:wt,Z_STREAM_END:xt,Z_NEED_DICT:At,Z_STREAM_ERROR:kt,Z_DATA_ERROR:St,Z_MEM_ERROR:Mt,Z_BUF_ERROR:Et,Z_DEFLATED:zt}=Z,It=12,Nt=30,Tt=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Pt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,
this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Rt=e=>{if(!e||!e.state)return kt
;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,wt},Ot=e=>{if(!e||!e.state)return kt;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Rt(e)},Bt=(e,t)=>{let r;if(!e||!e.state)return kt;const n=e.state;return t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),
t&&(t<8||t>15)?kt:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Ot(e))},Ut=(e,t)=>{if(!e)return kt;const r=new Pt;e.state=r,r.window=null;const n=Bt(e,t);return n!==wt&&(e.state=null),n};let Ct,qt,jt=!0;const Dt=e=>{if(jt){Ct=new Int32Array(512),qt=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(mt(1,e.lens,0,288,Ct,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;mt(2,e.lens,0,32,qt,0,e.work,{
bits:5}),jt=!1}e.lencode=Ct,e.lenbits=9,e.distcode=qt,e.distbits=5},Ft=(e,t,r,n)=>{let i;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-=i)?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),
0};var Lt=(e,t)=>{let r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_,w,x,A,k=0;const S=new Uint8Array(4);let M,E;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return kt;r=e.state,r.mode===It&&(r.mode=13),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,f=r.hold,d=r.bits,u=o,h=c,A=wt;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;d<16;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}
if(2&r.wrap&&35615===f){r.check=0,S[0]=255&f,S[1]=f>>>8&255,r.check=V(r.check,S,2,0),f=0,d=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=Nt;break}if((15&f)!==zt){e.msg="unknown compression method",r.mode=Nt;break}if(f>>>=4,d-=4,x=8+(15&f),0===r.wbits)r.wbits=x;else if(x>r.wbits){e.msg="invalid window size",r.mode=Nt;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&f?10:It,f=0,d=0;break;case 2:for(;d<16;){
if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(r.flags=f,(255&r.flags)!==zt){e.msg="unknown compression method",r.mode=Nt;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=Nt;break}r.head&&(r.head.text=f>>8&1),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,r.check=V(r.check,S,2,0)),f=0,d=0,r.mode=3;case 3:for(;d<32;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}r.head&&(r.head.time=f),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,S[2]=f>>>16&255,S[3]=f>>>24&255,r.check=V(r.check,S,4,0)),f=0,d=0,r.mode=4
;case 4:for(;d<16;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,r.check=V(r.check,S,2,0)),f=0,d=0,r.mode=5;case 5:if(1024&r.flags){for(;d<16;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,r.check=V(r.check,S,2,0)),f=0,d=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(l=r.length,l>o&&(l=o),
l&&(r.head&&(x=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+l),x)),512&r.flags&&(r.check=V(r.check,n,l,a)),o-=l,a+=l,r.length-=l),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;l=0;do{x=n[a+l++],r.head&&x&&r.length<65536&&(r.head.name+=String.fromCharCode(x))}while(x&&l<o);if(512&r.flags&&(r.check=V(r.check,n,l,a)),o-=l,a+=l,x)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8
;case 8:if(4096&r.flags){if(0===o)break e;l=0;do{x=n[a+l++],r.head&&x&&r.length<65536&&(r.head.comment+=String.fromCharCode(x))}while(x&&l<o);if(512&r.flags&&(r.check=V(r.check,n,l,a)),o-=l,a+=l,x)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;d<16;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(f!==(65535&r.check)){e.msg="header crc mismatch",r.mode=Nt;break}f=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=It;break;case 10:
for(;d<32;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}e.adler=r.check=Tt(f),f=0,d=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=f,r.bits=d,At;e.adler=r.check=1,r.mode=It;case It:if(t===gt||t===_t)break e;case 13:if(r.last){f>>>=7&d,d-=7&d,r.mode=27;break}for(;d<3;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}switch(r.last=1&f,f>>>=1,d-=1,3&f){case 0:r.mode=14;break;case 1:if(Dt(r),r.mode=20,t===_t){f>>>=2,d-=2;break e}break;case 2:r.mode=17;break
;case 3:e.msg="invalid block type",r.mode=Nt}f>>>=2,d-=2;break;case 14:for(f>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if((65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Nt;break}if(r.length=65535&f,f=0,d=0,r.mode=15,t===_t)break e;case 15:r.mode=16;case 16:if(l=r.length,l){if(l>o&&(l=o),l>c&&(l=c),0===l)break e;i.set(n.subarray(a,a+l),s),o-=l,a+=l,c-=l,s+=l,r.length-=l;break}r.mode=It;break;case 17:for(;d<14;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}
if(r.nlen=257+(31&f),f>>>=5,d-=5,r.ndist=1+(31&f),f>>>=5,d-=5,r.ncode=4+(15&f),f>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Nt;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;d<3;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}r.lens[z[r.have++]]=7&f,f>>>=3,d-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},A=mt(0,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,A){e.msg="invalid code lengths set",
r.mode=Nt;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[f&(1<<r.lenbits)-1],y=k>>>24,m=k>>>16&255,v=65535&k,!(y<=d);){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(v<16)f>>>=y,d-=y,r.lens[r.have++]=v;else{if(16===v){for(E=y+2;d<E;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(f>>>=y,d-=y,0===r.have){e.msg="invalid bit length repeat",r.mode=Nt;break}x=r.lens[r.have-1],l=3+(3&f),f>>>=2,d-=2}else if(17===v){for(E=y+3;d<E;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}f>>>=y,
d-=y,x=0,l=3+(7&f),f>>>=3,d-=3}else{for(E=y+7;d<E;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}f>>>=y,d-=y,x=0,l=11+(127&f),f>>>=7,d-=7}if(r.have+l>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Nt;break}for(;l--;)r.lens[r.have++]=x}}if(r.mode===Nt)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=Nt;break}if(r.lenbits=9,M={bits:r.lenbits},A=mt(1,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,A){e.msg="invalid literal/lengths set",r.mode=Nt;break}
if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},A=mt(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,A){e.msg="invalid distances set",r.mode=Nt;break}if(r.mode=20,t===_t)break e;case 20:r.mode=21;case 21:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=f,r.bits=d,ut(e,h),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,f=r.hold,d=r.bits,r.mode===It&&(r.back=-1);break}for(r.back=0;k=r.lencode[f&(1<<r.lenbits)-1],
y=k>>>24,m=k>>>16&255,v=65535&k,!(y<=d);){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(m&&0==(240&m)){for(g=y,_=m,w=v;k=r.lencode[w+((f&(1<<g+_)-1)>>g)],y=k>>>24,m=k>>>16&255,v=65535&k,!(g+y<=d);){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}f>>>=g,d-=g,r.back+=g}if(f>>>=y,d-=y,r.back+=y,r.length=v,0===m){r.mode=26;break}if(32&m){r.back=-1,r.mode=It;break}if(64&m){e.msg="invalid literal/length code",r.mode=Nt;break}r.extra=15&m,r.mode=22;case 22:if(r.extra){for(E=r.extra;d<E;){if(0===o)break e;o--,
f+=n[a++]<<d,d+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;k=r.distcode[f&(1<<r.distbits)-1],y=k>>>24,m=k>>>16&255,v=65535&k,!(y<=d);){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(0==(240&m)){for(g=y,_=m,w=v;k=r.distcode[w+((f&(1<<g+_)-1)>>g)],y=k>>>24,m=k>>>16&255,v=65535&k,!(g+y<=d);){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}f>>>=g,d-=g,r.back+=g}if(f>>>=y,d-=y,r.back+=y,64&m){e.msg="invalid distance code",r.mode=Nt;break}r.offset=v,
r.extra=15&m,r.mode=24;case 24:if(r.extra){for(E=r.extra;d<E;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Nt;break}r.mode=25;case 25:if(0===c)break e;if(l=h-c,r.offset>l){if(l=r.offset-l,l>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Nt;break}l>r.wnext?(l-=r.wnext,p=r.wsize-l):p=r.wnext-l,l>r.length&&(l=r.length),b=r.window}else b=i,p=s-r.offset,
l=r.length;l>c&&(l=c),c-=l,r.length-=l;do{i[s++]=b[p++]}while(--l);0===r.length&&(r.mode=21);break;case 26:if(0===c)break e;i[s++]=r.length,c--,r.mode=21;break;case 27:if(r.wrap){for(;d<32;){if(0===o)break e;o--,f|=n[a++]<<d,d+=8}if(h-=c,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?V(r.check,i,h,s-h):L(r.check,i,h,s-h)),h=c,(r.flags?f:Tt(f))!==r.check){e.msg="incorrect data check",r.mode=Nt;break}f=0,d=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;d<32;){if(0===o)break e;o--,
f+=n[a++]<<d,d+=8}if(f!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=Nt;break}f=0,d=0}r.mode=29;case 29:A=xt;break e;case Nt:A=St;break e;case 31:return Mt;default:return kt}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=f,r.bits=d,(r.wsize||h!==e.avail_out&&r.mode<Nt&&(r.mode<27||t!==vt))&&Ft(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,r.total+=h,
r.wrap&&h&&(e.adler=r.check=r.flags?V(r.check,i,h,e.next_out-h):L(r.check,i,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===It?128:0)+(20===r.mode||15===r.mode?256:0),(0===u&&0===h||t===vt)&&A===wt&&(A=Et),A},Kt={inflateReset:Ot,inflateReset2:Bt,inflateResetKeep:Rt,inflateInit:e=>Ut(e,15),inflateInit2:Ut,inflate:Lt,inflateEnd:e=>{if(!e||!e.state)return kt;let t=e.state;return t.window&&(t.window=null),e.state=null,wt},inflateGetHeader:(e,t)=>{if(!e||!e.state)return kt;const r=e.state
;return 0==(2&r.wrap)?kt:(r.head=t,t.done=!1,wt)},inflateSetDictionary:(e,t)=>{const r=t.length;let n,i,a;return e&&e.state?(n=e.state,0!==n.wrap&&11!==n.mode?kt:11===n.mode&&(i=1,i=L(i,t,r,0),i!==n.check)?St:(a=Ft(e,t,r,r),a?(n.mode=31,Mt):(n.havedict=1,wt))):kt},inflateInfo:"pako inflate (from Nodeca project)"};var Vt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}
;const Wt=Object.prototype.toString,{Z_NO_FLUSH:Zt,Z_FINISH:Ht,Z_OK:$t,Z_STREAM_END:Jt,Z_NEED_DICT:Gt,Z_STREAM_ERROR:Yt,Z_DATA_ERROR:Xt,Z_MEM_ERROR:Qt}=Z;function er(e){this.options=Ve({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),
t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ye,this.strm.avail_out=0;let r=Kt.inflateInit2(this.strm,t.windowBits);if(r!==$t)throw new Error(W[r]);if(this.header=new Vt,Kt.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=$e(t.dictionary):"[object ArrayBuffer]"===Wt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),
t.raw&&(r=Kt.inflateSetDictionary(this.strm,t.dictionary),r!==$t)))throw new Error(W[r])}function tr(e,t){const r=new er(t);if(r.push(e),r.err)throw r.msg||W[r.err];return r.result}er.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(s=t===~~t?t:!0===t?Ht:Zt,"[object ArrayBuffer]"===Wt.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){
for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Kt.inflate(r,s),a===Gt&&i&&(a=Kt.inflateSetDictionary(r,i),a===$t?a=Kt.inflate(r,s):a===Xt&&(a=Gt));r.avail_in>0&&a===Jt&&r.state.wrap>0&&0!==e[r.next_in];)Kt.inflateReset(r),a=Kt.inflate(r,s);switch(a){case Yt:case Xt:case Gt:case Qt:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(0===r.avail_out||a===Jt))if("string"===this.options.to){let e=Ge(r.output,r.next_out),t=r.next_out-e,i=Je(r.output,e)
;r.next_out=t,r.avail_out=n-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==$t||0!==o){if(a===Jt)return a=Kt.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},er.prototype.onData=function(e){this.chunks.push(e)},er.prototype.onEnd=function(e){e===$t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=We(this.chunks)),
this.chunks=[],this.err=e,this.msg=this.strm.msg};var rr={Inflate:er,inflate:tr,inflateRaw:function(e,t){return(t=t||{}).raw=!0,tr(e,t)},ungzip:tr,constants:Z};const{Deflate:nr,deflate:ir,deflateRaw:ar,gzip:sr}=dt,{Inflate:or,inflate:cr,inflateRaw:fr,ungzip:dr}=rr;var ur={Deflate:nr,deflate:ir,deflateRaw:ar,gzip:sr,Inflate:or,inflate:cr,inflateRaw:fr,ungzip:dr,constants:Z
},hr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function lr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pr(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){
return e[r]}})})),t}var br,yr={exports:{}},mr=pr(Object.freeze({__proto__:null,default:{}}));function vr(e){this.rand=e}if(yr.exports=function(e){return br||(br=new vr(null)),br.generate(e)},yr.exports.Rand=vr,vr.prototype.generate=function(e){return this._rand(e)},vr.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},
"object"==typeof self)self.crypto&&self.crypto.getRandomValues?vr.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?vr.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(vr.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var gr=mr;if("function"!=typeof gr.randomBytes)throw new Error("Not supported")
;vr.prototype._rand=function(e){return gr.randomBytes(e)}}catch(Ig){}var _r=yr.exports,wr={},xr={},Ar=kr;function kr(e,t){if(!e)throw new Error(t||"Assertion failed")}kr.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Sr={exports:{}};"function"==typeof Object.create?Sr.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Sr.exports=function(e,t){if(t){e.super_=t
;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var Mr=Ar,Er=Sr.exports;function zr(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function Ir(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function Nr(e){return 1===e.length?"0"+e:e}function Tr(e){
return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}xr.inherits=Er,xr.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i)
;a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):zr(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},xr.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=Nr(e[r].toString(16));return t},xr.htonl=Ir,xr.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=Ir(i)),
r+=Tr(i.toString(16))}return r},xr.zero2=Nr,xr.zero8=Tr,xr.join32=function(e,t,r,n){var i=r-t;Mr(i%4==0);for(var a=new Array(i/4),s=0,o=t;s<a.length;s++,o+=4){var c;c="big"===n?e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],a[s]=c>>>0}return a},xr.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,
r[i]=255&a)}return r},xr.rotr32=function(e,t){return e>>>t|e<<32-t},xr.rotl32=function(e,t){return e<<t|e>>>32-t},xr.sum32=function(e,t){return e+t>>>0},xr.sum32_3=function(e,t,r){return e+t+r>>>0},xr.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},xr.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},xr.sum64=function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,s=(a<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=a},xr.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},xr.sum64_lo=function(e,t,r,n){return t+n>>>0},
xr.sum64_4_hi=function(e,t,r,n,i,a,s,o){var c=0,f=t;return c+=(f=f+n>>>0)<t?1:0,c+=(f=f+a>>>0)<a?1:0,e+r+i+s+(c+=(f=f+o>>>0)<o?1:0)>>>0},xr.sum64_4_lo=function(e,t,r,n,i,a,s,o){return t+n+a+o>>>0},xr.sum64_5_hi=function(e,t,r,n,i,a,s,o,c,f){var d=0,u=t;return d+=(u=u+n>>>0)<t?1:0,d+=(u=u+a>>>0)<a?1:0,d+=(u=u+o>>>0)<o?1:0,e+r+i+s+c+(d+=(u=u+f>>>0)<f?1:0)>>>0},xr.sum64_5_lo=function(e,t,r,n,i,a,s,o,c,f){return t+n+a+o+f>>>0},xr.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},
xr.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},xr.shr64_hi=function(e,t,r){return e>>>r},xr.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var Pr={},Rr=xr,Or=Ar;function Br(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Pr.BlockHash=Br,
Br.prototype.update=function(e,t){if(e=Rr.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=Rr.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},Br.prototype.digest=function(e){
return this.update(this._pad()),Or(null===this.pending),this._digest(e)},Br.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,
n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n};var Ur={},Cr={},qr=xr.rotr32;function jr(e,t,r){return e&t^~e&r}function Dr(e,t,r){return e&t^e&r^t&r}function Fr(e,t,r){return e^t^r}Cr.ft_1=function(e,t,r,n){return 0===e?jr(t,r,n):1===e||3===e?Fr(t,r,n):2===e?Dr(t,r,n):void 0},Cr.ch32=jr,Cr.maj32=Dr,Cr.p32=Fr,Cr.s0_256=function(e){return qr(e,2)^qr(e,13)^qr(e,22)},Cr.s1_256=function(e){return qr(e,6)^qr(e,11)^qr(e,25)},Cr.g0_256=function(e){return qr(e,7)^qr(e,18)^e>>>3},
Cr.g1_256=function(e){return qr(e,17)^qr(e,19)^e>>>10};var Lr=xr,Kr=Pr,Vr=Cr,Wr=Lr.rotl32,Zr=Lr.sum32,Hr=Lr.sum32_5,$r=Vr.ft_1,Jr=Kr.BlockHash,Gr=[1518500249,1859775393,2400959708,3395469782];function Yr(){if(!(this instanceof Yr))return new Yr;Jr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Lr.inherits(Yr,Jr);var Xr=Yr;Yr.blockSize=512,Yr.outSize=160,Yr.hmacStrength=80,Yr.padLength=64,Yr.prototype._update=function(e,t){
for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Wr(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var f=~~(n/20),d=Hr(Wr(i,5),$r(f,a,s,o),c,r[n],Gr[f]);c=o,o=s,s=Wr(a,30),a=i,i=d}this.h[0]=Zr(this.h[0],i),this.h[1]=Zr(this.h[1],a),this.h[2]=Zr(this.h[2],s),this.h[3]=Zr(this.h[3],o),this.h[4]=Zr(this.h[4],c)},Yr.prototype._digest=function(e){
return"hex"===e?Lr.toHex32(this.h,"big"):Lr.split32(this.h,"big")}
;var Qr=xr,en=Pr,tn=Cr,rn=Ar,nn=Qr.sum32,an=Qr.sum32_4,sn=Qr.sum32_5,on=tn.ch32,cn=tn.maj32,fn=tn.s0_256,dn=tn.s1_256,un=tn.g0_256,hn=tn.g1_256,ln=en.BlockHash,pn=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]
;function bn(){if(!(this instanceof bn))return new bn;ln.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=pn,this.W=new Array(64)}Qr.inherits(bn,ln);var yn=bn;bn.blockSize=512,bn.outSize=256,bn.hmacStrength=192,bn.padLength=64,bn.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=an(hn(r[n-2]),r[n-7],un(r[n-15]),r[n-16])
;var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],f=this.h[5],d=this.h[6],u=this.h[7];for(rn(this.k.length===r.length),n=0;n<r.length;n++){var h=sn(u,dn(c),on(c,f,d),this.k[n],r[n]),l=nn(fn(i),cn(i,a,s));u=d,d=f,f=c,c=nn(o,h),o=s,s=a,a=i,i=nn(h,l)}this.h[0]=nn(this.h[0],i),this.h[1]=nn(this.h[1],a),this.h[2]=nn(this.h[2],s),this.h[3]=nn(this.h[3],o),this.h[4]=nn(this.h[4],c),this.h[5]=nn(this.h[5],f),this.h[6]=nn(this.h[6],d),this.h[7]=nn(this.h[7],u)},
bn.prototype._digest=function(e){return"hex"===e?Qr.toHex32(this.h,"big"):Qr.split32(this.h,"big")};var mn=xr,vn=yn;function gn(){if(!(this instanceof gn))return new gn;vn.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}mn.inherits(gn,vn);var _n=gn;gn.blockSize=512,gn.outSize=224,gn.hmacStrength=192,gn.padLength=64,gn.prototype._digest=function(e){return"hex"===e?mn.toHex32(this.h.slice(0,7),"big"):mn.split32(this.h.slice(0,7),"big")}
;var wn=xr,xn=Pr,An=Ar,kn=wn.rotr64_hi,Sn=wn.rotr64_lo,Mn=wn.shr64_hi,En=wn.shr64_lo,zn=wn.sum64,In=wn.sum64_hi,Nn=wn.sum64_lo,Tn=wn.sum64_4_hi,Pn=wn.sum64_4_lo,Rn=wn.sum64_5_hi,On=wn.sum64_5_lo,Bn=xn.BlockHash,Un=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]
;function Cn(){if(!(this instanceof Cn))return new Cn;Bn.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Un,this.W=new Array(160)}wn.inherits(Cn,Bn);var qn=Cn;function jn(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function Dn(e,t,r,n,i,a){var s=t&n^~t&a;return s<0&&(s+=4294967296),s}function Fn(e,t,r,n,i){var a=e&r^e&i^r&i
;return a<0&&(a+=4294967296),a}function Ln(e,t,r,n,i,a){var s=t&n^t&a^n&a;return s<0&&(s+=4294967296),s}function Kn(e,t){var r=kn(e,t,28)^kn(t,e,2)^kn(t,e,7);return r<0&&(r+=4294967296),r}function Vn(e,t){var r=Sn(e,t,28)^Sn(t,e,2)^Sn(t,e,7);return r<0&&(r+=4294967296),r}function Wn(e,t){var r=kn(e,t,14)^kn(e,t,18)^kn(t,e,9);return r<0&&(r+=4294967296),r}function Zn(e,t){var r=Sn(e,t,14)^Sn(e,t,18)^Sn(t,e,9);return r<0&&(r+=4294967296),r}function Hn(e,t){var r=kn(e,t,1)^kn(e,t,8)^Mn(e,t,7)
;return r<0&&(r+=4294967296),r}function $n(e,t){var r=Sn(e,t,1)^Sn(e,t,8)^En(e,t,7);return r<0&&(r+=4294967296),r}function Jn(e,t){var r=kn(e,t,19)^kn(t,e,29)^Mn(e,t,6);return r<0&&(r+=4294967296),r}function Gn(e,t){var r=Sn(e,t,19)^Sn(t,e,29)^En(e,t,6);return r<0&&(r+=4294967296),r}Cn.blockSize=1024,Cn.outSize=512,Cn.hmacStrength=192,Cn.padLength=128,Cn.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){
var i=Jn(r[n-4],r[n-3]),a=Gn(r[n-4],r[n-3]),s=r[n-14],o=r[n-13],c=Hn(r[n-30],r[n-29]),f=$n(r[n-30],r[n-29]),d=r[n-32],u=r[n-31];r[n]=Tn(i,a,s,o,c,f,d,u),r[n+1]=Pn(i,a,s,o,c,f,d,u)}},Cn.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],c=this.h[5],f=this.h[6],d=this.h[7],u=this.h[8],h=this.h[9],l=this.h[10],p=this.h[11],b=this.h[12],y=this.h[13],m=this.h[14],v=this.h[15];An(this.k.length===r.length)
;for(var g=0;g<r.length;g+=2){var _=m,w=v,x=Wn(u,h),A=Zn(u,h),k=jn(u,h,l,p,b),S=Dn(u,h,l,p,b,y),M=this.k[g],E=this.k[g+1],z=r[g],I=r[g+1],N=Rn(_,w,x,A,k,S,M,E,z,I),T=On(_,w,x,A,k,S,M,E,z,I);_=Kn(n,i),w=Vn(n,i),x=Fn(n,i,a,s,o),A=Ln(n,i,a,s,o,c);var P=In(_,w,x,A),R=Nn(_,w,x,A);m=b,v=y,b=l,y=p,l=u,p=h,u=In(f,d,N,T),h=Nn(d,d,N,T),f=o,d=c,o=a,c=s,a=n,s=i,n=In(N,T,P,R),i=Nn(N,T,P,R)}zn(this.h,0,n,i),zn(this.h,2,a,s),zn(this.h,4,o,c),zn(this.h,6,f,d),zn(this.h,8,u,h),zn(this.h,10,l,p),
zn(this.h,12,b,y),zn(this.h,14,m,v)},Cn.prototype._digest=function(e){return"hex"===e?wn.toHex32(this.h,"big"):wn.split32(this.h,"big")};var Yn=xr,Xn=qn;function Qn(){if(!(this instanceof Qn))return new Qn;Xn.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Yn.inherits(Qn,Xn);var ei=Qn;Qn.blockSize=1024,Qn.outSize=384,Qn.hmacStrength=192,
Qn.padLength=128,Qn.prototype._digest=function(e){return"hex"===e?Yn.toHex32(this.h.slice(0,12),"big"):Yn.split32(this.h.slice(0,12),"big")},Ur.sha1=Xr,Ur.sha224=_n,Ur.sha256=yn,Ur.sha384=ei,Ur.sha512=qn;var ti={},ri=xr,ni=Pr,ii=ri.rotl32,ai=ri.sum32,si=ri.sum32_3,oi=ri.sum32_4,ci=ni.BlockHash;function fi(){if(!(this instanceof fi))return new fi;ci.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function di(e,t,r,n){
return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function ui(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function hi(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}ri.inherits(fi,ci),ti.ripemd160=fi,fi.blockSize=512,fi.outSize=160,fi.hmacStrength=192,fi.padLength=64,fi.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],a=this.h[3],s=this.h[4],o=r,c=n,f=i,d=a,u=s,h=0;h<80;h++){
var l=ai(ii(oi(r,di(h,n,i,a),e[li[h]+t],ui(h)),bi[h]),s);r=s,s=a,a=ii(i,10),i=n,n=l,l=ai(ii(oi(o,di(79-h,c,f,d),e[pi[h]+t],hi(h)),yi[h]),u),o=u,u=d,d=ii(f,10),f=c,c=l}l=si(this.h[1],i,d),this.h[1]=si(this.h[2],a,u),this.h[2]=si(this.h[3],s,o),this.h[3]=si(this.h[4],r,c),this.h[4]=si(this.h[0],n,f),this.h[0]=l},fi.prototype._digest=function(e){return"hex"===e?ri.toHex32(this.h,"little"):ri.split32(this.h,"little")}
;var li=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],pi=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],bi=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],yi=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],mi=xr,vi=Ar
;function gi(e,t,r){if(!(this instanceof gi))return new gi(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(mi.toArray(t,r))}var _i=gi;gi.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),vi(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106
;this.outer=(new this.Hash).update(e)},gi.prototype.update=function(e,t){return this.inner.update(e,t),this},gi.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=xr,t.common=Pr,t.sha=Ur,t.ripemd=ti,t.hmac=_i,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(wr);var wi={exports:{}};(function(e,t){function r(e,t){
if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:mr.Buffer}catch(e){}
function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function o(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,a=Math.min(e.length,r),s=t;s<a;s++){var o=e.charCodeAt(s)-48;i*=n,i+=o>=49?o-49+10:o>=17?o-17+10:o}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){
return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),
e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0
;var a,s,o=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length)
;for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0
;for(var a=e.length-r,s=a%n,o=Math.min(a,a-s)+r,f=0,d=r;d<o;d+=n)f=c(e,d,d+n,t),this.imuln(i),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==s){var u=1;for(f=c(e,d,e.length,t),d=0;d<s;d++)u*=t;this.imuln(u),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},
i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}
;var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176]
;function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],s=i*a,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var f=1;f<n;f++){for(var d=c>>>26,u=67108863&c,h=Math.min(f,t.length-1),l=Math.max(0,f-e.length+1);l<=h;l++){var p=f-l|0;d+=(s=(i=0|e.words[p])*(a=0|t.words[l])+u)/67108864|0,u=67108863&s}r.words[f]=0|u,c=0|d}return 0!==c?r.words[f]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,
16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<i|a)).toString(16);n=0!=(a=o>>>24-i&16777215)||s!==this.length-1?f[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,s--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=d[e],l=u[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(e);n=(p=p.idivn(l)).isZero()?b+n:f[h-b.length]+b+n}
for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){
return r(void 0!==a),this.toArrayLike(a,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var s,o,c="le"===t,f=new e(a),d=this.clone();if(c){for(o=0;!d.isZero();o++)s=d.andln(255),d.iushrn(8),f[o]=s;for(;o<a;o++)f[o]=0}else{for(o=0;o<a-i;o++)f[o]=0;for(o=0;!d.isZero();o++)s=d.andln(255),
d.iushrn(8),f[a-o-1]=s}return f},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){
var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){
return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),
this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){
return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),
this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){
return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this)
;for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,
t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,s=0;s<n.length;s++)a=(t=(0|r.words[s])-(0|n.words[s])+a)>>26,
this.words[s]=67108863&t;for(;0!==a&&s<r.length;s++)a=(t=(0|r.words[s])+a)>>26,this.words[s]=67108863&t;if(0===a&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,r){
var n,i,a,s=e.words,o=t.words,c=r.words,f=0,d=0|s[0],u=8191&d,h=d>>>13,l=0|s[1],p=8191&l,b=l>>>13,y=0|s[2],m=8191&y,v=y>>>13,g=0|s[3],_=8191&g,w=g>>>13,x=0|s[4],A=8191&x,k=x>>>13,S=0|s[5],M=8191&S,E=S>>>13,z=0|s[6],I=8191&z,N=z>>>13,T=0|s[7],P=8191&T,R=T>>>13,O=0|s[8],B=8191&O,U=O>>>13,C=0|s[9],q=8191&C,j=C>>>13,D=0|o[0],F=8191&D,L=D>>>13,K=0|o[1],V=8191&K,W=K>>>13,Z=0|o[2],H=8191&Z,$=Z>>>13,J=0|o[3],G=8191&J,Y=J>>>13,X=0|o[4],Q=8191&X,ee=X>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ie=0|o[6],ae=8191&ie,se=ie>>>13,oe=0|o[7],ce=8191&oe,fe=oe>>>13,de=0|o[8],ue=8191&de,he=de>>>13,le=0|o[9],pe=8191&le,be=le>>>13
;r.negative=e.negative^t.negative,r.length=19;var ye=(f+(n=Math.imul(u,F))|0)+((8191&(i=(i=Math.imul(u,L))+Math.imul(h,F)|0))<<13)|0;f=((a=Math.imul(h,L))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,L))+Math.imul(b,F)|0,a=Math.imul(b,L);var me=(f+(n=n+Math.imul(u,V)|0)|0)+((8191&(i=(i=i+Math.imul(u,W)|0)+Math.imul(h,V)|0))<<13)|0;f=((a=a+Math.imul(h,W)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,F),i=(i=Math.imul(m,L))+Math.imul(v,F)|0,a=Math.imul(v,L),
n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(b,V)|0,a=a+Math.imul(b,W)|0;var ve=(f+(n=n+Math.imul(u,H)|0)|0)+((8191&(i=(i=i+Math.imul(u,$)|0)+Math.imul(h,H)|0))<<13)|0;f=((a=a+Math.imul(h,$)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,L))+Math.imul(w,F)|0,a=Math.imul(w,L),n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(v,V)|0,a=a+Math.imul(v,W)|0,n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(b,H)|0,a=a+Math.imul(b,$)|0
;var ge=(f+(n=n+Math.imul(u,G)|0)|0)+((8191&(i=(i=i+Math.imul(u,Y)|0)+Math.imul(h,G)|0))<<13)|0;f=((a=a+Math.imul(h,Y)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,L))+Math.imul(k,F)|0,a=Math.imul(k,L),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,V)|0,a=a+Math.imul(w,W)|0,n=n+Math.imul(m,H)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(v,H)|0,a=a+Math.imul(v,$)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(b,G)|0,a=a+Math.imul(b,Y)|0
;var _e=(f+(n=n+Math.imul(u,Q)|0)|0)+((8191&(i=(i=i+Math.imul(u,ee)|0)+Math.imul(h,Q)|0))<<13)|0;f=((a=a+Math.imul(h,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,L))+Math.imul(E,F)|0,a=Math.imul(E,L),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(k,V)|0,a=a+Math.imul(k,W)|0,n=n+Math.imul(_,H)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,H)|0,a=a+Math.imul(w,$)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(v,G)|0,a=a+Math.imul(v,Y)|0,
n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,a=a+Math.imul(b,ee)|0;var we=(f+(n=n+Math.imul(u,re)|0)|0)+((8191&(i=(i=i+Math.imul(u,ne)|0)+Math.imul(h,re)|0))<<13)|0;f=((a=a+Math.imul(h,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,L))+Math.imul(N,F)|0,a=Math.imul(N,L),n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(E,V)|0,a=a+Math.imul(E,W)|0,n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(k,H)|0,a=a+Math.imul(k,$)|0,
n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,G)|0,a=a+Math.imul(w,Y)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(v,Q)|0,a=a+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,a=a+Math.imul(b,ne)|0;var xe=(f+(n=n+Math.imul(u,ae)|0)|0)+((8191&(i=(i=i+Math.imul(u,se)|0)+Math.imul(h,ae)|0))<<13)|0;f=((a=a+Math.imul(h,se)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,L))+Math.imul(R,F)|0,a=Math.imul(R,L),
n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(N,V)|0,a=a+Math.imul(N,W)|0,n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(E,H)|0,a=a+Math.imul(E,$)|0,n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(k,G)|0,a=a+Math.imul(k,Y)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(v,re)|0,a=a+Math.imul(v,ne)|0,n=n+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(b,ae)|0,
a=a+Math.imul(b,se)|0;var Ae=(f+(n=n+Math.imul(u,ce)|0)|0)+((8191&(i=(i=i+Math.imul(u,fe)|0)+Math.imul(h,ce)|0))<<13)|0;f=((a=a+Math.imul(h,fe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(B,F),i=(i=Math.imul(B,L))+Math.imul(U,F)|0,a=Math.imul(U,L),n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(R,V)|0,a=a+Math.imul(R,W)|0,n=n+Math.imul(I,H)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(N,H)|0,a=a+Math.imul(N,$)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(E,G)|0,
a=a+Math.imul(E,Y)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(k,Q)|0,a=a+Math.imul(k,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(m,ae)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(v,ae)|0,a=a+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(b,ce)|0,a=a+Math.imul(b,fe)|0;var ke=(f+(n=n+Math.imul(u,ue)|0)|0)+((8191&(i=(i=i+Math.imul(u,he)|0)+Math.imul(h,ue)|0))<<13)|0
;f=((a=a+Math.imul(h,he)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(q,F),i=(i=Math.imul(q,L))+Math.imul(j,F)|0,a=Math.imul(j,L),n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(U,V)|0,a=a+Math.imul(U,W)|0,n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(R,H)|0,a=a+Math.imul(R,$)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(N,G)|0,a=a+Math.imul(N,Y)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(E,Q)|0,a=a+Math.imul(E,ee)|0,n=n+Math.imul(A,re)|0,
i=(i=i+Math.imul(A,ne)|0)+Math.imul(k,re)|0,a=a+Math.imul(k,ne)|0,n=n+Math.imul(_,ae)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,se)|0,n=n+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,fe)|0)+Math.imul(v,ce)|0,a=a+Math.imul(v,fe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(b,ue)|0,a=a+Math.imul(b,he)|0;var Se=(f+(n=n+Math.imul(u,pe)|0)|0)+((8191&(i=(i=i+Math.imul(u,be)|0)+Math.imul(h,pe)|0))<<13)|0;f=((a=a+Math.imul(h,be)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,
n=Math.imul(q,V),i=(i=Math.imul(q,W))+Math.imul(j,V)|0,a=Math.imul(j,W),n=n+Math.imul(B,H)|0,i=(i=i+Math.imul(B,$)|0)+Math.imul(U,H)|0,a=a+Math.imul(U,$)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(R,G)|0,a=a+Math.imul(R,Y)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(N,Q)|0,a=a+Math.imul(N,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(E,re)|0,a=a+Math.imul(E,ne)|0,n=n+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,se)|0)+Math.imul(k,ae)|0,
a=a+Math.imul(k,se)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,ce)|0,a=a+Math.imul(w,fe)|0,n=n+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(v,ue)|0,a=a+Math.imul(v,he)|0;var Me=(f+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;f=((a=a+Math.imul(b,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(q,H),i=(i=Math.imul(q,$))+Math.imul(j,H)|0,a=Math.imul(j,$),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(U,G)|0,
a=a+Math.imul(U,Y)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(N,re)|0,a=a+Math.imul(N,ne)|0,n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(E,ae)|0,a=a+Math.imul(E,se)|0,n=n+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,fe)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,fe)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,he)|0
;var Ee=(f+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,be)|0)+Math.imul(v,pe)|0))<<13)|0;f=((a=a+Math.imul(v,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(q,G),i=(i=Math.imul(q,Y))+Math.imul(j,G)|0,a=Math.imul(j,Y),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(U,Q)|0,a=a+Math.imul(U,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(R,re)|0,a=a+Math.imul(R,ne)|0,n=n+Math.imul(I,ae)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(N,ae)|0,a=a+Math.imul(N,se)|0,
n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(E,ce)|0,a=a+Math.imul(E,fe)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,he)|0;var ze=(f+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(w,pe)|0))<<13)|0;f=((a=a+Math.imul(w,be)|0)+(i>>>13)|0)+(ze>>>26)|0,ze&=67108863,n=Math.imul(q,Q),i=(i=Math.imul(q,ee))+Math.imul(j,Q)|0,a=Math.imul(j,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(U,re)|0,a=a+Math.imul(U,ne)|0,
n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,se)|0,n=n+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(N,ce)|0,a=a+Math.imul(N,fe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(E,ue)|0,a=a+Math.imul(E,he)|0;var Ie=(f+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,be)|0)+Math.imul(k,pe)|0))<<13)|0;f=((a=a+Math.imul(k,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(q,re),i=(i=Math.imul(q,ne))+Math.imul(j,re)|0,
a=Math.imul(j,ne),n=n+Math.imul(B,ae)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(U,ae)|0,a=a+Math.imul(U,se)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(R,ce)|0,a=a+Math.imul(R,fe)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,he)|0)+Math.imul(N,ue)|0,a=a+Math.imul(N,he)|0;var Ne=(f+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(E,pe)|0))<<13)|0;f=((a=a+Math.imul(E,be)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(q,ae),
i=(i=Math.imul(q,se))+Math.imul(j,ae)|0,a=Math.imul(j,se),n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,fe)|0)+Math.imul(U,ce)|0,a=a+Math.imul(U,fe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(R,ue)|0,a=a+Math.imul(R,he)|0;var Te=(f+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,be)|0)+Math.imul(N,pe)|0))<<13)|0;f=((a=a+Math.imul(N,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(q,ce),i=(i=Math.imul(q,fe))+Math.imul(j,ce)|0,a=Math.imul(j,fe),n=n+Math.imul(B,ue)|0,
i=(i=i+Math.imul(B,he)|0)+Math.imul(U,ue)|0,a=a+Math.imul(U,he)|0;var Pe=(f+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,be)|0)+Math.imul(R,pe)|0))<<13)|0;f=((a=a+Math.imul(R,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(q,ue),i=(i=Math.imul(q,he))+Math.imul(j,ue)|0,a=Math.imul(j,he);var Re=(f+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,be)|0)+Math.imul(U,pe)|0))<<13)|0;f=((a=a+Math.imul(U,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863
;var Oe=(f+(n=Math.imul(q,pe))|0)+((8191&(i=(i=Math.imul(q,be))+Math.imul(j,pe)|0))<<13)|0;return f=((a=Math.imul(j,be))+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c[0]=ye,c[1]=me,c[2]=ve,c[3]=ge,c[4]=_e,c[5]=we,c[6]=xe,c[7]=Ae,c[8]=ke,c[9]=Se,c[10]=Me,c[11]=Ee,c[12]=ze,c[13]=Ie,c[14]=Ne,c[15]=Te,c[16]=Pe,c[17]=Re,c[18]=Oe,0!==f&&(c[19]=f,r.length++),r};function p(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(l=h),i.prototype.mulTo=function(e,t){
var r,n=this.length+e.length;return r=10===this.length&&10===e.length?l(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var s=i;i=0;for(var o=67108863&n,c=Math.min(a,t.length-1),f=Math.max(0,a-e.length+1);f<=c;f++){var d=a-f,u=(0|e.words[d])*(0|t.words[f]),h=67108863&u;o=67108863&(h=h+o|0),i+=(s=(s=s+(u/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[a]=o,n=s,s=i}
return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,a){for(var s=0;s<a;s++)n[s]=t[e[s]],i[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i)
;for(var s=1;s<i;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),f=Math.sin(2*Math.PI/o),d=0;d<i;d+=o)for(var u=c,h=f,l=0;l<s;l++){var p=r[d+l],b=n[d+l],y=r[d+l+s],m=n[d+l+s],v=u*y-h*m;m=u*m+h*y,y=v,r[d+l]=p+y,n[d+l]=b+m,r[d+l+s]=p-y,n[d+l+s]=b-m,l!==o&&(v=c*u-f*h,h=c*h+f*u,u=v)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,
i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var a=0,s=0;s<t;s++)a+=0|e[s],n[2*s]=8191&a,a>>>=13,n[2*s+1]=8191&a,a>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===a),r(0==(-8192&a))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){
var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),s=new Array(n),o=new Array(n),c=new Array(n),f=new Array(n),d=new Array(n),u=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,f,n),this.transform(s,a,o,c,n,i),this.transform(f,a,d,u,n,i);for(var l=0;l<n;l++){var p=o[l]*d[l]-c[l]*u[l];c[l]=o[l]*u[l]+c[l]*d[l],o[l]=p}return this.conjugate(o,c,n),this.transform(o,c,h,a,n,i),this.conjugate(h,a,n),
this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){
var i=(0|this.words[n])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e)
;if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<n;this.words[t]=c|s,s=o>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){
for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,s=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=n;if(i-=s,i=Math.max(0,i),c){for(var f=0;f<s;f++)c.words[f]=this.words[f];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,
f=0;f<this.length;f++)this.words[f]=this.words[f+s];else this.words[0]=0,this.length=1;var d=0;for(f=this.length-1;f>=0&&(0!==d||f>=i);f--){var u=0|this.words[f];this.words[f]=d<<26-a|u>>>a,d=u&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)
},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){
var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e
;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],
this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,a,s=e.length+n;this._expand(s);var o=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+o
;var c=(0|e.words[i])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)o=(a=(0|this.words[i+n])+o)>>26,this.words[i+n]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,i=0;i<this.length;i++)o=(a=-(0|this.words[i])+o)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!=(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),
s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var f=0;f<o.length;f++)o.words[f]=0}var d=n.clone()._ishlnsubmul(a,1,c);0===d.negative&&(n=d,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var h=67108864*(0|n.words[a.length+u])+(0|n.words[a.length+u-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(a,h,u);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(a,1,u),n.isZero()||(n.negative^=1);o&&(o.words[u]=h)}return o&&o.strip(),
n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),
"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){
return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){
var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),f=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++f;for(var d=n.clone(),u=t.clone();!t.isZero();){for(var h=0,l=1;0==(t.words[0]&l)&&h<26;++h,l<<=1);
if(h>0)for(t.iushrn(h);h-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(d),s.isub(u)),a.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(n.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(o),s.isub(c)):(n.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:n.iushln(f)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone()
;for(var a,s=new i(1),o=new i(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var u=0,h=1;0==(n.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(n.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(o)):(n.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs()
;if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},
i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,s=n;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0
;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1
;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},
i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new x(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},
i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},
i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},
i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),
this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function m(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){
m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t
}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},
m.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},m.prototype.split=function(e,t){e.iushrn(this.n,0,t)},m.prototype.imulK=function(e){return e.imul(this.k)},n(v,m),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i]
;if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|a>>>22,a=s}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,
0===e.words[e.length-1]&&e.length--),e},n(g,m),n(_,m),n(w,m),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new g;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return y[e]=t,t},x.prototype._verify1=function(e){
r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){
this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))
},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,
a.iushrn(1);r(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),f=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);0!==this.pow(d,f).cmp(c);)d.redIAdd(c);for(var u=this.pow(d,a),h=this.pow(e,a.addn(1).iushrn(1)),l=this.pow(e,a),p=s;0!==l.cmp(o);){for(var b=l,y=0;0!==b.cmp(o);y++)b=b.redSqr();r(y<p);var m=this.pow(u,new i(1).iushln(p-y-1));h=h.redMul(m),u=m.redSqr(),l=l.redMul(u),p=y}return h},x.prototype.invm=function(e){var t=e._invmp(this.m)
;return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var f=t.words[n],d=c-1;d>=0;d--){var u=f>>d&1;a!==r[0]&&(a=this.sqr(a)),0!==u||0!==s?(s<<=1,s|=u,
(4==++o||0===n&&0===d)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new A(e)},n(A,x),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){
if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a
;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}})(wi,hr);var xi=wi.exports,Ai={},ki="6.5.4",Si={},Mi={};!function(e){var t=e;function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){
for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,s=255&i;a?r.push(a,s):r.push(s)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}(Mi),function(e){var t=e,r=wi.exports,n=Ar,i=Mi;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode,t.getNAF=function(e,t,r){
var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,a=e.clone(),s=0;s<n.length;s++){var o,c=a.andln(i-1);a.isOdd()?(o=c>(i>>1)-1?(i>>1)-c:c,a.isubn(o)):o=0,n[s]=o,a.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var s,o,c=e.andln(3)+i&3,f=t.andln(3)+a&3;3===c&&(c=-1),3===f&&(f=-1),s=0==(1&c)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==f?c:-c,r[0].push(s),
o=0==(1&f)?0:3!==(n=t.andln(7)+a&7)&&5!==n||2!==c?f:-f,r[1].push(o),2*i===s+1&&(i=1-i),2*a===o+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new r(e,"hex","le")}}(Si);var Ei={},zi=wi.exports,Ii=Si,Ni=Ii.getNAF,Ti=Ii.getJSF,Pi=Ii.assert;function Ri(e,t){this.type=e,
this.p=new zi(t.p,16),this.red=t.prime?zi.red(t.prime):zi.mont(this.p),this.zero=new zi(0).toRed(this.red),this.one=new zi(1).toRed(this.red),this.two=new zi(2).toRed(this.red),this.n=t.n&&new zi(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,
this.redN=this.n.toRed(this.red))}var Oi=Ri;function Bi(e,t){this.curve=e,this.type=t,this.precomputed=null}Ri.prototype.point=function(){throw new Error("Not implemented")},Ri.prototype.validate=function(){throw new Error("Not implemented")},Ri.prototype._fixedNafMul=function(e,t){Pi(e.precomputed);var r=e._getDoubles(),n=Ni(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,s,o=[];for(a=0;a<n.length;a+=r.step){s=0;for(var c=a+r.step-1;c>=a;c--)s=(s<<1)+n[c];o.push(s)}
for(var f=this.jpoint(null,null,null),d=this.jpoint(null,null,null),u=i;u>0;u--){for(a=0;a<o.length;a++)(s=o[a])===u?d=d.mixedAdd(r.points[a]):s===-u&&(d=d.mixedAdd(r.points[a].neg()));f=f.add(d)}return f.toP()},Ri.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=Ni(t,r,this._bitLength),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(var c=0;o>=0&&0===a[o];o--)c++;if(o>=0&&c++,s=s.dblp(c),o<0)break;var f=a[o];Pi(0!==f),
s="affine"===e.type?f>0?s.mixedAdd(i[f-1>>1]):s.mixedAdd(i[-f-1>>1].neg()):f>0?s.add(i[f-1>>1]):s.add(i[-f-1>>1].neg())}return"affine"===e.type?s.toP():s},Ri.prototype._wnafMulAdd=function(e,t,r,n,i){var a,s,o,c=this._wnafT1,f=this._wnafT2,d=this._wnafT3,u=0;for(a=0;a<n;a++){var h=(o=t[a])._getNAFPoints(e);c[a]=h.wnd,f[a]=h.points}for(a=n-1;a>=1;a-=2){var l=a-1,p=a;if(1===c[l]&&1===c[p]){var b=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(b[1]=t[l].add(t[p]),
b[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].add(t[p].neg())):(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],m=Ti(r[l],r[p]);for(u=Math.max(m[0].length,u),d[l]=new Array(u),d[p]=new Array(u),s=0;s<u;s++){var v=0|m[0][s],g=0|m[1][s];d[l][s]=y[3*(v+1)+(g+1)],d[p][s]=0,f[l]=b}}else d[l]=Ni(r[l],c[l],this._bitLength),d[p]=Ni(r[p],c[p],this._bitLength),u=Math.max(d[l].length,u),
u=Math.max(d[p].length,u)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(a=u;a>=0;a--){for(var x=0;a>=0;){var A=!0;for(s=0;s<n;s++)w[s]=0|d[s][a],0!==w[s]&&(A=!1);if(!A)break;x++,a--}if(a>=0&&x++,_=_.dblp(x),a<0)break;for(s=0;s<n;s++){var k=w[s];0!==k&&(k>0?o=f[s][k-1>>1]:k<0&&(o=f[s][-k-1>>1].neg()),_="affine"===o.type?_.mixedAdd(o):_.add(o))}}for(a=0;a<n;a++)f[a]=null;return i?_:_.toP()},Ri.BasePoint=Bi,Bi.prototype.eq=function(){throw new Error("Not implemented")},
Bi.prototype.validate=function(){return this.curve.validate(this)},Ri.prototype.decodePoint=function(e,t){e=Ii.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?Pi(e[e.length-1]%2==0):7===e[0]&&Pi(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Bi.prototype.encodeCompressed=function(e){
return this.encode(e,!0)},Bi.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Bi.prototype.encode=function(e,t){return Ii.encode(this._encode(t),e)},Bi.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,
this},Bi.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Bi.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},Bi.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf
;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Bi.prototype._getBeta=function(){return null},Bi.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Ui=Si,Ci=wi.exports,qi=Sr.exports,ji=Oi,Di=Ui.assert;function Fi(e){ji.call(this,"short",e),this.a=new Ci(e.a,16).toRed(this.red),this.b=new Ci(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),
this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}qi(Fi,ji);var Li=Fi;function Ki(e,t,r,n){ji.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ci(t,16),this.y=new Ci(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),
this.inf=!1)}function Vi(e,t,r,n){ji.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ci(0)):(this.x=new Ci(t,16),this.y=new Ci(r,16),this.z=new Ci(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Fi.prototype._getEndomorphism=function(e){
if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new Ci(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new Ci(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],Di(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new Ci(e.a,16),b:new Ci(e.b,16)}
})):this._getEndoBasis(r)}}},Fi.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ci.mont(e),r=new Ci(2).toRed(t).redInvm(),n=r.redNeg(),i=new Ci(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Fi.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,s,o,c,f,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=e,h=this.n.clone(),l=new Ci(1),p=new Ci(0),b=new Ci(0),y=new Ci(1),m=0;0!==u.cmpn(0);){var v=h.div(u);c=h.sub(v.mul(u)),
f=b.sub(v.mul(l));var g=y.sub(v.mul(p));if(!n&&c.cmp(d)<0)t=o.neg(),r=l,n=c.neg(),i=f;else if(n&&2==++m)break;o=c,h=u,u=c,b=l,l=f,y=p,p=g}a=c.neg(),s=f;var _=n.sqr().add(i.sqr());return a.sqr().add(s.sqr()).cmp(_)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:i},{a:a,b:s}]},Fi.prototype._endoSplit=function(e){
var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),o=a.mul(n.a),c=i.mul(r.b),f=a.mul(n.b);return{k1:e.sub(s).sub(o),k2:c.add(f).neg()}},Fi.prototype.pointFromX=function(e,t){(e=new Ci(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd()
;return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Fi.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Fi.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),o=e[a],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*a]=o,n[2*a+1]=c,
i[2*a]=s.k1,i[2*a+1]=s.k2}for(var f=this._wnafMulAdd(1,n,i,2*a,r),d=0;d<2*a;d++)n[d]=null,i[d]=null;return f},qi(Ki,ji.BasePoint),Fi.prototype.point=function(e,t,r){return new Ki(this,e,t,r)},Fi.prototype.pointFromJSON=function(e,t){return Ki.fromJSON(this,e,t)},Ki.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){
return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Ki.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,
points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Ki.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},Ki.prototype.inspect=function(){
return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Ki.prototype.isInfinity=function(){return this.inf},Ki.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()))
;var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Ki.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},Ki.prototype.getX=function(){
return this.x.fromRed()},Ki.prototype.getY=function(){return this.y.fromRed()},Ki.prototype.mul=function(e){return e=new Ci(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Ki.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Ki.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r]
;return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Ki.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Ki.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,
points:r.doubles.points.map(n)}}}return t},Ki.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},qi(Vi,ji.BasePoint),Fi.prototype.jpoint=function(e,t,r){return new Vi(this,e,t,r)},Vi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Vi.prototype.neg=function(){
return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Vi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),o=n.redSub(i),c=a.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl()
;var f=o.redSqr(),d=f.redMul(o),u=n.redMul(f),h=c.redSqr().redIAdd(d).redISub(u).redISub(u),l=c.redMul(u.redISub(h)).redISub(a.redMul(d)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(h,l,p)},Vi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),s=r.redSub(n),o=i.redSub(a);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl()
;var c=s.redSqr(),f=c.redMul(s),d=r.redMul(c),u=o.redSqr().redIAdd(f).redISub(d).redISub(d),h=o.redMul(d.redISub(u)).redISub(i.redMul(f)),l=this.z.redMul(s);return this.curve.jpoint(u,h,l)},Vi.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),f=s.redAdd(s)
;for(t=0;t<e;t++){var d=a.redSqr(),u=f.redSqr(),h=u.redSqr(),l=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(c)),p=a.redMul(u),b=l.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),m=l.redMul(y);m=m.redIAdd(m).redISub(h);var v=f.redMul(o);t+1<e&&(c=c.redMul(h)),a=b,o=v,f=m}return this.curve.jpoint(a,f.redMul(i),o)},Vi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Vi.prototype._zeroDbl=function(){var e,t,r
;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(s).redISub(s),f=a.redIAdd(a);f=(f=f.redIAdd(f)).redIAdd(f),e=c,t=o.redMul(s.redISub(c)).redISub(f),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),u=this.y.redSqr(),h=u.redSqr(),l=this.x.redAdd(u).redSqr().redISub(d).redISub(h);l=l.redIAdd(l);var p=d.redAdd(d).redIAdd(d),b=p.redSqr(),y=h.redIAdd(h)
;y=(y=y.redIAdd(y)).redIAdd(y),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Vi.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var f=a.redIAdd(a);f=(f=f.redIAdd(f)).redIAdd(f),
t=o.redMul(s.redISub(c)).redISub(f),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),u=this.y.redSqr(),h=this.x.redMul(u),l=this.x.redSub(d).redMul(this.x.redAdd(d));l=l.redAdd(l).redIAdd(l);var p=h.redIAdd(h),b=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(u).redISub(d);var y=u.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=l.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},Vi.prototype._dbl=function(){
var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),s=r.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),c=t.redAdd(t),f=(c=c.redIAdd(c)).redMul(s),d=o.redSqr().redISub(f.redAdd(f)),u=f.redISub(d),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=o.redMul(u).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(d,l,p)},Vi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this)
;var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var f=i.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(c),d=t.redMul(f);d=(d=d.redIAdd(d)).redIAdd(d);var u=this.x.redMul(o).redISub(d);u=(u=u.redIAdd(u)).redIAdd(u)
;var h=this.y.redMul(f.redMul(c.redISub(f)).redISub(s.redMul(o)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(u,h,l)},Vi.prototype.mul=function(e,t){return e=new Ci(e,t),this.curve._wnafMul(this,e)},Vi.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1
;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Vi.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Vi.prototype.inspect=function(){
return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Vi.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Wi=wi.exports,Zi=Sr.exports,Hi=Oi,$i=Si;function Ji(e){Hi.call(this,"mont",e),this.a=new Wi(e.a,16).toRed(this.red),this.b=new Wi(e.b,16).toRed(this.red),this.i4=new Wi(4).toRed(this.red).redInvm(),this.two=new Wi(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}
Zi(Ji,Hi);var Gi=Ji;function Yi(e,t,r){Hi.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Wi(t,16),this.z=new Wi(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Ji.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},Zi(Yi,Hi.BasePoint),
Ji.prototype.decodePoint=function(e,t){return this.point($i.toArray(e,t),1)},Ji.prototype.point=function(e,t){return new Yi(this,e,t)},Ji.prototype.pointFromJSON=function(e){return Yi.fromJSON(this,e)},Yi.prototype.precompute=function(){},Yi.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Yi.fromJSON=function(e,t){return new Yi(e,t[0],t[1]||e.one)},Yi.prototype.inspect=function(){
return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Yi.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Yi.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Yi.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},
Yi.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(r),s=i.redMul(n),o=t.z.redMul(a.redAdd(s).redSqr()),c=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(o,c)},Yi.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},
Yi.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Yi.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Yi.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Yi.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Yi.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Xi=Si,Qi=wi.exports,ea=Sr.exports,ta=Oi,ra=Xi.assert;function na(e){
this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,ta.call(this,"edwards",e),this.a=new Qi(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Qi(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Qi(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),ra(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}ea(na,ta);var ia=na;function aa(e,t,r,n,i){ta.BasePoint.call(this,e,"projective"),
null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Qi(t,16),this.y=new Qi(r,16),this.z=n?new Qi(n,16):this.curve.one,this.t=i&&new Qi(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,
this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}na.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},na.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},na.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},na.prototype.pointFromX=function(e,t){(e=new Qi(e,16)).red||(e=e.toRed(this.red))
;var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(i.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var o=s.fromRed().isOdd();return(t&&!o||!t&&o)&&(s=s.redNeg()),this.point(e,s)},na.prototype.pointFromY=function(e,t){(e=new Qi(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(i.redInvm())
;if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},na.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},ea(aa,ta.BasePoint),
na.prototype.pointFromJSON=function(e){return aa.fromJSON(this,e)},na.prototype.point=function(e,t,r,n){return new aa(this,e,t,r,n)},aa.fromJSON=function(e,t){return new aa(e,t[0],t[1],t[2])},aa.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},aa.prototype.isInfinity=function(){
return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},aa.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=n.redAdd(t),s=a.redSub(r),o=n.redSub(t),c=i.redMul(s),f=a.redMul(o),d=i.redMul(o),u=s.redMul(a);return this.curve.point(c,f,u,d)},aa.prototype._projDbl=function(){
var e,t,r,n,i,a,s=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var f=(n=this.curve._mulA(o)).redAdd(c);this.zOne?(e=s.redSub(o).redSub(c).redMul(f.redSub(this.curve.two)),t=f.redMul(n.redSub(c)),r=f.redSqr().redSub(f).redSub(f)):(i=this.z.redSqr(),a=f.redSub(i).redISub(i),e=s.redSub(o).redISub(c).redMul(a),t=f.redMul(n.redSub(c)),r=f.redMul(a))}else n=o.redAdd(c),i=this.curve._mulC(this.z).redSqr(),a=n.redSub(i).redSub(i),
e=this.curve._mulC(s.redISub(n)).redMul(a),t=this.curve._mulC(n).redMul(o.redISub(c)),r=n.redMul(a);return this.curve.point(e,t,r)},aa.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},aa.prototype._extAdd=function(e){
var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=r.redSub(t),s=i.redSub(n),o=i.redAdd(n),c=r.redAdd(t),f=a.redMul(s),d=o.redMul(c),u=a.redMul(c),h=s.redMul(o);return this.curve.point(f,d,h,u)},aa.prototype._projAdd=function(e){
var t,r,n=this.z.redMul(e.z),i=n.redSqr(),a=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(s),c=i.redSub(o),f=i.redAdd(o),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(s),u=n.redMul(c).redMul(d);return this.curve.twisted?(t=n.redMul(f).redMul(s.redSub(this.curve._mulA(a))),r=c.redMul(f)):(t=n.redMul(f).redMul(s.redSub(a)),r=this.curve._mulC(c).redMul(f)),this.curve.point(u,t,r)},aa.prototype.add=function(e){
return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},aa.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},aa.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},aa.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},aa.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm()
;return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},aa.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},aa.prototype.getX=function(){return this.normalize(),this.x.fromRed()},aa.prototype.getY=function(){return this.normalize(),this.y.fromRed()},aa.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},
aa.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},aa.prototype.toP=aa.prototype.normalize,aa.prototype.mixedAdd=aa.prototype.add,function(e){var t=e;t.base=Oi,t.short=Li,t.mont=Gi,t.edwards=ia}(Ei);var sa={},oa={doubles:{step:4,
points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]
},naf:{wnd:7,
points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
}};!function(e){var t,r=e,n=wr,i=Ei,a=Si.assert;function s(e){"short"===e.type?this.curve=new i.short(e):"edwards"===e.type?this.curve=new i.edwards(e):this.curve=new i.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new s(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,
value:n}),n}})}r.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",
p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,
p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{
type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,
g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,
g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",
n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,
g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=oa}catch(e){t=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}(sa);var ca=wr,fa=Mi,da=Ar;function ua(e){if(!(this instanceof ua))return new ua(e);this.hash=e.hash,
this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=fa.toArray(e.entropy,e.entropyEnc||"hex"),r=fa.toArray(e.nonce,e.nonceEnc||"hex"),n=fa.toArray(e.pers,e.persEnc||"hex");da(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var ha=ua;ua.prototype._init=function(e,t,r){var n=e.concat(t).concat(r)
;this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},ua.prototype._hmac=function(){return new ca.hmac(this.hash,this.K)},ua.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),
this.V=this._hmac().update(this.V).digest())},ua.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=fa.toArray(e,t),r=fa.toArray(r,n),da(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},ua.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=fa.toArray(r,n||"hex"),this._update(r))
;for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,fa.encode(a,t)};var la=wi.exports,pa=Si.assert;function ba(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var ya=ba;ba.fromPublic=function(e,t,r){return t instanceof ba?t:new ba(e,{pub:t,pubEnc:r})},ba.fromPrivate=function(e,t,r){return t instanceof ba?t:new ba(e,{
priv:t,privEnc:r})},ba.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ba.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},ba.prototype.getPrivate=function(e){
return"hex"===e?this.priv.toString(16,2):this.priv},ba.prototype._importPrivate=function(e,t){this.priv=new la(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},ba.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?pa(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||pa(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},
ba.prototype.derive=function(e){return e.validate()||pa(e.validate(),"public point not validated"),e.mul(this.priv).getX()},ba.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},ba.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},ba.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ma=wi.exports,va=Si,ga=va.assert;function _a(e,t){if(e instanceof _a)return e
;this._importDER(e,t)||(ga(e.r&&e.s,"Signature without r or s"),this.r=new ma(e.r,16),this.s=new ma(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var wa=_a;function xa(){this.place=0}function Aa(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,a=0,s=t.place;a<n;a++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function ka(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++
;return 0===t?e:e.slice(t)}function Sa(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}_a.prototype._importDER=function(e,t){e=va.toArray(e,t);var r=new xa;if(48!==e[r.place++])return!1;var n=Aa(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=Aa(e,r);if(!1===i)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=Aa(e,r);if(!1===s)return!1
;if(e.length!==s+r.place)return!1;var o=e.slice(r.place,s+r.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}return this.r=new ma(a),this.s=new ma(o),this.recoveryParam=null,!0},_a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=ka(t),r=ka(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Sa(n,t.length),(n=n.concat(t)).push(2),Sa(n,r.length)
;var i=n.concat(r),a=[48];return Sa(a,i.length),a=a.concat(i),va.encode(a,e)};var Ma=wi.exports,Ea=ha,za=Si,Ia=sa,Na=yr.exports,Ta=za.assert,Pa=ya,Ra=wa;function Oa(e){if(!(this instanceof Oa))return new Oa(e);"string"==typeof e&&(Ta(Object.prototype.hasOwnProperty.call(Ia,e),"Unknown curve "+e),e=Ia[e]),e instanceof Ia.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),
this.hash=e.hash||e.curve.hash}var Ba=Oa;Oa.prototype.keyPair=function(e){return new Pa(this,e)},Oa.prototype.keyFromPrivate=function(e,t){return Pa.fromPrivate(this,e,t)},Oa.prototype.keyFromPublic=function(e,t){return Pa.fromPublic(this,e,t)},Oa.prototype.genKeyPair=function(e){e||(e={});for(var t=new Ea({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Na(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()
}),r=this.n.byteLength(),n=this.n.sub(new Ma(2));;){var i=new Ma(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Oa.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Oa.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Ma(e,16))
;for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),s=e.toArray("be",i),o=new Ea({hash:this.hash,entropy:a,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Ma(1)),f=0;;f++){var d=n.k?n.k(f):new Ma(o.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(c)>=0)){var u=this.g.mul(d);if(!u.isInfinity()){var h=u.getX(),l=h.umod(this.n);if(0!==l.cmpn(0)){var p=d.invm(this.n).mul(l.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){
var b=(u.getY().isOdd()?1:0)|(0!==h.cmp(l)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),b^=1),new Ra({r:l,s:p,recoveryParam:b})}}}}}},Oa.prototype.verify=function(e,t,r,n){e=this._truncateToN(new Ma(e,16)),r=this.keyFromPublic(r,n);var i=(t=new Ra(t,"hex")).r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,o=a.invm(this.n),c=o.mul(e).umod(this.n),f=o.mul(i).umod(this.n)
;return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,r.getPublic(),f)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(c,r.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Oa.prototype.recoverPubKey=function(e,t,r,n){Ta((3&r)===r,"The recovery param is more than two bits"),t=new Ra(t,n);var i=this.n,a=new Ma(e),s=t.r,o=t.s,c=1&r,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate")
;s=f?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var d=t.r.invm(i),u=i.sub(a).mul(d).umod(i),h=o.mul(d).umod(i);return this.g.mulAdd(u,s,h)},Oa.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Ra(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Ua=Si,Ca=Ua.assert,qa=Ua.parseBytes,ja=Ua.cachedProperty
;function Da(e,t){this.eddsa=e,this._secret=qa(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=qa(t.pub)}Da.fromPublic=function(e,t){return t instanceof Da?t:new Da(e,{pub:t})},Da.fromSecret=function(e,t){return t instanceof Da?t:new Da(e,{secret:t})},Da.prototype.secret=function(){return this._secret},ja(Da,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),ja(Da,"pub",(function(){
return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),ja(Da,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),ja(Da,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),ja(Da,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),ja(Da,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),
Da.prototype.sign=function(e){return Ca(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},Da.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},Da.prototype.getSecret=function(e){return Ca(this._secret,"KeyPair is public only"),Ua.encode(this.secret(),e)},Da.prototype.getPublic=function(e){return Ua.encode(this.pubBytes(),e)};var Fa=Da,La=wi.exports,Ka=Si,Va=Ka.assert,Wa=Ka.cachedProperty,Za=Ka.parseBytes;function Ha(e,t){this.eddsa=e,"object"!=typeof t&&(t=Za(t)),
Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),Va(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof La&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Wa(Ha,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),Wa(Ha,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),Wa(Ha,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),
Wa(Ha,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Ha.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Ha.prototype.toHex=function(){return Ka.encode(this.toBytes(),"hex").toUpperCase()};var $a=Ha,Ja=wr,Ga=sa,Ya=Si,Xa=Ya.assert,Qa=Ya.parseBytes,es=Fa,ts=$a;function rs(e){if(Xa("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof rs))return new rs(e);e=Ga[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),
this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Ja.sha512}var ns=rs;function is(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s
/**
   * EOSIO Core v0.6.1
   * https://github.com/greymass/eosio-core
   *
   * @license
   * Copyright (c) 2020 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
   * 
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   * 
   *  1. Redistribution of source code must retain the above copyright notice, this
   *     list of conditions and the following disclaimer.
   * 
   *  2. Redistribution in binary form must reproduce the above copyright notice,
   *     this list of conditions and the following disclaimer in the documentation
   *     and/or other materials provided with the distribution.
   * 
   *  3. Neither the name of the copyright holder nor the names of its contributors
   *     may be used to endorse or promote products derived from this software without
   *     specific prior written permission.
   * 
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
   * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
   * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
   * OF THE POSSIBILITY OF SUCH DAMAGE.
   * 
   * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
   * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
   */}function as(e,t){const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}rs.prototype.sign=function(e,t){e=Qa(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),a=this.encodePoint(i),s=this.hashInt(a,r.pubBytes(),e).mul(r.priv()),o=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:o,Rencoded:a})},rs.prototype.verify=function(e,t,r){e=Qa(e),t=this.makeSignature(t)
;var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(a)},rs.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return Ya.intFromLE(e.digest()).umod(this.curve.n)},rs.prototype.keyFromPublic=function(e){return es.fromPublic(this,e)},rs.prototype.keyFromSecret=function(e){return es.fromSecret(this,e)},rs.prototype.makeSignature=function(e){
return e instanceof ts?e:new ts(this,e)},rs.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},rs.prototype.decodePoint=function(e){var t=(e=Ya.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=Ya.intFromLE(r);return this.curve.pointFromY(i,n)},rs.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},rs.prototype.decodeInt=function(e){return Ya.intFromLE(e)},
rs.prototype.isPoint=function(e){return e instanceof this.pointClass},function(e){var t=e;t.version=ki,t.utils=Si,t.rand=yr.exports,t.curve=Ei,t.curves=sa,t.ec=Ba,t.eddsa=ns}(Ai);const ss={};function os(){ss.enc=new Array(255),ss.dec={};for(let e=0;e<=255;++e){const t=e.toString(16).padStart(2,"0");ss.enc[e]=t,ss.dec[t]=e}}function cs(e){ss.enc||os();const t=e.length,r=new Array(t);for(let n=0;n<t;++n)r[n]=ss.enc[e[n]];return r.join("")}function fs(e){return _r(e)}let ds=!1;function us(e,t){
if(e instanceof t)return!0;if(null==e||"object"!=typeof e)return!1;const r=t.__className||t.abiName;if(!r)return!1;let n=e.constructor,i=!1;for(;n&&!i;){const e=n.__className||n.abiName;if(!e)break;i=r==e,n=Object.getPrototypeOf(n)}return i&&!ds&&(console.warn(`Detected alien instance of ${r}, this usually means more than one version of @greymass/eosio has been included in your bundle.`),ds=!0),i}class hs{constructor(e=new Uint8Array){this.array=e}static from(e,t){
return us(e,this)?e:"string"==typeof e?this.fromString(e,t):ArrayBuffer.isView(e)?new this(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)):us(e.array,Uint8Array)?new this(e.array):new this(new Uint8Array(e))}static fromString(e,t="hex"){if("hex"===t){const t=function(e){if(ss.dec||os(),"string"!=typeof e)throw new Error("Expected string containing hex digits");if(e.length%2)throw new Error("Odd number of hex digits");const t=(e=e.toLowerCase()).length/2,r=new Uint8Array(t)
;for(let n=0;n<t;n++){const t=ss.dec[e[2*n]+e[2*n+1]];if(void 0===t)throw new Error("Expected hex string");r[n]=t}return r}(e);return new this(t)}if("utf8"==t){return new this((new TextEncoder).encode(e))}throw new Error(`Unknown encoding: ${t}`)}static fromABI(e){const t=e.readVaruint32();return new this(e.readArray(t))}static abiDefault(){return new hs}static equal(e,t){return this.from(e).equals(this.from(t))}static random(e){return new this(fs(e))}static isBytes(e){
return!(!us(e,hs)&&!us(e,Uint8Array))||(!(!Array.isArray(e)||!e.every((e=>"number"==typeof e)))||!("string"!=typeof e||!/[\da-f]/i.test(e)&&""!==e))}get hexString(){return cs(this.array)}get utf8String(){return(new TextDecoder).decode(this.array)}append(e){e=hs.from(e);const t=this.array.byteLength+e.array.byteLength,r=new ArrayBuffer(t),n=new Uint8Array(r);n.set(this.array),n.set(e.array,this.array.byteLength),this.array=n}appending(e){const t=new hs(this.array);return t.append(e),t}
droppingFirst(e=1){return new hs(this.array.subarray(e))}copy(){const e=new ArrayBuffer(this.array.byteLength),t=new Uint8Array(e);return t.set(this.array),new hs(t)}equals(e){return as(this.array,hs.from(e).array)}toString(e="hex"){if("hex"===e)return this.hexString;if("utf8"===e)return this.utf8String;throw new Error(`Unknown encoding: ${e}`)}toABI(e){e.writeVaruint32(this.array.byteLength),e.writeArray(this.array)}toJSON(){return this.hexString}}hs.abiName="bytes";class ls{constructor(e){
const t=this.constructor.byteSize;if(e.byteLength!==t)throw new Error(`Checksum size mismatch, expected ${t} bytes got ${e.byteLength}`);this.array=e}static from(e){return us(e,this)?e:us(e,ls)?new this(e.array):new this(hs.from(e).array)}static fromABI(e){return new this(e.readArray(this.byteSize))}static abiDefault(){return new this(new Uint8Array(this.byteSize))}equals(e){const t=this.constructor;try{return as(this.array,t.from(e).array)}catch{return!1}}get hexString(){return cs(this.array)}
toABI(e){e.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}}ls.abiName="__checksum";class ps extends ls{static from(e){return super.from(e)}static hash(e){const t=new Uint8Array(wr.sha256().update(hs.from(e).array).digest());return new ps(t)}}ps.abiName="checksum256",ps.byteSize=32;class bs extends ls{static from(e){return super.from(e)}static hash(e){const t=new Uint8Array(wr.sha512().update(hs.from(e).array).digest());return new bs(t)}}
bs.abiName="checksum512",bs.byteSize=64;class ys extends ls{static from(e){return super.from(e)}static hash(e){const t=new Uint8Array(wr.ripemd160().update(hs.from(e).array).digest());return new ys(t)}}ys.abiName="checksum160",ys.byteSize=20,e.KeyType=void 0,function(e){e.K1="K1",e.R1="R1",e.WA="WA"}(e.KeyType||(e.KeyType={})),function(e){e.indexFor=function(t){switch(t){case e.K1:return 0;case e.R1:return 1;case e.WA:return 2;default:throw new Error(`Unknown curve type: ${t}`)}},
e.from=function(t){let r;switch(r="number"!=typeof t?e.indexFor(t):t,r){case 0:return e.K1;case 1:return e.R1;case 2:return e.WA;default:throw new Error("Unknown curve type")}}}(e.KeyType||(e.KeyType={}));class ms{constructor(e){const t=this.constructor;if(void 0===t.isSigned||void 0===t.byteWidth)throw new Error("Cannot instantiate abstract class Int");if(e.gt(t.max))throw new Error(`Number ${e} overflows ${t.abiName}`);if(e.lt(t.min))throw new Error(`Number ${e} underflows ${t.abiName}`)
;this.value=e}static get max(){return new xi(2).pow(new xi(8*this.byteWidth-(this.isSigned?1:0))).isubn(1)}static get min(){return this.isSigned?this.max.ineg().isubn(1):new xi(0)}static add(e,t,r="truncate"){return ms.operator(e,t,r,((e,t)=>e.add(t)))}static sub(e,t,r){return ms.operator(e,t,r,((e,t)=>e.sub(t)))}static mul(e,t,r){return ms.operator(e,t,r,((e,t)=>e.mul(t)))}static div(e,t,r){return ms.operator(e,t,r,((e,t)=>{if(t.isZero())throw new Error("Division by zero");return e.div(t)}))}
static divRound(e,t,r){return ms.operator(e,t,r,((e,t)=>{if(t.isZero())throw new Error("Division by zero");return e.divRound(t)}))}static divCeil(e,t,r){return ms.operator(e,t,r,((e,t)=>{if(t.isZero())throw new Error("Division by zero");const r=e.divmod(t);return r.mod.isZero()?r.div:0!==r.div.negative?r.div.isubn(1):r.div.iaddn(1)}))}static operator(e,t,r="truncate",n){const{a:i,b:a}=function(e,t){e=Ns(e),t=Ns(t);const r=e.constructor,n=t.constructor
;r!==n&&(r.isSigned===n.isSigned?r.byteWidth>n.byteWidth?t=t.cast(r):n.byteWidth>r.byteWidth&&(e=e.cast(n)):!1===r.isSigned&&r.byteWidth>=n.byteWidth?t=t.cast(r):!1===n.isSigned&&n.byteWidth>=r.byteWidth?e=e.cast(n):!0===r.isSigned&&r.max.gte(n.max)&&r.min.lte(n.min)?t=t.cast(r):!0===n.isSigned&&n.max.gte(r.max)&&n.min.lte(r.min)&&(e=e.cast(n)));return{a:e,b:t}}(e,t),s=i.constructor,o=n(i.value,a.value);return s.from(o,r)}static from(e,t){if(us(e,this))return e;let r,n=this
;if(us(e,ms))n=e.constructor,r=e.value.clone();else if(e instanceof Uint8Array)r=new xi(e,void 0,"le"),n.isSigned&&(r=r.fromTwos(8*n.byteWidth));else{if("string"==typeof e&&!/[0-9]+/.test(e)||"number"==typeof e&&!Number.isFinite(e))throw new Error("Invalid number");r=xi.isBN(e)?e.clone():new xi(e,10),r.isNeg()&&!n.isSigned&&(n={byteWidth:n.byteWidth,isSigned:!0})}switch(t){case"clamp":i=r,a=this.min,s=this.max,r=xi.min(xi.max(i,a),s);break;case"truncate":r=function(e,t,r){
const n=e.isNeg()?255:0,i=(t.isSigned?e.toTwos(8*t.byteWidth):e).toArrayLike(Uint8Array,"le"),a=new Uint8Array(r.byteWidth);a.fill(n),a.set(i.slice(0,r.byteWidth));const s=new xi(a,void 0,"le");return r.isSigned?s.fromTwos(8*r.byteWidth):s}(r,n,this)}var i,a,s;return new this(r)}static fromABI(e){return this.from(e.readArray(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){return this.from(fs(this.byteWidth))}cast(e,t="truncate"){
return this.constructor===e?this:e.from(this,t)}get byteArray(){const e=this.constructor;return(e.isSigned?this.value.toTwos(8*e.byteWidth):this.value).toArrayLike(Uint8Array,"le",e.byteWidth)}equals(e,t=!1){const r=this.constructor;if(!0===t&&us(e,ms)){const t=e.constructor;if(r.byteWidth!==t.byteWidth||r.isSigned!==t.isSigned)return!1}try{return this.value.eq(r.from(e).value)}catch{return!1}}add(e){this.value=this.operator(e,ms.add).value}adding(e){return this.operator(e,ms.add)}subtract(e){
this.value=this.operator(e,ms.sub).value}subtracting(e){return this.operator(e,ms.sub)}multiply(e){this.value=this.operator(e,ms.mul).value}multiplying(e){return this.operator(e,ms.mul)}divide(e,t){this.value=this.dividing(e,t).value}dividing(e,t){let r=ms.div;switch(t){case"ceil":r=ms.divCeil;break;case"round":r=ms.divRound}return this.operator(e,r)}operator(e,t){let r;return r=us(e,ms)?e:ws.from(e,"truncate"),t(this,r).cast(this.constructor)}toNumber(){return this.value.toNumber()}toString(){
return this.value.toString()}[Symbol.toPrimitive](e){return"number"===e?this.toNumber():this.toString()}toABI(e){e.writeArray(this.byteArray)}toJSON(){return this.value.bitLength()>32?this.value.toString():this.value.toNumber()}}ms.abiName="__int";class vs extends ms{}vs.abiName="int8",vs.byteWidth=1,vs.isSigned=!0;class gs extends ms{}gs.abiName="int16",gs.byteWidth=2,gs.isSigned=!0;class _s extends ms{}_s.abiName="int32",_s.byteWidth=4,_s.isSigned=!0;class ws extends ms{}ws.abiName="int64",
ws.byteWidth=8,ws.isSigned=!0;class xs extends ms{}xs.abiName="int128",xs.byteWidth=16,xs.isSigned=!0;class As extends ms{}As.abiName="uint8",As.byteWidth=1,As.isSigned=!1;class ks extends ms{}ks.abiName="uint16",ks.byteWidth=2,ks.isSigned=!1;class Ss extends ms{}Ss.abiName="uint32",Ss.byteWidth=4,Ss.isSigned=!1;class Ms extends ms{}Ms.abiName="uint64",Ms.byteWidth=8,Ms.isSigned=!1;class Es extends ms{}Es.abiName="uint128",Es.byteWidth=16,Es.isSigned=!1;class zs extends ms{static fromABI(e){
return new this(new xi(e.readVarint32()))}toABI(e){e.writeVarint32(Number(this))}}zs.abiName="varint32",zs.byteWidth=32,zs.isSigned=!0;class Is extends ms{static fromABI(e){return new this(new xi(e.readVaruint32()))}toABI(e){e.writeVaruint32(Number(this))}}function Ns(e){let t=e;return e.constructor.byteWidth<4&&(t=e.cast(_s)),t}function Ts(e){const t=[],r=[],n=[],i=new Set,a=e=>{let t;return t="string"!=typeof e.type?s(e.type):e.type,!0===e.array&&(t+="[]"),!0===e.optional&&(t+="?"),
!0===e.extension&&(t+="$"),t},s=e=>{if(!e.abiName)throw new Error("Encountered non-conforming type");if("__struct"===e.abiName)throw new Error("Misconfigured Struct subclass, did you forget @Struct.type?");if(i.has(e))return e.abiName;if(i.add(e),e.abiAlias)n.push({new_type_name:e.abiName,type:a(e.abiAlias)});else if(e.abiFields){const r=e.abiFields.map((e=>({name:e.name,type:a(e)}))),n={base:e.abiBase?s(e.abiBase):"",name:e.abiName,fields:r};t.push(n)}else if(e.abiVariant){const t={
name:e.abiName,types:e.abiVariant.map(a)};r.push(t)}return e.abiName},o=s(e);return{abi:co.from({structs:t,variants:r,types:n}),types:Array.from(i),root:o}}function Ps(e){let t="string"==typeof e.type?e.type:e.type.abiName;return!0===e.array&&(t+="[]"),!0===e.optional&&(t+="?"),!0===e.extension&&(t+="$"),t}function Rs(e){return"string"==typeof e||void 0!==e.abiName?{type:e}:e}Is.abiName="varuint32",Is.byteWidth=32,Is.isSigned=!1;const Os={abiName:"string",abiDefault:()=>"",
fromABI:e=>e.readString(),from:e=>e,toABI:(e,t)=>{t.writeString(e)}},Bs={abiName:"bool",abiDefault:()=>!1,fromABI:e=>1===e.readByte(),from:e=>e,toABI:(e,t)=>{t.writeByte(!0===e?1:0)}};function Us(e=[]){const t={},r=[Bs,Os,fo,fo.Symbol,fo.SymbolCode,oo,hs,ys,ps,bs,uo,ro,eo,to,xs,gs,_s,ws,vs,no,yo,go,ao,so,Es,ks,Ss,Ms,As,zs,Is];for(const e of r)t[e.abiName]=e;for(const r of e){if(!r.abiName)throw new Error("Invalid type");t[r.abiName]=r}return t}function Cs(e){
if(e.constructor&&void 0!==e.constructor.abiName)return e.constructor.abiName;if(Array.isArray(e)){const t=e.map(Cs),r=t[0];if(!r||!t.every((e=>e===r)))return;return r+"[]"}switch(typeof e){case"boolean":return"bool";case"string":return"string"}}function qs(e,t="jsobj"){var r;if(e.constructor&&void 0!==e.constructor.abiName)return e.constructor;if(Array.isArray(e)){const r=e.map((e=>qs(e,t))),n=r[0];if(!n)return;if(!r.every((e=>e&&e.abiName===n.abiName)))return;return n}const n=typeof e
;if("object"===n&&null!==e){const n=Object.keys(e).map((r=>({name:r,type:qs(e[r],t+"_nested")})));if(n.find((e=>!e.type)))return;return(r=class extends Gs{}).abiName=t,r.abiFields=n,r}switch(n){case"boolean":return Bs;case"string":return Os}}class js extends Error{constructor(e,t){super(`Decoding error at ${e.codingPath.map((({field:e,type:t})=>"number"==typeof e?e:`${e}<${t.typeName}>`)).join(".")}: ${t.message}`),this.stack=t.stack,this.ctx=e,this.underlyingError=t}}function Ds(e){
const t=Rs(e.type),r=Ps(t),n=e.customTypes||[];let i;if(e.abi)i=co.from(e.abi);else try{let e;if("string"==typeof t.type){const r=Us(n);if(e=r[new co.ResolvedType(t.type).name],!e)throw new Error(`Unknown type: ${t.type}`)}else e=t.type;const r=Ts(e);i=r.abi,n.push(...r.types)}catch(e){throw Error(`Unable to synthesize ABI for: ${r} (${e.message}). To decode non-class types you need to pass the ABI definition manually.`)}const a=i.resolveType(r);"string"!=typeof t.type&&n.unshift(t.type)
;const s={types:Us(n),strictExtensions:e.strictExtensions||!1,codingPath:[{field:"root",type:a}]};try{if(e.data){let t;if(us(e.data,Ws))t=e.data;else{const r=hs.from(e.data);t=new Ws(r.array)}return e.metadata&&(t.metadata=e.metadata),Ls(a,t,s)}if(void 0!==e.object)return Ks(e.object,a,s);if(e.json)return Ks(JSON.parse(e.json),a,s);throw new Error("Nothing to decode, you must set one of data, json, object")}catch(e){throw new js(s,e)}}js.__className="DecodingError";const Fs=Symbol("Resolved")
;function Ls(e,t,r){if(r.codingPath.length>32)throw new Error("Maximum decoding depth exceeded");if(e.isExtension&&!t.canRead())return r.strictExtensions?Vs(e,r):null;if(e.isOptional&&0===t.readByte())return null;if(e.isArray){const i=t.readVaruint32(),a=[];for(let t=0;t<i;t++)r.codingPath.push({field:t,type:e}),a.push(n()),r.codingPath.pop();return a}return n();function n(){const n=r.types[e.name];if(n&&n.fromABI)return n.fromABI(t);if(e.ref){r.codingPath.push({field:"",type:e.ref})
;const n=Ls(e.ref,t,r);return r.codingPath.pop(),n}if(e.fields){const i=e.allFields;if(!i)throw new Error("Invalid struct fields");const a={};for(const e of i)r.codingPath.push({field:e.name,type:e.type}),a[e.name]=Ls(e.type,t,r),r.codingPath.pop();return n?(a[Fs]=!0,n.from(a)):a}if(e.variant){const i=t.readByte(),a=e.variant[i];if(!a)throw new Error(`Unknown variant idx: ${i}`);r.codingPath.push({field:`v${i}`,type:a});const s=[a.typeName,Ls(a,t,r)];return r.codingPath.pop(),n?n.from(s):s}
throw n?new Error("Invalid type"):new Error("any"===e.name?"Unable to decode 'any' type from binary":"Unknown type")}}function Ks(e,t,r){if(null==e){if(t.isOptional)return null;if(t.isExtension)return r.strictExtensions?Vs(t,r):null;throw new Error(`Unexpectedly encountered ${e} for non-optional`)}if(t.isArray){if(!Array.isArray(e))throw new Error("Expected array");const i=[],a=e.length;for(let s=0;s<a;s++)r.codingPath.push({field:s,type:t}),i.push(n(e[s])),r.codingPath.pop();return i}
return n(e);function n(e){const n=r.types[t.name];if(t.ref&&!n)return Ks(e,t.ref,r);if(t.fields){if("object"!=typeof e)throw new Error("Expected object");if("function"==typeof n&&us(e,n))return e;const i=t.allFields;if(!i)throw new Error("Invalid struct fields");const a={};for(const t of i)r.codingPath.push({field:t.name,type:t.type}),a[t.name]=Ks(e[t.name],t.type,r),r.codingPath.pop();return n?(a[Fs]=!0,n.from(a)):a}if(t.variant){let i
;Array.isArray(e)&&2===e.length&&"string"==typeof e[0]?(i=e[0],e=e[1]):us(e,Xs)?(i=e.variantName,e=e.value):i=Cs(e);const a=t.variant.findIndex((e=>e.typeName===i));if(-1===a)throw new Error(`Unknown variant type: ${i}`);const s=t.variant[a];r.codingPath.push({field:`v${a}`,type:s});const o=[s.typeName,Ks(e,s,r)];return r.codingPath.pop(),n?(o[Fs]=!0,n.from(o)):o}if(!n){if("any"===t.name)return e;throw new Error("Unknown type")}return n.from(e)}}function Vs(e,t,r=new Set){if(e.isArray)return[]
;if(e.isOptional)return null;const n=t.types[e.name];if(n&&n.abiDefault)return n.abiDefault();if(r.has(e.name))throw new Error("Circular type reference");if(r.add(e.name),e.allFields){const i={};for(const n of e.allFields)t.codingPath.push({field:n.name,type:n.type}),i[n.name]=Vs(n.type,t,r),t.codingPath.pop();return n?(i[Fs]=!0,n.from(i)):i}if(e.variant&&e.variant.length>0){const r=[e.variant[0].typeName,Vs(e.variant[0],t)];return n?(r[Fs]=!0,n.from(r)):r}if(e.ref){t.codingPath.push({field:"",
type:e.ref});const n=Vs(e.ref,t,r);return t.codingPath.pop(),n}throw new Error("Unable to determine default value")}class Ws{constructor(e){this.array=e,this.pos=0,this.textDecoder=new TextDecoder("utf-8",{fatal:!0}),this.metadata={},this.data=new DataView(e.buffer,e.byteOffset,e.byteLength)}canRead(e=1){return!(this.pos+e>this.array.byteLength)}ensure(e){if(!this.canRead(e))throw new Error("Read past end of buffer")}setPosition(e){
if(e<0||e>this.array.byteLength)throw new Error("Invalid position");this.pos=e}getPosition(){return this.pos}advance(e){this.ensure(e),this.pos+=e}readByte(){return this.ensure(1),this.array[this.pos++]}readFloat(e){let t;switch(this.ensure(e),e){case 4:t=this.data.getFloat32(this.pos,!0);break;case 8:t=this.data.getFloat64(this.pos,!0);break;default:throw new Error("Invalid float size")}return this.pos+=e,t}readVaruint32(){let e=0,t=0;for(;;){const r=this.readByte();if(e|=(127&r)<<t,t+=7,
!(128&r))break}return e>>>0}readVarint32(){const e=this.readVaruint32();return 1&e?~e>>1|2147483648:e>>>1}readArray(e){this.ensure(e);const t=this.array.subarray(this.pos,this.pos+e);return this.pos+=e,t}readString(){const e=this.readVaruint32();return this.textDecoder.decode(this.readArray(e))}}Ws.__className="ABIDecoder";class Zs extends Error{constructor(e,t){
super(`Encoding error at ${e.codingPath.map((({field:e,type:t})=>"number"==typeof e?e:`${e}<${t.typeName}>`)).join(".")}: ${t.message}`),this.stack=t.stack,this.ctx=e,this.underlyingError=t}}function Hs(e){let t,r;"string"==typeof e.type?r=e.type:e.type&&function(e){return"string"!=typeof e&&void 0===e.abiName&&void 0!==e.type}(e.type)?("string"!=typeof e.type.type&&(t=e.type.type),r=Ps(e.type)):e.type&&void 0!==e.type.abiName?(t=e.type,r=e.type.abiName):(t=qs(e.object),t&&(r=t.abiName,
Array.isArray(e.object)&&(r+="[]")));const n=e.customTypes?e.customTypes.slice():[];if(t)n.unshift(t);else if(r){const e=new co.ResolvedType(r).name;t=n.find((t=>t.abiName===e))}let i;if(e.abi&&r)i=co.from(e.abi).resolveType(r);else if(t){const e=Ts(t);i=e.abi.resolveType(r||t.abiName),n.push(...e.types)}else{if(!r)throw new Error("Unable to determine the type of the object to be encoded. To encode custom ABI types you must pass the type argument.");i=new co.ResolvedType(r)}
const a=Us(n),s=e.encoder||new Js;e.metadata&&(s.metadata=e.metadata);const o={types:a,encoder:s,codingPath:[{field:"root",type:i}]};try{$s(e.object,i,o)}catch(e){throw new Zs(o,e)}return hs.from(s.getData())}function $s(e,t,r){const n=null!=e;if(!t.isOptional||(r.encoder.writeByte(n?1:0),n))if(t.isArray){if(!Array.isArray(e))throw new Error(`Expected array for: ${t.typeName}`);const n=e.length;r.encoder.writeVaruint32(n);for(let a=0;a<n;a++)r.codingPath.push({field:a,type:t}),i(e[a]),
r.codingPath.pop()}else i(e);function i(e){const i=r.types[t.name];if(!t.ref||i){if(!n){if(t.isExtension)return;throw new Error(`Found ${e} for non-optional type: ${t.typeName}`)}if(i&&i.toABI)i.toABI(e,r.encoder);else if("function"==typeof e.toABI&&e.constructor.abiName===t.name)e.toABI(r.encoder);else if(t.fields){if("object"!=typeof e)throw new Error(`Expected object for: ${t.name}`);const n=t.allFields;if(!n)throw new Error("Invalid struct fields");for(const t of n)r.codingPath.push({
field:t.name,type:t.type}),$s(e[t.name],t.type,r),r.codingPath.pop()}else if(t.variant){let n;Array.isArray(e)&&2===e.length&&"string"==typeof e[0]?(n=e[0],e=e[1]):us(e,Xs)?(n=e.variantName,e=e.value):n=Cs(e);const i=t.variant.findIndex((e=>e.typeName===n));if(-1===i){const e=t.variant.map((e=>`'${e.typeName}'`)).join(", ");throw new Error(`Unknown variant type '${n}', expected one of ${e}`)}const a=t.variant[i];r.encoder.writeVaruint32(i),r.codingPath.push({field:`v${i}`,type:a}),$s(e,a,r),
r.codingPath.pop()}else{if(!i)throw new Error("any"===t.name?"Unable to encode any type to binary":"Unknown type");const n=i.from(e);if(!n.toABI)throw new Error(`Invalid type ${t.name}, no encoding methods implemented`);n.toABI(r.encoder)}}else $s(e,t.ref,r)}}Zs.__className="EncodingError";class Js{constructor(e=1024){this.pageSize=e,this.pos=0,this.textEncoder=new TextEncoder,this.metadata={};const t=new ArrayBuffer(e);this.data=new DataView(t),this.array=new Uint8Array(t)}ensure(e){
if(this.data.byteLength>=this.pos+e)return;const t=Math.ceil(e/this.pageSize),r=this.data.byteLength+this.pageSize*t,n=new ArrayBuffer(r),i=new DataView(n),a=new Uint8Array(n);a.set(this.array),this.data=i,this.array=a}writeByte(e){this.ensure(1),this.array[this.pos++]=e}writeArray(e){const t=e.length;this.ensure(t),this.array.set(e,this.pos),this.pos+=t}writeFloat(e,t){switch(this.ensure(t),t){case 4:this.data.setFloat32(this.pos,e,!0);break;case 8:this.data.setFloat64(this.pos,e,!0);break
;default:throw new Error("Invalid float size")}this.pos+=t}writeVaruint32(e){for(this.ensure(4);;){if(!(e>>>7)){this.array[this.pos++]=e;break}this.array[this.pos++]=128|127&e,e>>>=7}}writeVarint32(e){this.writeVaruint32(e<<1^e>>31)}writeString(e){const t=this.textEncoder.encode(e);this.writeVaruint32(t.byteLength),this.writeArray(t)}getData(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.pos)}getBytes(){return new hs(this.getData())}}Js.__className="ABIEncoder";class Gs{
constructor(e){const t=this.constructor;for(const r of t.structFields)this[r.name]=e[r.name]}static from(e){return!0===e[Fs]?new this(e):us(e,this)?e:Ds({object:e,type:this})}static get structFields(){const e=[],t=r=>{r.abiBase&&t(r.abiBase);for(const t of r.abiFields||[])e.push(t)};return t(this),e}equals(e){const t=this.constructor;return(!e.constructor||"string"!=typeof e.constructor.abiName||e.constructor.abiName===t.abiName)&&Hs({object:this}).equals(Hs({object:t.from(e)}))}toJSON(){
const e=this.constructor,t={};for(const r of e.structFields)t[r.name]=this[r.name];return t}}function Ys(e){return function(t){return t.abiAlias={type:Object.getPrototypeOf(t.prototype).constructor},t.abiName=e,t}}Gs.abiName="__struct",function(e){const t=Symbol("FieldsOwner");e.type=function(e){return function(t){return t.abiName=e,t}},e.field=function(e,r){return r||(r={}),(n,i)=>{const a=n.constructor;a.abiFields?a.abiFields[t]!==a&&(a.abiBase=a.abiFields[t],a.abiFields=[],
a.abiFields[t]=a):(a.abiFields=[],a.abiFields[t]=a),a.abiFields.push({...r,name:i,type:e})}}}(Gs||(Gs={}));class Xs{constructor(e){const t=this.constructor.abiVariant;this.value=e[1];const r=t.map(Ps).findIndex((t=>t===e[0]));if(0>r||t.length<=r)throw new Error(`Unknown variant ${e[0]}`);this.variantIdx=r}static from(e){return e[Fs]?new this(e):us(e,this)?e:Ds({object:e,type:this})}equals(e){const t=this.constructor.from(e);return this.variantIdx===t.variantIdx&&Hs({object:this}).equals(Hs({
object:t}))}get variantName(){return Ps(this.constructor.abiVariant[this.variantIdx])}toJSON(){return[this.variantName,this.value]}}Xs.abiName="__variant",Xs.abiVariant=[],function(e){e.type=function(e,t){return function(r){return r.abiName=e,r.abiVariant=t.map(Rs),r}}}(Xs||(Xs={}));class Qs{constructor(e){if(!Number.isFinite(e))throw new Error("Invalid number");this.value=e}static from(e){return us(e,this)?e:("string"==typeof e?e=Number.parseFloat(e):us(e,Qs)&&(e=e.value),new this(e))}
static fromABI(e){return new this(e.readFloat(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){const e=fs(this.byteWidth),t=new Ws(e);return this.fromABI(t)}equals(e){const t=this.constructor;return this.value===t.from(e).value}toABI(e){const t=this.constructor;e.writeFloat(this.value,t.byteWidth)}toString(){return this.value.toString()}toJSON(){return this.toString()}}Qs.abiName="__float";class eo extends Qs{toString(){return this.value.toFixed(7)}}eo.abiName="float32",
eo.byteWidth=4;class to extends Qs{}to.abiName="float64",to.byteWidth=8;class ro{constructor(e){if(16!==e.array.length)throw new Error("Invalid float128");this.data=e}static from(e){return us(e,this)?e:("string"==typeof e&&e.startsWith("0x")&&(e=e.slice(2)),new this(hs.from(e)))}static fromABI(e){return new this(new hs(e.readArray(this.byteWidth)))}static random(){const e=fs(16),t=new Ws(e);return this.fromABI(t)}equals(e){const t=this.constructor;return this.data.equals(t.from(e).data)}
toABI(e){e.writeArray(this.data.array)}toString(){return"0x"+this.data.hexString}toJSON(){return this.toString()}}ro.abiName="float128",ro.byteWidth=16;class no{constructor(e){this.value=e}get rawValue(){return this.value}static from(e){if(us(e,no))return e;if("string"==typeof e)return new no(function(e){function t(e){return e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)?e-"a".charCodeAt(0)+6:e>="1".charCodeAt(0)&&e<="5".charCodeAt(0)?e-"1".charCodeAt(0)+1:0}const r=new Uint8Array(8);let n=63
;for(let i=0;i<e.length;++i){let a=t(e.charCodeAt(i));n<5&&(a<<=1);for(let e=4;e>=0;--e)n>=0&&(r[Math.floor(n/8)]|=(a>>e&1)<<n%8,--n)}return Ms.from(r)}(e));if(us(e,Ms))return new no(e);throw new Error("Invalid name")}static fromABI(e){return new no(Ms.fromABI(e))}static abiDefault(){return new this(Ms.from(0))}equals(e){return this.value.equals(no.from(e).value)}toString(){return function(e){const t=e.value.toArray("le",8);let r="";for(let e=63;e>=0;){let n=0
;for(let r=0;r<5;++r)e>=0&&(n=n<<1|t[Math.floor(e/8)]>>e%8&1,--e);r+=n>=6?String.fromCharCode(n+"a".charCodeAt(0)-6):n>=1?String.fromCharCode(n+"1".charCodeAt(0)-1):"."}for(;r.endsWith(".");)r=r.substr(0,r.length-1);return r}(this.value)}toABI(e){this.value.toABI(e)}toJSON(){return this.toString()}}no.abiName="name",no.pattern=/^[a-z1-5.]{0,13}$/;class io{static from(e){
return us(e,this)?e:us(e,io)?this.fromMilliseconds(e.toMilliseconds()):us(e,Date)?this.fromDate(e):"string"==typeof e?this.fromString(e):this.fromInteger(e)}static fromString(e){const t=Date.parse(e+"Z");if(!Number.isFinite(t))throw new Error("Invalid date string");return this.fromMilliseconds(t)}static fromDate(e){return this.fromMilliseconds(e.getTime())}static abiDefault(){return this.from(0)}toABI(e){this.value.toABI(e)}equals(e){const t=this.constructor
;return this.toMilliseconds()===t.from(e).toMilliseconds()}toMilliseconds(){throw new Error("Not implemented")}toDate(){return new Date(this.toMilliseconds())}toJSON(){return this.toString()}}io.abiName="__time_point_base";class ao extends io{constructor(e){super(),this.value=e}static fromMilliseconds(e){return new this(ws.from(Math.round(1e3*e)))}static fromInteger(e){return new this(ws.from(e))}static fromABI(e){return new this(ws.fromABI(e))}toString(){
return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.dividing(1e3,"round"))}}ao.abiName="time_point";class so extends io{constructor(e){super(),this.value=e}static fromMilliseconds(e){return new this(Ss.from(Math.round(e/1e3)))}static fromInteger(e){return new this(Ss.from(e))}static fromABI(e){return new this(Ss.fromABI(e))}toString(){return this.toDate().toISOString().slice(0,-5)}toMilliseconds(){return Number(this.value.cast(Ms).multiplying(1e3))}}
so.abiName="time_point_sec";class oo extends io{constructor(e){super(),this.value=e}static fromMilliseconds(e){return new this(Ss.from(Math.round((e-9466848e5)/500)))}static fromInteger(e){return new this(Ss.from(e))}static fromABI(e){return new this(Ss.fromABI(e))}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.cast(Ms).multiplying(500).adding(9466848e5))}}oo.abiName="block_timestamp_type";class co{constructor(e){
this.version=e.version||co.version,this.types=e.types||[],this.variants=e.variants||[],this.structs=e.structs||[],this.actions=e.actions||[],this.tables=e.tables||[],this.ricardian_clauses=e.ricardian_clauses||[]}static from(e){return us(e,co)?e:new co("string"==typeof e?JSON.parse(e):e)}static fromABI(e){const t=e.readString(),r=[],n=e.readVaruint32();for(let t=0;t<n;t++)r.push({new_type_name:e.readString(),type:e.readString()});const i=[],a=e.readVaruint32();for(let t=0;t<a;t++){
const t=e.readString(),r=e.readString(),n=e.readVaruint32(),a=[];for(let t=0;t<n;t++)a.push({name:e.readString(),type:e.readString()});i.push({base:r,name:t,fields:a})}const s=[],o=e.readVaruint32();for(let t=0;t<o;t++){const t=no.fromABI(e),r=e.readString(),n=e.readString();s.push({name:t,type:r,ricardian_contract:n})}const c=[],f=e.readVaruint32();for(let t=0;t<f;t++){const t=no.fromABI(e),r=e.readString(),n=[],i=e.readVaruint32();for(let t=0;t<i;t++)n.push(e.readString())
;const a=[],s=e.readVaruint32();for(let t=0;t<s;t++)a.push(e.readString());const o=e.readString();c.push({name:t,index_type:r,key_names:n,key_types:a,type:o})}const d=[],u=e.readVaruint32();for(let t=0;t<u;t++){const t=e.readString(),r=e.readString();d.push({id:t,body:r})}const h=e.readVaruint32();for(let t=0;t<h;t++)e.advance(8),e.advance(e.readVaruint32());const l=e.readVaruint32();for(let t=0;t<l;t++)e.advance(2),e.advance(e.readVaruint32());const p=[];if(e.canRead()){
const t=e.readVaruint32();for(let r=0;r<t;r++){const t=e.readString(),r=[],n=e.readVaruint32();for(let t=0;t<n;t++)r.push(e.readString());p.push({name:t,types:r})}}return new co({version:t,types:r,structs:i,actions:s,tables:c,ricardian_clauses:d,variants:p})}toABI(e){e.writeString(this.version),e.writeVaruint32(this.types.length);for(const t of this.types)e.writeString(t.new_type_name),e.writeString(t.type);e.writeVaruint32(this.structs.length);for(const t of this.structs){e.writeString(t.name),
e.writeString(t.base),e.writeVaruint32(t.fields.length);for(const r of t.fields)e.writeString(r.name),e.writeString(r.type)}e.writeVaruint32(this.actions.length);for(const t of this.actions)no.from(t.name).toABI(e),e.writeString(t.type),e.writeString(t.ricardian_contract);e.writeVaruint32(this.tables.length);for(const t of this.tables){no.from(t.name).toABI(e),e.writeString(t.index_type),e.writeVaruint32(t.key_names.length);for(const r of t.key_names)e.writeString(r)
;e.writeVaruint32(t.key_types.length);for(const r of t.key_types)e.writeString(r);e.writeString(t.type)}e.writeVaruint32(this.ricardian_clauses.length);for(const t of this.ricardian_clauses)e.writeString(t.id),e.writeString(t.body);e.writeVaruint32(0),e.writeVaruint32(0),e.writeVaruint32(this.variants.length);for(const t of this.variants){e.writeString(t.name),e.writeVaruint32(t.types.length);for(const r of t.types)e.writeString(r)}}resolveType(e){return this.resolve({name:e,types:{}},{id:0})}
resolveAll(){const e={},t={id:0};return{types:this.types.map((r=>this.resolve({name:r.new_type_name,types:e},t))),variants:this.variants.map((r=>this.resolve({name:r.name,types:e},t))),structs:this.structs.map((r=>this.resolve({name:r.name,types:e},t)))}}resolve({name:e,types:t},r){const n=t[e];if(n)return n;const i=new co.ResolvedType(e,++r.id);t[i.typeName]=i;const a=this.types.find((e=>e.new_type_name==i.name));if(a)return i.ref=this.resolve({name:a.type,types:t},r),i
;const s=this.getStruct(i.name);if(s)return s.base&&(i.base=this.resolve({name:s.base,types:t},r)),i.fields=s.fields.map((e=>({name:e.name,type:this.resolve({name:e.type,types:t},r)}))),i;const o=this.getVariant(i.name);return o?(i.variant=o.types.map((e=>this.resolve({name:e,types:t},r))),i):i}getStruct(e){return this.structs.find((t=>t.name==e))}getVariant(e){return this.variants.find((t=>t.name==e))}getActionType(e){const t=no.from(e).toString(),r=this.actions.find((e=>e.name.toString()===t))
;if(r)return r.type}equals(e){const t=co.from(e);return this.version==t.version&&this.types.length==t.types.length&&this.structs.length==t.structs.length&&this.actions.length==t.actions.length&&this.tables.length==t.tables.length&&this.ricardian_clauses.length==t.ricardian_clauses.length&&this.variants.length==t.variants.length&&Hs({object:this}).equals(Hs({object:t}))}toJSON(){return{version:this.version,types:this.types,structs:this.structs,actions:this.actions,tables:this.tables,
ricardian_clauses:this.ricardian_clauses,error_messages:[],abi_extensions:[],variants:this.variants}}}co.abiName="abi",co.version="eosio::abi/1.1",function(e){e.ResolvedType=class{constructor(e,t=0){let r=e;r.endsWith("$")?(r=r.slice(0,-1),this.isExtension=!0):this.isExtension=!1,r.endsWith("?")?(r=r.slice(0,-1),this.isOptional=!0):this.isOptional=!1,r.endsWith("[]")?(r=r.slice(0,-2),this.isArray=!0):this.isArray=!1,this.id=t,this.name=r}get typeName(){let e=this.name
;return this.isArray&&(e+="[]"),this.isOptional&&(e+="?"),this.isExtension&&(e+="$"),e}get allFields(){let e=this;const t=[],r=new Set;do{if(!e.fields)return;if(r.has(e.name))return;for(let r=e.fields.length-1;r>=0;r--)t.unshift(e.fields[r]);r.add(e.name),e=e.base}while(void 0!==e);return t}}}(co||(co={}));class fo{constructor(e,t){this.units=e,this.symbol=t}static from(e,t){if(us(e,fo))return e;switch(typeof e){case"number":
if(!t)throw new Error("Symbol is required when creating Asset from number");return this.fromFloat(e,t);case"string":return this.fromString(e);default:throw new Error("Invalid asset")}}static fromString(e){const t=("string"==typeof e?e:"").split(" ");if(2!==t.length)throw new Error("Invalid asset string");const r=t[0].replace(".",""),n=(t[0].split(".")[1]||"").length,i=fo.Symbol.fromParts(t[1],n);return new fo(ws.from(r),i)}static fromFloat(e,t){const r=fo.Symbol.from(t)
;return new fo(r.convertFloat(e),r)}static fromUnits(e,t){return new fo(ws.from(e),fo.Symbol.from(t))}static fromABI(e){const t=ws.fromABI(e),r=fo.Symbol.fromABI(e);return new fo(t,r)}static abiDefault(){return new this(ws.from(0),fo.Symbol.abiDefault())}equals(e){const{symbol:t,units:r}=fo.from(e);return this.symbol.value.equals(t.value)&&this.units.equals(r)}get value(){return this.symbol.convertUnits(this.units)}set value(e){this.units=this.symbol.convertFloat(e)}toABI(e){this.units.toABI(e),
this.symbol.toABI(e)}toString(){const e=this.units.toString().split("");let t=!1;"-"===e[0]&&(t=!0,e.shift());const r=this.symbol.precision;for(;e.length<=r;)e.unshift("0");r>0&&e.splice(e.length-r,0,".");let n=e.join("");return t&&(n="-"+n),n+" "+this.symbol.name}toJSON(){return this.toString()}}fo.abiName="asset",function(e){class t{constructor(e){if(ho(e)>t.maxPrecision)throw new Error("Invalid asset symbol, precision too large")
;if(!t.symbolNamePattern.test(lo(e)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=e}static from(e){if(us(e,t))return e;if(us(e,Ms))return new t(e);const r=e.split(",");if(2!==r.length)throw new Error("Invalid symbol string");const n=Number.parseInt(r[0]);return t.fromParts(r[1],n)}static fromParts(e,r){return new t(function(e,t){const r=bo(e),n=new Uint8Array(r.length+1);return n[0]=t,n.set(r,1),Ms.from(n)}(e,r))}static fromABI(e){return new t(Ms.fromABI(e))}
static abiDefault(){return this.from("4,SYS")}equals(e){return this.value.equals(t.from(e).value)}get name(){return lo(this.value)}get precision(){return ho(this.value)}get code(){return new r(Ms.from(this.value.value.clone().iushrn(8)))}toABI(e){this.value.toABI(e)}convertUnits(e){return e.value.toNumber()/Math.pow(10,this.precision)}convertFloat(e){return ws.from(e.toFixed(this.precision).replace(".",""))}toString(){return`${this.precision},${this.name}`}toJSON(){return this.toString()}}
t.abiName="symbol",t.symbolNamePattern=/^[A-Z]{1,7}$/,t.maxPrecision=18,e.Symbol=t;class r{constructor(e){this.value=e}static from(e){return us(e,r)?e:("string"==typeof e&&(e=Ms.from(bo(e))),new this(Ms.from(e)))}static fromABI(e){return new r(Ms.fromABI(e))}static abiDefault(){return this.from("SYS")}equals(e){return this.value.equals(r.from(e).value)}toABI(e){this.value.toABI(e)}toString(){return po(this.value.value.toArray("be"))}toJSON(){return this.toString()}}r.abiName="symbol_code",
e.SymbolCode=r}(fo||(fo={}));class uo{constructor(e,t){this.quantity=e,this.contract=t}static from(e){return us(e,uo)?e:new this(fo.from(e.quantity),no.from(e.contract))}static fromABI(e){return new uo(fo.fromABI(e),no.fromABI(e))}equals(e){return this.quantity.equals(e.quantity)&&this.contract.equals(e.contract)}toABI(e){this.quantity.toABI(e),this.contract.toABI(e)}toJSON(){return{quantity:this.quantity,contract:this.contract}}}function ho(e){return e.value.and(Ms.from(255).value).toNumber()}
function lo(e){return po(e.value.toArray("be").slice(0,-1))}function po(e){return e.map((e=>String.fromCharCode(e))).reverse().join("")}function bo(e){const t=Math.min(e.length,7),r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r}uo.abiName="extended_asset",e.Base58=void 0,function(e){let t;!function(e){e.E_CHECKSUM="E_CHECKSUM",e.E_INVALID="E_INVALID"}(t=e.ErrorCode||(e.ErrorCode={}));class r extends Error{constructor(e,t,r={}){super(e),this.code=t,this.info=r}}
r.__className="DecodingError",e.DecodingError=r;const n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",i=new Int16Array(255).fill(-1);for(let e=0;e<58;++e)i[n.charCodeAt(e)]=e;function a(e,n){if(null==n)return function(e){const n=[];for(let a=0;a<e.length;++a){let s=i[e.charCodeAt(a)];if(s<0)throw new r("Invalid Base58 character encountered",t.E_INVALID,{char:e[a]});for(let e=0;e<n.length;++e){const t=58*n[e]+s;n[e]=255&t,s=t>>8}s&&n.push(s)}for(const t of e){if("1"!==t)break
;n.push(0)}return n.reverse(),hs.from(n)}(e);const a=new Uint8Array(n);for(let s=0;s<e.length;++s){let o=i[e.charCodeAt(s)];if(o<0)throw new r("Invalid Base58 character encountered",t.E_INVALID,{char:e[s]});for(let e=0;e<n;++e){const t=58*a[e]+o;a[e]=t,o=t>>8}if(o)throw new r("Base58 value is out of range",t.E_INVALID)}return a.reverse(),new hs(a)}function s(e){e=hs.from(e);const t=[];for(const r of e.array){let e=r;for(let r=0;r<t.length;++r){const a=(i[t[r]]<<8)+e;t[r]=n.charCodeAt(a%58),
e=a/58|0}for(;e;)t.push(n.charCodeAt(e%58)),e=e/58|0}for(const r of e.array){if(r)break;t.push("1".charCodeAt(0))}return t.reverse(),String.fromCharCode(...t)}function o(e,t){const r=wr.ripemd160().update(e);return t&&r.update(t),new Uint8Array(r.digest().slice(0,4))}function c(e){const t=wr.sha256().update(e).digest(),r=wr.sha256().update(t).digest();return new Uint8Array(r.slice(0,4))}e.decode=a,e.decodeCheck=function(e,n){
const i=a(e,null!=n?n+4:n),s=i.array.subarray(0,-4),o=i.array.subarray(-4),f=c(s);if(!as(o,f))throw new r("Checksum mismatch",t.E_CHECKSUM,{actual:f,expected:o,data:s,hash:"double_sha256"});return new hs(s)},e.decodeRipemd160Check=function(e,n,i){const s=a(e,null!=n?n+4:n),c=s.array.subarray(0,-4),f=s.array.subarray(-4),d=o(c,i);if(!as(f,d))throw new r("Checksum mismatch",t.E_CHECKSUM,{actual:d,expected:f,data:c,hash:"ripemd160"});return new hs(c)},e.encode=s,e.encodeCheck=function(e){
return s(e=(e=hs.from(e)).appending(c(e.array)))},e.encodeRipemd160Check=function(e,t){return s(e=(e=hs.from(e)).appending(o(e.array,t)))}}(e.Base58||(e.Base58={}));class yo{constructor(e,t){this.type=e,this.data=t}static from(t){if(us(t,yo))return t;if("object"==typeof t&&t.type&&t.compressed)return new yo(e.KeyType.from(t.type),new hs(t.compressed));if("string"!=typeof t)throw new Error("Invalid public key");if(t.startsWith("PUB_")){const r=t.split("_")
;if(3!==r.length)throw new Error("Invalid public key string");const n=e.KeyType.from(r[1]),i=n===e.KeyType.K1||n===e.KeyType.R1?33:void 0,a=e.Base58.decodeRipemd160Check(r[2],i,n);return new yo(n,a)}if(t.length>=50){const r=e.Base58.decodeRipemd160Check(t.slice(-50));return new yo(e.KeyType.K1,r)}throw new Error("Invalid public key string")}static fromABI(t){const r=e.KeyType.from(t.readByte());if(r==e.KeyType.WA){const r=t.getPosition();t.advance(33),t.advance(1),t.advance(t.readVaruint32())
;const n=t.getPosition()-r;t.setPosition(r);const i=hs.from(t.readArray(n));return new yo(e.KeyType.WA,i)}return new yo(r,new hs(t.readArray(33)))}equals(e){const t=yo.from(e);return this.type===t.type&&this.data.equals(t.data)}toLegacyString(t="EOS"){if(this.type!==e.KeyType.K1)throw new Error("Unable to create legacy formatted string for non-K1 key");return`${t}${e.Base58.encodeRipemd160Check(this.data)}`}toString(){return`PUB_${this.type}_${e.Base58.encodeRipemd160Check(this.data,this.type)}`
}toABI(t){t.writeByte(e.KeyType.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}yo.abiName="public_key";const mo={};function vo(e){let t=mo[e];if(!t)if("K1"===e)t=mo[e]=new Ai.ec("secp256k1");else{if("R1"!==e)throw new Error(`Unknown curve type: ${e}`);t=mo[e]=new Ai.ec("p256")}return t}class go{constructor(e,t){this.type=e,this.data=t}static from(t){if(us(t,go))return t;if("object"==typeof t&&t.r&&t.s){const r=new Uint8Array(65);let n=t.recid
;const i=e.KeyType.from(t.type);return t.type!==e.KeyType.K1&&t.type!==e.KeyType.R1||(n+=31),r[0]=n,r.set(t.r,1),r.set(t.s,33),new go(i,new hs(r))}if("string"!=typeof t)throw new Error("Invalid signature");if(t.startsWith("SIG_")){const r=t.split("_");if(3!==r.length)throw new Error("Invalid signature string");const n=e.KeyType.from(r[1]),i=n===e.KeyType.K1||n===e.KeyType.R1?65:void 0,a=e.Base58.decodeRipemd160Check(r[2],i,n);return new go(n,a)}throw new Error("Invalid signature string")}
static fromABI(t){const r=e.KeyType.from(t.readByte());if(r===e.KeyType.WA){const r=t.getPosition();t.advance(65),t.advance(t.readVaruint32()),t.advance(t.readVaruint32());const n=t.getPosition()-r;t.setPosition(r);const i=hs.from(t.readArray(n));return new go(e.KeyType.WA,i)}return new go(r,new hs(t.readArray(65)))}equals(e){const t=go.from(e);return this.type===t.type&&this.data.equals(t.data)}recoverDigest(e){e=ps.from(e);const t=function(e,t,r){
const n=vo(r),i=e[0]-31,a=e.subarray(1,33),s=e.subarray(33),o=n.recoverPubKey(t,{r:a,s:s},i);return new Uint8Array(o.encodeCompressed())}(this.data.array,e.array,this.type);return yo.from({compressed:t,type:this.type})}recoverMessage(e){return this.recoverDigest(ps.hash(e))}verifyDigest(e,t){return e=ps.from(e),function(e,t,r,n){const i=vo(n),a=e.subarray(1,33),s=e.subarray(33);return i.verify(t,{r:a,s:s},r)}(this.data.array,e.array,t.data.array,this.type)}verifyMessage(e,t){
return this.verifyDigest(ps.hash(e),t)}toString(){return`SIG_${this.type}_${e.Base58.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(e.KeyType.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}function _o(e,t){return!(128&e[0]||0===e[0]&&!(128&e[1])||128&t[0]||0===t[0]&&!(128&t[1]))}go.abiName="signature";class wo{constructor(e,t){this.type=e,this.data=t}static from(e){return us(e,wo)?e:this.fromString(e)}static fromString(t,r=!1){try{
const{type:r,data:n}=function(t){const r=typeof t;if("string"!==r)throw new Error(`Expected string, got ${r}`);if(t.startsWith("PVT_")){const r=t.split("_");if(3!==r.length)throw new Error("Invalid PVT format");const n=e.KeyType.from(r[1]);let i;switch(n){case e.KeyType.K1:case e.KeyType.R1:i=32}return{type:n,data:e.Base58.decodeRipemd160Check(r[2],i,n)}}{const r=e.KeyType.K1,n=e.Base58.decodeCheck(t);if(128!==n.array[0])throw new Error("Invalid WIF");return{type:r,data:n.droppingFirst()}}}(t)
;return new this(r,n)}catch(n){if(n.message=`Invalid private key (${n.message})`,r&&us(n,e.Base58.DecodingError)&&n.code===e.Base58.ErrorCode.E_CHECKSUM){const r=t.startsWith("PVT_R1")?e.KeyType.R1:e.KeyType.K1;let i=new hs(n.info.data);return 33==i.array.length&&(i=i.droppingFirst()),new this(r,i)}throw n}}static generate(t){return new wo(e.KeyType.from(t),new hs(function(e){return vo(e).genKeyPair().getPrivate().toArrayLike(Uint8Array,"be")}(t)))}signDigest(e){return e=ps.from(e),
go.from(function(e,t,r){const n=vo(r).keyFromPrivate(e);let i,a,s;if("K1"===r){let e=1;do{i=n.sign(t,{canonical:!0,pers:[e++]}),a=i.r.toArrayLike(Uint8Array,"be",32),s=i.s.toArrayLike(Uint8Array,"be",32)}while(!_o(a,s))}else i=n.sign(t,{canonical:!0}),a=i.r.toArrayLike(Uint8Array,"be",32),s=i.s.toArrayLike(Uint8Array,"be",32);return{type:r,r:a,s:s,recid:i.recoveryParam||0}}(this.data.array,e.array,this.type))}signMessage(e){return this.signDigest(ps.hash(e))}sharedSecret(e){
const t=function(e,t,r){const n=vo(r),i=n.keyFromPrivate(e),a=n.keyFromPublic(t).getPublic();return i.derive(a).toArrayLike(Uint8Array,"be")}(this.data.array,e.data.array,this.type);return bs.hash(t)}toPublic(){const e=function(e,t){const r=vo(t).keyFromPrivate(e).getPublic();return new Uint8Array(r.encodeCompressed())}(this.data.array,this.type);return yo.from({compressed:e,type:this.type})}toWif(){if(this.type!==e.KeyType.K1)throw new Error("Unable to generate WIF for non-k1 key")
;return e.Base58.encodeCheck(hs.from([128]).appending(this.data))}toString(){return`PVT_${this.type}_${e.Base58.encodeRipemd160Check(this.data,this.type)}`}toJSON(){return this.toString()}}var xo,Ao,ko,So;e.PermissionLevel=xo=class extends Gs{static from(e){if("string"==typeof e){const t=e.split("@");if(2!==t.length&&t[0].length>0&&t[1].length>0)throw new Error("Invalid permission level string, should be in the format <actor>@<permission>");e={actor:t[0],permission:t[1]}}return super.from(e)}
equals(e){const t=xo.from(e);return this.actor.equals(t.actor)&&this.permission.equals(t.permission)}toString(){return`${this.actor}@${this.permission}`}},is([Gs.field("name")],e.PermissionLevel.prototype,"actor",void 0),is([Gs.field("name")],e.PermissionLevel.prototype,"permission",void 0),e.PermissionLevel=xo=is([Gs.type("permission_level")],e.PermissionLevel),e.Action=Ao=class extends Gs{static from(e,t){const r=e.data;if(!hs.isBytes(r)){let n
;if(t)n=co.from(t).getActionType(e.name);else if(!r.constructor||void 0===r.constructor.abiName)throw new Error("Missing ABI definition when creating action with untyped action data");e={...e,data:Hs({object:r,type:n,abi:t})}}return super.from(e)}equals(e){const t=Ao.from(e);return this.account.equals(t.account)&&this.name.equals(t.name)&&function(e,t){const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(!e[n].equals(t[n]))return!1;return!0
}(this.authorization,t.authorization)&&this.data.equals(t.data)}decodeData(e){if("string"==typeof e||e.abiName)return Ds({data:this.data,type:e});{const t=co.from(e),r=t.getActionType(this.name);if(!r)throw new Error(`Action ${this.name} does not exist in provided ABI`);return Ds({data:this.data,type:r,abi:t})}}},is([Gs.field("name")],e.Action.prototype,"account",void 0),is([Gs.field("name")],e.Action.prototype,"name",void 0),is([Gs.field(e.PermissionLevel,{array:!0
})],e.Action.prototype,"authorization",void 0),is([Gs.field("bytes")],e.Action.prototype,"data",void 0),e.Action=Ao=is([Gs.type("action")],e.Action),e.TransactionExtension=class extends Gs{},is([Gs.field("uint16")],e.TransactionExtension.prototype,"type",void 0),is([Gs.field("bytes")],e.TransactionExtension.prototype,"data",void 0),e.TransactionExtension=is([Gs.type("transaction_extension")],e.TransactionExtension),e.TransactionHeader=class extends Gs{static from(e){return super.from({
max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...e})}},is([Gs.field("time_point_sec")],e.TransactionHeader.prototype,"expiration",void 0),is([Gs.field("uint16")],e.TransactionHeader.prototype,"ref_block_num",void 0),is([Gs.field("uint32")],e.TransactionHeader.prototype,"ref_block_prefix",void 0),is([Gs.field("varuint32")],e.TransactionHeader.prototype,"max_net_usage_words",void 0),is([Gs.field("uint8")],e.TransactionHeader.prototype,"max_cpu_usage_ms",void 0),
is([Gs.field("varuint32")],e.TransactionHeader.prototype,"delay_sec",void 0),e.TransactionHeader=is([Gs.type("transaction_header")],e.TransactionHeader),e.Transaction=ko=class extends e.TransactionHeader{static from(t,r){const n=t=>{return e.Action.from(t,(n=t.account,r?Array.isArray(r)?r.filter((e=>no.from(e.contract).equals(n))).map((({abi:e})=>e))[0]:r:void 0));var n},i=(t.actions||[]).map(n),a=(t.context_free_actions||[]).map(n),s={transaction_extensions:[],...t,context_free_actions:a,
actions:i};return super.from(s)}equals(e){const t=ko.from(e);return this.id.equals(t.id)}get id(){return ps.hash(Hs({object:this}))}signingDigest(e){const t=this.signingData(e);return ps.hash(t)}signingData(e){let t=hs.from(ps.from(e).array);return t=t.appending(Hs({object:this})),t=t.appending(new Uint8Array(32)),t}},is([Gs.field(e.Action,{array:!0})],e.Transaction.prototype,"context_free_actions",void 0),is([Gs.field(e.Action,{array:!0})],e.Transaction.prototype,"actions",void 0),
is([Gs.field(e.TransactionExtension,{array:!0})],e.Transaction.prototype,"transaction_extensions",void 0),e.Transaction=ko=is([Gs.type("transaction")],e.Transaction),e.SignedTransaction=class extends e.Transaction{static from(e){return super.from({signatures:[],context_free_data:[],...e})}},is([Gs.field("signature[]")],e.SignedTransaction.prototype,"signatures",void 0),is([Gs.field("bytes[]")],e.SignedTransaction.prototype,"context_free_data",void 0),
e.SignedTransaction=is([Gs.type("signed_transaction")],e.SignedTransaction),e.PackedTransaction=class extends Gs{static from(e){return super.from({signatures:[],packed_context_free_data:"",compression:0,...e})}static fromSigned(t){const r=e.Transaction.from(t);return this.from({signatures:t.signatures,packed_context_free_data:Hs({object:t.context_free_data,type:"bytes[]"}),packed_trx:Hs({object:r})})}getTransaction(){
if(0!==Number(this.compression))throw new Error("Transaction compression not supported yet");return Ds({data:this.packed_trx,type:e.Transaction})}getSignedTransaction(){const t=this.getTransaction();return e.SignedTransaction.from({...t,signatures:this.signatures})}},is([Gs.field("signature[]")],e.PackedTransaction.prototype,"signatures",void 0),is([Gs.field("uint8")],e.PackedTransaction.prototype,"compression",void 0),
is([Gs.field("bytes")],e.PackedTransaction.prototype,"packed_context_free_data",void 0),is([Gs.field("bytes")],e.PackedTransaction.prototype,"packed_trx",void 0),e.PackedTransaction=is([Gs.type("packed_transaction")],e.PackedTransaction),e.TransactionReceipt=class extends Gs{},is([Gs.field("string")],e.TransactionReceipt.prototype,"status",void 0),is([Gs.field("uint32")],e.TransactionReceipt.prototype,"cpu_usage_us",void 0),
is([Gs.field("uint32")],e.TransactionReceipt.prototype,"net_usage_words",void 0),e.TransactionReceipt=is([Gs.type("transaction_receipt")],e.TransactionReceipt),e.Weight=class extends ks{},e.Weight=is([Ys("weight_type")],e.Weight),e.KeyWeight=class extends Gs{},is([Gs.field(yo)],e.KeyWeight.prototype,"key",void 0),is([Gs.field(e.Weight)],e.KeyWeight.prototype,"weight",void 0),e.KeyWeight=is([Gs.type("key_weight")],e.KeyWeight),e.PermissionLevelWeight=class extends Gs{},
is([Gs.field(e.PermissionLevel)],e.PermissionLevelWeight.prototype,"permission",void 0),is([Gs.field(e.Weight)],e.PermissionLevelWeight.prototype,"weight",void 0),e.PermissionLevelWeight=is([Gs.type("permission_level_weight")],e.PermissionLevelWeight),e.WaitWeight=class extends Gs{},is([Gs.field(Ss)],e.WaitWeight.prototype,"wait_sec",void 0),is([Gs.field(e.Weight)],e.WaitWeight.prototype,"weight",void 0),e.WaitWeight=is([Gs.type("wait_weight")],e.WaitWeight),e.Authority=So=class extends Gs{
static from(e){if(us(e,So))return e;const t=super.from({keys:[],accounts:[],waits:[],...e});return t.sort(),t}get waitThreshold(){return this.waits.reduce(((e,t)=>e+t.weight.toNumber()),0)}get keyThreshold(){return this.threshold.toNumber()-this.waitThreshold}keyWeight(e){const t=this.keys.find((({key:t})=>t.equals(e)));return t?t.weight.toNumber():0}hasPermission(e,t=!1){const r=t?1:this.keyThreshold;return this.keyWeight(e)>=r}sort(){
this.keys.sort(((e,t)=>String(e.key).localeCompare(String(t.key)))),this.accounts.sort(((e,t)=>String(e.permission).localeCompare(String(t.permission)))),this.waits.sort(((e,t)=>String(e.wait_sec).localeCompare(String(t.wait_sec))))}},is([Gs.field(Ss)],e.Authority.prototype,"threshold",void 0),is([Gs.field(e.KeyWeight,{array:!0})],e.Authority.prototype,"keys",void 0),is([Gs.field(e.PermissionLevelWeight,{array:!0})],e.Authority.prototype,"accounts",void 0),is([Gs.field(e.WaitWeight,{array:!0
})],e.Authority.prototype,"waits",void 0),e.Authority=So=is([Gs.type("authority")],e.Authority),e.Serializer=void 0,function(e){e.encode=Hs,e.decode=Ds,e.synthesize=function(e){return Ts(e).abi},e.stringify=function(e){return JSON.stringify(e)},e.objectify=function(e){const t=e=>{switch(typeof e){case"boolean":case"number":case"string":return e;case"object":{if(null===e)return e;if("function"==typeof e.toJSON)return t(e.toJSON());if(Array.isArray(e))return e.map(t);const r={}
;for(const n of Object.keys(e))r[n]=t(e[n]);return r}}};return t(e)}}(e.Serializer||(e.Serializer={}));class Mo{constructor(e,t={}){if((e=e.trim()).endsWith("/")&&(e=e.slice(0,-1)),this.url=e,t.fetch)this.fetch=t.fetch;else if("undefined"!=typeof window&&window.fetch)this.fetch=window.fetch.bind(window);else{if("undefined"==typeof global||!global.fetch)throw new Error("Missing fetch");this.fetch=global.fetch.bind(global)}}async call(e,t){const r=this.url+e,n=await this.fetch(r,{method:"POST",
body:void 0!==t?JSON.stringify(t):void 0}),i=await n.text();let a;try{a=JSON.parse(i)}catch{}const s={};for(const[e,t]of n.headers.entries())s[e]=t;return{headers:s,status:n.status,json:a,text:i}}}let Eo=class extends Gs{};is([Gs.field("name")],Eo.prototype,"perm_name",void 0),is([Gs.field("name")],Eo.prototype,"parent",void 0),is([Gs.field(e.Authority)],Eo.prototype,"required_auth",void 0),Eo=is([Gs.type("account_permission")],Eo);let zo=class extends Gs{}
;is([Gs.field("int64")],zo.prototype,"used",void 0),is([Gs.field("int64")],zo.prototype,"available",void 0),is([Gs.field("int64")],zo.prototype,"max",void 0),zo=is([Gs.type("account_resource_limit")],zo);let Io=class extends Gs{};is([Gs.field("name")],Io.prototype,"owner",void 0),is([Gs.field("asset")],Io.prototype,"net_weight",void 0),is([Gs.field("asset")],Io.prototype,"cpu_weight",void 0),is([Gs.field("uint64")],Io.prototype,"ram_bytes",void 0),Io=is([Gs.type("account_total_resources")],Io)
;let No=class extends Gs{};is([Gs.field("name")],No.prototype,"from",void 0),is([Gs.field("name")],No.prototype,"to",void 0),is([Gs.field("asset")],No.prototype,"net_weight",void 0),is([Gs.field("asset")],No.prototype,"cpu_weight",void 0),No=is([Gs.type("account_self_delegated_bandwidth")],No);let To=class extends Gs{};is([Gs.field("name")],To.prototype,"owner",void 0),is([Gs.field("time_point")],To.prototype,"request_time",void 0),is([Gs.field("asset")],To.prototype,"net_amount",void 0),
is([Gs.field("asset")],To.prototype,"cpu_amount",void 0),To=is([Gs.type("account_refund_request")],To);let Po=class extends Gs{};is([Gs.field("name")],Po.prototype,"owner",void 0),is([Gs.field("name")],Po.prototype,"proxy",void 0),is([Gs.field("name",{array:!0})],Po.prototype,"producers",void 0),is([Gs.field("int64",{optional:!0})],Po.prototype,"staked",void 0),is([Gs.field("bool")],Po.prototype,"is_proxy",void 0),is([Gs.field("uint32",{optional:!0})],Po.prototype,"flags1",void 0),
is([Gs.field("uint32")],Po.prototype,"reserved2",void 0),is([Gs.field("string")],Po.prototype,"reserved3",void 0),Po=is([Gs.type("account_voter_info")],Po);let Ro=class extends Gs{};is([Gs.field("time_point",{optional:!0})],Ro.prototype,"key",void 0),is([Gs.field("int64",{optional:!0})],Ro.prototype,"value",void 0),is([Gs.field("time_point",{optional:!0})],Ro.prototype,"first",void 0),is([Gs.field("int64",{optional:!0})],Ro.prototype,"second",void 0),
Ro=is([Gs.type("account_rex_info_maturities")],Ro);let Oo=class extends Gs{};is([Gs.field("uint32")],Oo.prototype,"version",void 0),is([Gs.field("name")],Oo.prototype,"owner",void 0),is([Gs.field("asset")],Oo.prototype,"vote_stake",void 0),is([Gs.field("asset")],Oo.prototype,"rex_balance",void 0),is([Gs.field("int64")],Oo.prototype,"matured_rex",void 0),is([Gs.field(Ro,{array:!0})],Oo.prototype,"rex_maturities",void 0),Oo=is([Gs.type("account_rex_info")],Oo);let Bo=class extends Gs{
getPermission(e){const t=no.from(e),r=this.permissions.find((e=>e.perm_name.equals(t)));if(!r)throw new Error(`Unknown permission ${t} on account ${this.account_name}.`);return r}};is([Gs.field("name")],Bo.prototype,"account_name",void 0),is([Gs.field("uint32")],Bo.prototype,"head_block_num",void 0),is([Gs.field("time_point")],Bo.prototype,"head_block_time",void 0),is([Gs.field("bool")],Bo.prototype,"privileged",void 0),is([Gs.field("time_point")],Bo.prototype,"last_code_update",void 0),
is([Gs.field("time_point")],Bo.prototype,"created",void 0),is([Gs.field("asset?")],Bo.prototype,"core_liquid_balance",void 0),is([Gs.field("int64")],Bo.prototype,"ram_quota",void 0),is([Gs.field("int64")],Bo.prototype,"net_weight",void 0),is([Gs.field("int64")],Bo.prototype,"cpu_weight",void 0),is([Gs.field(zo)],Bo.prototype,"net_limit",void 0),is([Gs.field(zo)],Bo.prototype,"cpu_limit",void 0),is([Gs.field("uint64")],Bo.prototype,"ram_usage",void 0),is([Gs.field(Eo,{array:!0
})],Bo.prototype,"permissions",void 0),is([Gs.field(Io)],Bo.prototype,"total_resources",void 0),is([Gs.field(No,{optional:!0})],Bo.prototype,"self_delegated_bandwidth",void 0),is([Gs.field(To,{optional:!0})],Bo.prototype,"refund_request",void 0),is([Gs.field(Po,{optional:!0})],Bo.prototype,"voter_info",void 0),is([Gs.field(Oo,{optional:!0})],Bo.prototype,"rex_info",void 0),Bo=is([Gs.type("account_object")],Bo);let Uo=class extends Gs{};is([Gs.field("name")],Uo.prototype,"producer_name",void 0),
is([Gs.field("public_key")],Uo.prototype,"block_signing_key",void 0),Uo=is([Gs.type("new_producers_entry")],Uo);let Co=class extends Gs{};is([Gs.field("uint32")],Co.prototype,"version",void 0),is([Gs.field(Uo,{array:!0})],Co.prototype,"producers",void 0),Co=is([Gs.type("new_producers")],Co);let qo=class extends Gs{};is([Gs.field("uint16")],qo.prototype,"type",void 0),is([Gs.field("bytes")],qo.prototype,"data",void 0),qo=is([Gs.type("block_extension")],qo);let jo=class extends Gs{}
;is([Gs.field("uint16")],jo.prototype,"type",void 0),is([Gs.field("bytes")],jo.prototype,"data",void 0),jo=is([Gs.type("header_extension")],jo);class Do{constructor(e,t){this.id=e,this.extra=t}static from(e){let t,r;return"string"==typeof e?(t=ps.from(e),r={}):(t=ps.from(e.id),r=e),new this(t,r)}get transaction(){if(this.extra.packed_trx)return e.Serializer.decode({data:this.extra.packed_trx,type:e.Transaction})}get signatures(){if(this.extra.signatures)return this.extra.signatures.map(go.from)}
equals(e){return this.id.equals(e.id)}toJSON(){return this.id}}Do.abiName="trx_variant";let Fo=class extends e.TransactionReceipt{get id(){return this.trx.id}};is([Gs.field(Do)],Fo.prototype,"trx",void 0),Fo=is([Gs.type("get_block_response_receipt")],Fo);let Lo=class extends Gs{};is([Gs.field("time_point")],Lo.prototype,"timestamp",void 0),is([Gs.field("name")],Lo.prototype,"producer",void 0),is([Gs.field("uint16")],Lo.prototype,"confirmed",void 0),
is([Gs.field("checksum256")],Lo.prototype,"previous",void 0),is([Gs.field("checksum256")],Lo.prototype,"transaction_mroot",void 0),is([Gs.field("checksum256")],Lo.prototype,"action_mroot",void 0),is([Gs.field("uint32")],Lo.prototype,"schedule_version",void 0),is([Gs.field(Co,{optional:!0})],Lo.prototype,"new_producers",void 0),is([Gs.field("header_extension",{optional:!0})],Lo.prototype,"header_extensions",void 0),is([Gs.field("any",{optional:!0})],Lo.prototype,"new_protocol_features",void 0),
is([Gs.field("signature")],Lo.prototype,"producer_signature",void 0),is([Gs.field(Fo,{array:!0})],Lo.prototype,"transactions",void 0),is([Gs.field("block_extension",{optional:!0})],Lo.prototype,"block_extensions",void 0),is([Gs.field("checksum256")],Lo.prototype,"id",void 0),is([Gs.field("uint32")],Lo.prototype,"block_num",void 0),is([Gs.field("uint32")],Lo.prototype,"ref_block_prefix",void 0),Lo=is([Gs.type("get_block_response")],Lo);let Ko=class extends Gs{}
;is([Gs.field("name")],Ko.prototype,"producer_name",void 0),is([Gs.field("any")],Ko.prototype,"authority",void 0),Ko=is([Gs.type("active_schedule_producer_authority")],Ko);let Vo=class extends Gs{};is([Gs.field("name")],Vo.prototype,"producer_name",void 0),is([Gs.field(Ko)],Vo.prototype,"authority",void 0),Vo=is([Gs.type("active_schedule_producer")],Vo);let Wo=class extends Gs{};is([Gs.field("uint32")],Wo.prototype,"version",void 0),is([Gs.field(Vo,{array:!0})],Wo.prototype,"producers",void 0),
Wo=is([Gs.type("active_schedule")],Wo);let Zo=class extends Gs{};is([Gs.field("time_point")],Zo.prototype,"timestamp",void 0),is([Gs.field("name")],Zo.prototype,"producer",void 0),is([Gs.field("uint16")],Zo.prototype,"confirmed",void 0),is([Gs.field("checksum256")],Zo.prototype,"previous",void 0),is([Gs.field("checksum256")],Zo.prototype,"transaction_mroot",void 0),is([Gs.field("checksum256")],Zo.prototype,"action_mroot",void 0),is([Gs.field("uint32")],Zo.prototype,"schedule_version",void 0),
is([Gs.field(jo,{array:!0,optional:!0})],Zo.prototype,"header_extensions",void 0),is([Gs.field("signature")],Zo.prototype,"producer_signature",void 0),Zo=is([Gs.type("block_state_header")],Zo);let Ho=class extends Gs{};is([Gs.field("uint32")],Ho.prototype,"block_num",void 0),is([Gs.field("uint32")],Ho.prototype,"dpos_proposed_irreversible_blocknum",void 0),is([Gs.field("uint32")],Ho.prototype,"dpos_irreversible_blocknum",void 0),is([Gs.field("checksum256")],Ho.prototype,"id",void 0),
is([Gs.field(Zo)],Ho.prototype,"header",void 0),is([Gs.field("any")],Ho.prototype,"active_schedule",void 0),is([Gs.field("any")],Ho.prototype,"blockroot_merkle",void 0),is([Gs.field("any")],Ho.prototype,"producer_to_last_produced",void 0),is([Gs.field("any")],Ho.prototype,"producer_to_last_implied_irb",void 0),is([Gs.field("any")],Ho.prototype,"valid_block_signing_authority",void 0),is([Gs.field("any")],Ho.prototype,"confirm_count",void 0),
is([Gs.field("any")],Ho.prototype,"pending_schedule",void 0),is([Gs.field("any")],Ho.prototype,"activated_protocol_features",void 0),is([Gs.field("any")],Ho.prototype,"additional_signatures",void 0),Ho=is([Gs.type("get_block_header_state_response")],Ho);let $o=class extends Gs{getTransactionHeader(t=120){const r=so.fromMilliseconds(this.head_block_time.toMilliseconds()+1e3*t),n=this.last_irreversible_block_id.array.subarray(8,12),i=new Uint32Array(n.buffer,n.byteOffset,1)[0]
;return e.TransactionHeader.from({expiration:r,ref_block_num:65535&Number(this.last_irreversible_block_num),ref_block_prefix:i})}};is([Gs.field("string")],$o.prototype,"server_version",void 0),is([Gs.field("checksum256")],$o.prototype,"chain_id",void 0),is([Gs.field("uint32")],$o.prototype,"head_block_num",void 0),is([Gs.field("uint32")],$o.prototype,"last_irreversible_block_num",void 0),is([Gs.field("checksum256")],$o.prototype,"last_irreversible_block_id",void 0),
is([Gs.field("checksum256")],$o.prototype,"head_block_id",void 0),is([Gs.field("time_point")],$o.prototype,"head_block_time",void 0),is([Gs.field("name")],$o.prototype,"head_block_producer",void 0),is([Gs.field("uint64")],$o.prototype,"virtual_block_cpu_limit",void 0),is([Gs.field("uint64")],$o.prototype,"virtual_block_net_limit",void 0),is([Gs.field("uint64")],$o.prototype,"block_cpu_limit",void 0),is([Gs.field("uint64")],$o.prototype,"block_net_limit",void 0),
is([Gs.field("string?")],$o.prototype,"server_version_string",void 0),is([Gs.field("uint32?")],$o.prototype,"fork_db_head_block_num",void 0),is([Gs.field("checksum256?")],$o.prototype,"fork_db_head_block_id",void 0),$o=is([Gs.type("get_info_response")],$o);let Jo=class extends Gs{};is([Gs.field("name")],Jo.prototype,"code",void 0),is([Gs.field("name")],Jo.prototype,"scope",void 0),is([Gs.field("name")],Jo.prototype,"table",void 0),is([Gs.field("name")],Jo.prototype,"payer",void 0),
is([Gs.field("uint32")],Jo.prototype,"count",void 0),Jo=is([Gs.type("get_table_by_scope_response_row")],Jo);let Go=class extends Gs{};is([Gs.field(Jo,{array:!0})],Go.prototype,"rows",void 0),is([Gs.field("string")],Go.prototype,"more",void 0),Go=is([Gs.type("get_table_by_scope_response")],Go);let Yo=class extends Gs{};is([Gs.field(Ms)],Yo.prototype,"global_action_seq",void 0),is([Gs.field(ws)],Yo.prototype,"account_action_seq",void 0),is([Gs.field(Ss)],Yo.prototype,"block_num",void 0),
is([Gs.field(oo)],Yo.prototype,"block_time",void 0),is([Gs.field("any")],Yo.prototype,"action_trace",void 0),is([Gs.field("boolean?")],Yo.prototype,"irrevirsible",void 0),Yo=is([Gs.type("ordered_action_result")],Yo);let Xo=class extends Gs{};is([Gs.field(Yo,{array:!0})],Xo.prototype,"actions",void 0),is([Gs.field(_s)],Xo.prototype,"last_irreversible_block",void 0),is([Gs.field(_s)],Xo.prototype,"head_block_num",void 0),is([Gs.field("boolean?")],Xo.prototype,"time_limit_exceeded_error",void 0),
Xo=is([Gs.type("get_actions_response")],Xo);let Qo=class extends Gs{};Qo=is([Gs.type("transaction_trace")],Qo);let ec=class extends Gs{};is([Gs.field("any")],ec.prototype,"actions",void 0),is([Gs.field("any")],ec.prototype,"context_free_actions",void 0),is([Gs.field("any")],ec.prototype,"context_free_data",void 0),is([Gs.field("number")],ec.prototype,"delay_sec",void 0),is([Gs.field("string")],ec.prototype,"expiration",void 0),is([Gs.field("number")],ec.prototype,"max_cpu_usage_ms",void 0),
is([Gs.field("number")],ec.prototype,"max_net_usage_words",void 0),is([Gs.field("number")],ec.prototype,"ref_block_num",void 0),is([Gs.field("number")],ec.prototype,"ref_block_prefix",void 0),is([Gs.field("string",{array:!0})],ec.prototype,"signatures",void 0),ec=is([Gs.type("trx")],ec);let tc=class extends Gs{};is([Gs.field(e.TransactionReceipt)],tc.prototype,"receipt",void 0),is([Gs.field("trx")],tc.prototype,"trx",void 0),tc=is([Gs.type("transaction_info")],tc);let rc=class extends Gs{}
;is([Gs.field(ps)],rc.prototype,"id",void 0),is([Gs.field(Ss)],rc.prototype,"block_num",void 0),is([Gs.field(oo)],rc.prototype,"block_time",void 0),is([Gs.field(Ss)],rc.prototype,"last_irreversible_block",void 0),is([Gs.field("any?")],rc.prototype,"traces",void 0),is([Gs.field("any")],rc.prototype,"trx",void 0),rc=is([Gs.type("get_transaction_response")],rc);let nc=class extends Gs{};is([Gs.field("name",{array:!0})],nc.prototype,"account_names",void 0),
nc=is([Gs.type("get_key_accounts_response")],nc);let ic=class extends Gs{};is([Gs.field("name",{array:!0})],ic.prototype,"controlled_accounts",void 0),ic=is([Gs.type("get_controlled_accounts_response")],ic);var ac=Object.freeze({__proto__:null,get AccountPermission(){return Eo},get AccountResourceLimit(){return zo},get AccountTotalResources(){return Io},get AccountSelfDelegatedBandwidth(){return No},get AccountRefundRequest(){return To},get AccountVoterInfo(){return Po},
get AccountRexInfoMaturities(){return Ro},get AccountRexInfo(){return Oo},get AccountObject(){return Bo},get NewProducersEntry(){return Uo},get NewProducers(){return Co},get BlockExtension(){return qo},get HeaderExtension(){return jo},TrxVariant:Do,get GetBlockResponseTransactionReceipt(){return Fo},get GetBlockResponse(){return Lo},get ActiveScheduleProducerAuthority(){return Ko},get ActiveScheduleProducer(){return Vo},get ActiveSchedule(){return Wo},get BlockStateHeader(){return Zo},
get GetBlockHeaderStateResponse(){return Ho},get GetInfoResponse(){return $o},get GetTableByScopeResponseRow(){return Jo},get GetTableByScopeResponse(){return Go},get OrderedActionsResult(){return Yo},get GetActionsResponse(){return Xo},get TransactionTrace(){return Qo},get Trx(){return ec},get TransactionInfo(){return tc},get GetTransactionResponse(){return rc},get GetKeyAccountsResponse(){return nc},get GetControlledAccountsResponse(){return ic}});class sc{constructor(e){this.client=e}
async get_abi(e){return this.client.call({path:"/v1/chain/get_abi",params:{account_name:no.from(e)}})}async get_account(e){return this.client.call({path:"/v1/chain/get_account",params:{account_name:no.from(e)},responseType:Bo})}async get_block(e){return this.client.call({path:"/v1/chain/get_block",params:{block_num_or_id:e},responseType:Lo})}async get_block_header_state(e){return this.client.call({path:"/v1/chain/get_block_header_state",params:{block_num_or_id:e},responseType:Ho})}
async get_currency_balance(e,t,r){const n={account:no.from(t),code:no.from(e)};return r&&(n.symbol=r),this.client.call({path:"/v1/chain/get_currency_balance",params:n,responseType:"asset[]"})}async get_info(){return this.client.call({path:"/v1/chain/get_info",responseType:$o})}async push_transaction(t){return us(t,e.PackedTransaction)||(t=e.PackedTransaction.fromSigned(e.SignedTransaction.from(t))),this.client.call({path:"/v1/chain/push_transaction",params:t})}async get_table_rows(t){
const r=t.type;let n=t.key_type;const i=t.lower_bound||t.upper_bound;!n&&i&&(us(i,Ms)?n="i64":us(i,Es)?n="i128":us(i,ps)?n="sha256":us(i,ys)&&(n="ripemd160")),n||(n="name");let a=t.json;void 0===a&&(a=void 0===r);let s=t.upper_bound;s&&"string"!=typeof s&&(s=String(s));let o=t.lower_bound;o&&"string"!=typeof o&&(o=String(o));let c=t.scope;void 0===c?c=String(no.from(t.code)):"string"!=typeof c&&(c=String(c));let f,{rows:d,more:u,next_key:h}=await this.client.call({
path:"/v1/chain/get_table_rows",params:{...t,code:no.from(t.code),table:no.from(t.table),limit:void 0!==t.limit?Ss.from(t.limit):void 0,scope:c,key_type:n,json:a,upper_bound:s,lower_bound:o}});if(t.show_payer&&(f=[],d=d.map((({data:e,payer:t})=>(f.push(no.from(t)),e)))),r&&(d=a?d.map((t=>"string"==typeof t&&hs.isBytes(t)?e.Serializer.decode({data:hs.from(t),type:r}):e.Serializer.decode({object:t,type:r}))):d.map((e=>hs.from(e))).map((t=>e.Serializer.decode({data:t,type:r})))),h&&h.length>0){
let t;switch(n){case"i64":t=Ms;break;case"i128":t=Es;break;case"name":t=no;break;case"float64":t=to;break;case"float128":t=ro;break;case"sha256":t=ps;break;case"ripemd160":t=ys;break;default:throw new Error(`Unsupported key type: ${n}`)}h=t===no?no.from(e.Serializer.decode({object:h,type:Ms})):e.Serializer.decode({object:h,type:t})}else h=void 0;return{rows:d,more:u,next_key:h,ram_payers:f}}async get_table_by_scope(e){return this.client.call({path:"/v1/chain/get_table_by_scope",params:e,
responseType:Go})}}class oc{constructor(e){this.client=e}async get_actions(e,t,r){return this.client.call({path:"/v1/history/get_actions",params:{account_name:no.from(e),pos:_s.from(t),offset:_s.from(r)},responseType:Xo})}async get_transaction(e,t={}){return this.client.call({path:"/v1/history/get_transaction",params:{id:ps.from(e),block_num_hint:t.blockNumHint&&Ss.from(t.blockNumHint),traces:!0!==t.excludeTraces&&void 0},responseType:rc})}async get_key_accounts(e){return this.client.call({
path:"/v1/history/get_key_accounts",params:{public_key:yo.from(e)},responseType:nc})}async get_controlled_accounts(e){return this.client.call({path:"/v1/history/get_controlled_accounts",params:{controlling_account:no.from(e)},responseType:ic})}}class cc extends Error{constructor(e,t){let r;r=t.json&&t.json.error?`${cc.formatError(t.json.error)} at ${e}`:`HTTP ${t.status} at ${e}`,super(r),this.path=e,this.response=t}static formatError(e){
return"unspecified"===e.what&&e.details[0].file&&"http_plugin.cpp"===e.details[0].file&&"unknown key"===e.details[0].message.slice(0,11)?"Account not found":"unspecified"===e.what&&e.details&&e.details.length>0?e.details[0].message:e.what&&e.what.length>0?e.what:"Unknown API error"}get error(){const{json:e}=this.response;return e?e.error:void 0}get name(){const{error:e}=this;return e?e.name:"unspecified"}get code(){const{error:e}=this;return e?e.code:0}get details(){const{error:e}=this
;return e?e.details:[]}}cc.__className="APIError";class fc{constructor(e){if(this.v1={chain:new sc(this),history:new oc(this)},e.provider)this.provider=e.provider;else{if(!e.url)throw new Error("Missing url or provider");this.provider=new Mo(e.url,e)}}async call(e){const t=await this.provider.call(e.path,e.params),{json:r}=t;if(2!==Math.floor(t.status/100)||r&&"object"==typeof r.error)throw new cc(e.path,t);return e.responseType?Ds({type:e.responseType,object:t.json}):t.json||t.text}}
fc.__className="APIClient";var dc,uc=Object.freeze({__proto__:null,v1:ac}),hc={exports:{}};function lc(e){this.rand=e}if(hc.exports=function(e){return dc||(dc=new lc(null)),dc.generate(e)},hc.exports.Rand=lc,lc.prototype.generate=function(e){return this._rand(e)},lc.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},
"object"==typeof self)self.crypto&&self.crypto.getRandomValues?lc.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?lc.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(lc.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var pc=mr;if("function"!=typeof pc.randomBytes)throw new Error("Not supported")
;lc.prototype._rand=function(e){return pc.randomBytes(e)}}catch(Ig){}var bc=hc.exports,yc={},mc={},vc=gc;function gc(e,t){if(!e)throw new Error(t||"Assertion failed")}gc.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var _c={exports:{}};"function"==typeof Object.create?_c.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:_c.exports=function(e,t){if(t){e.super_=t
;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var wc=vc,xc=_c.exports;function Ac(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function kc(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function Sc(e){return 1===e.length?"0"+e:e}function Mc(e){
return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}mc.inherits=xc,mc.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i)
;a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):Ac(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},mc.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=Sc(e[r].toString(16));return t},mc.htonl=kc,mc.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=kc(i)),
r+=Mc(i.toString(16))}return r},mc.zero2=Sc,mc.zero8=Mc,mc.join32=function(e,t,r,n){var i=r-t;wc(i%4==0);for(var a=new Array(i/4),s=0,o=t;s<a.length;s++,o+=4){var c;c="big"===n?e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],a[s]=c>>>0}return a},mc.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,
r[i]=255&a)}return r},mc.rotr32=function(e,t){return e>>>t|e<<32-t},mc.rotl32=function(e,t){return e<<t|e>>>32-t},mc.sum32=function(e,t){return e+t>>>0},mc.sum32_3=function(e,t,r){return e+t+r>>>0},mc.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},mc.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},mc.sum64=function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,s=(a<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=a},mc.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},mc.sum64_lo=function(e,t,r,n){return t+n>>>0},
mc.sum64_4_hi=function(e,t,r,n,i,a,s,o){var c=0,f=t;return c+=(f=f+n>>>0)<t?1:0,c+=(f=f+a>>>0)<a?1:0,e+r+i+s+(c+=(f=f+o>>>0)<o?1:0)>>>0},mc.sum64_4_lo=function(e,t,r,n,i,a,s,o){return t+n+a+o>>>0},mc.sum64_5_hi=function(e,t,r,n,i,a,s,o,c,f){var d=0,u=t;return d+=(u=u+n>>>0)<t?1:0,d+=(u=u+a>>>0)<a?1:0,d+=(u=u+o>>>0)<o?1:0,e+r+i+s+c+(d+=(u=u+f>>>0)<f?1:0)>>>0},mc.sum64_5_lo=function(e,t,r,n,i,a,s,o,c,f){return t+n+a+o+f>>>0},mc.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},
mc.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},mc.shr64_hi=function(e,t,r){return e>>>r},mc.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var Ec={},zc=mc,Ic=vc;function Nc(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Ec.BlockHash=Nc,
Nc.prototype.update=function(e,t){if(e=zc.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=zc.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},Nc.prototype.digest=function(e){
return this.update(this._pad()),Ic(null===this.pending),this._digest(e)},Nc.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,
n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n};var Tc={},Pc={},Rc=mc.rotr32;function Oc(e,t,r){return e&t^~e&r}function Bc(e,t,r){return e&t^e&r^t&r}function Uc(e,t,r){return e^t^r}Pc.ft_1=function(e,t,r,n){return 0===e?Oc(t,r,n):1===e||3===e?Uc(t,r,n):2===e?Bc(t,r,n):void 0},Pc.ch32=Oc,Pc.maj32=Bc,Pc.p32=Uc,Pc.s0_256=function(e){return Rc(e,2)^Rc(e,13)^Rc(e,22)},Pc.s1_256=function(e){return Rc(e,6)^Rc(e,11)^Rc(e,25)},Pc.g0_256=function(e){return Rc(e,7)^Rc(e,18)^e>>>3},
Pc.g1_256=function(e){return Rc(e,17)^Rc(e,19)^e>>>10};var Cc=mc,qc=Ec,jc=Pc,Dc=Cc.rotl32,Fc=Cc.sum32,Lc=Cc.sum32_5,Kc=jc.ft_1,Vc=qc.BlockHash,Wc=[1518500249,1859775393,2400959708,3395469782];function Zc(){if(!(this instanceof Zc))return new Zc;Vc.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Cc.inherits(Zc,Vc);var Hc=Zc;Zc.blockSize=512,Zc.outSize=160,Zc.hmacStrength=80,Zc.padLength=64,Zc.prototype._update=function(e,t){
for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Dc(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var f=~~(n/20),d=Lc(Dc(i,5),Kc(f,a,s,o),c,r[n],Wc[f]);c=o,o=s,s=Dc(a,30),a=i,i=d}this.h[0]=Fc(this.h[0],i),this.h[1]=Fc(this.h[1],a),this.h[2]=Fc(this.h[2],s),this.h[3]=Fc(this.h[3],o),this.h[4]=Fc(this.h[4],c)},Zc.prototype._digest=function(e){
return"hex"===e?Cc.toHex32(this.h,"big"):Cc.split32(this.h,"big")}
;var $c=mc,Jc=Ec,Gc=Pc,Yc=vc,Xc=$c.sum32,Qc=$c.sum32_4,ef=$c.sum32_5,tf=Gc.ch32,rf=Gc.maj32,nf=Gc.s0_256,af=Gc.s1_256,sf=Gc.g0_256,of=Gc.g1_256,cf=Jc.BlockHash,ff=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]
;function df(){if(!(this instanceof df))return new df;cf.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ff,this.W=new Array(64)}$c.inherits(df,cf);var uf=df;df.blockSize=512,df.outSize=256,df.hmacStrength=192,df.padLength=64,df.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Qc(of(r[n-2]),r[n-7],sf(r[n-15]),r[n-16])
;var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],f=this.h[5],d=this.h[6],u=this.h[7];for(Yc(this.k.length===r.length),n=0;n<r.length;n++){var h=ef(u,af(c),tf(c,f,d),this.k[n],r[n]),l=Xc(nf(i),rf(i,a,s));u=d,d=f,f=c,c=Xc(o,h),o=s,s=a,a=i,i=Xc(h,l)}this.h[0]=Xc(this.h[0],i),this.h[1]=Xc(this.h[1],a),this.h[2]=Xc(this.h[2],s),this.h[3]=Xc(this.h[3],o),this.h[4]=Xc(this.h[4],c),this.h[5]=Xc(this.h[5],f),this.h[6]=Xc(this.h[6],d),this.h[7]=Xc(this.h[7],u)},
df.prototype._digest=function(e){return"hex"===e?$c.toHex32(this.h,"big"):$c.split32(this.h,"big")};var hf=mc,lf=uf;function pf(){if(!(this instanceof pf))return new pf;lf.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}hf.inherits(pf,lf);var bf=pf;pf.blockSize=512,pf.outSize=224,pf.hmacStrength=192,pf.padLength=64,pf.prototype._digest=function(e){return"hex"===e?hf.toHex32(this.h.slice(0,7),"big"):hf.split32(this.h.slice(0,7),"big")}
;var yf=mc,mf=Ec,vf=vc,gf=yf.rotr64_hi,_f=yf.rotr64_lo,wf=yf.shr64_hi,xf=yf.shr64_lo,Af=yf.sum64,kf=yf.sum64_hi,Sf=yf.sum64_lo,Mf=yf.sum64_4_hi,Ef=yf.sum64_4_lo,zf=yf.sum64_5_hi,If=yf.sum64_5_lo,Nf=mf.BlockHash,Tf=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]
;function Pf(){if(!(this instanceof Pf))return new Pf;Nf.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Tf,this.W=new Array(160)}yf.inherits(Pf,Nf);var Rf=Pf;function Of(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function Bf(e,t,r,n,i,a){var s=t&n^~t&a;return s<0&&(s+=4294967296),s}function Uf(e,t,r,n,i){var a=e&r^e&i^r&i
;return a<0&&(a+=4294967296),a}function Cf(e,t,r,n,i,a){var s=t&n^t&a^n&a;return s<0&&(s+=4294967296),s}function qf(e,t){var r=gf(e,t,28)^gf(t,e,2)^gf(t,e,7);return r<0&&(r+=4294967296),r}function jf(e,t){var r=_f(e,t,28)^_f(t,e,2)^_f(t,e,7);return r<0&&(r+=4294967296),r}function Df(e,t){var r=gf(e,t,14)^gf(e,t,18)^gf(t,e,9);return r<0&&(r+=4294967296),r}function Ff(e,t){var r=_f(e,t,14)^_f(e,t,18)^_f(t,e,9);return r<0&&(r+=4294967296),r}function Lf(e,t){var r=gf(e,t,1)^gf(e,t,8)^wf(e,t,7)
;return r<0&&(r+=4294967296),r}function Kf(e,t){var r=_f(e,t,1)^_f(e,t,8)^xf(e,t,7);return r<0&&(r+=4294967296),r}function Vf(e,t){var r=gf(e,t,19)^gf(t,e,29)^wf(e,t,6);return r<0&&(r+=4294967296),r}function Wf(e,t){var r=_f(e,t,19)^_f(t,e,29)^xf(e,t,6);return r<0&&(r+=4294967296),r}Pf.blockSize=1024,Pf.outSize=512,Pf.hmacStrength=192,Pf.padLength=128,Pf.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){
var i=Vf(r[n-4],r[n-3]),a=Wf(r[n-4],r[n-3]),s=r[n-14],o=r[n-13],c=Lf(r[n-30],r[n-29]),f=Kf(r[n-30],r[n-29]),d=r[n-32],u=r[n-31];r[n]=Mf(i,a,s,o,c,f,d,u),r[n+1]=Ef(i,a,s,o,c,f,d,u)}},Pf.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],c=this.h[5],f=this.h[6],d=this.h[7],u=this.h[8],h=this.h[9],l=this.h[10],p=this.h[11],b=this.h[12],y=this.h[13],m=this.h[14],v=this.h[15];vf(this.k.length===r.length)
;for(var g=0;g<r.length;g+=2){var _=m,w=v,x=Df(u,h),A=Ff(u,h),k=Of(u,h,l,p,b),S=Bf(u,h,l,p,b,y),M=this.k[g],E=this.k[g+1],z=r[g],I=r[g+1],N=zf(_,w,x,A,k,S,M,E,z,I),T=If(_,w,x,A,k,S,M,E,z,I);_=qf(n,i),w=jf(n,i),x=Uf(n,i,a,s,o),A=Cf(n,i,a,s,o,c);var P=kf(_,w,x,A),R=Sf(_,w,x,A);m=b,v=y,b=l,y=p,l=u,p=h,u=kf(f,d,N,T),h=Sf(d,d,N,T),f=o,d=c,o=a,c=s,a=n,s=i,n=kf(N,T,P,R),i=Sf(N,T,P,R)}Af(this.h,0,n,i),Af(this.h,2,a,s),Af(this.h,4,o,c),Af(this.h,6,f,d),Af(this.h,8,u,h),Af(this.h,10,l,p),
Af(this.h,12,b,y),Af(this.h,14,m,v)},Pf.prototype._digest=function(e){return"hex"===e?yf.toHex32(this.h,"big"):yf.split32(this.h,"big")};var Zf=mc,Hf=Rf;function $f(){if(!(this instanceof $f))return new $f;Hf.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Zf.inherits($f,Hf);var Jf=$f;$f.blockSize=1024,$f.outSize=384,$f.hmacStrength=192,
$f.padLength=128,$f.prototype._digest=function(e){return"hex"===e?Zf.toHex32(this.h.slice(0,12),"big"):Zf.split32(this.h.slice(0,12),"big")},Tc.sha1=Hc,Tc.sha224=bf,Tc.sha256=uf,Tc.sha384=Jf,Tc.sha512=Rf;var Gf={},Yf=mc,Xf=Ec,Qf=Yf.rotl32,ed=Yf.sum32,td=Yf.sum32_3,rd=Yf.sum32_4,nd=Xf.BlockHash;function id(){if(!(this instanceof id))return new id;nd.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function ad(e,t,r,n){
return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function sd(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function od(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}Yf.inherits(id,nd),Gf.ripemd160=id,id.blockSize=512,id.outSize=160,id.hmacStrength=192,id.padLength=64,id.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],a=this.h[3],s=this.h[4],o=r,c=n,f=i,d=a,u=s,h=0;h<80;h++){
var l=ed(Qf(rd(r,ad(h,n,i,a),e[cd[h]+t],sd(h)),dd[h]),s);r=s,s=a,a=Qf(i,10),i=n,n=l,l=ed(Qf(rd(o,ad(79-h,c,f,d),e[fd[h]+t],od(h)),ud[h]),u),o=u,u=d,d=Qf(f,10),f=c,c=l}l=td(this.h[1],i,d),this.h[1]=td(this.h[2],a,u),this.h[2]=td(this.h[3],s,o),this.h[3]=td(this.h[4],r,c),this.h[4]=td(this.h[0],n,f),this.h[0]=l},id.prototype._digest=function(e){return"hex"===e?Yf.toHex32(this.h,"little"):Yf.split32(this.h,"little")}
;var cd=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],fd=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],dd=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ud=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hd=mc,ld=vc
;function pd(e,t,r){if(!(this instanceof pd))return new pd(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(hd.toArray(t,r))}var bd=pd;pd.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),ld(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106
;this.outer=(new this.Hash).update(e)},pd.prototype.update=function(e,t){return this.inner.update(e,t),this},pd.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=mc,t.common=Ec,t.sha=Tc,t.ripemd=Gf,t.hmac=bd,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(yc);var yd={exports:{}};!function(e){!function(e,t){function r(e,t){
if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:mr.Buffer}catch(e){}
function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function o(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,a=Math.min(e.length,r),s=t;s<a;s++){var o=e.charCodeAt(s)-48;i*=n,i+=o>=49?o-49+10:o>=17?o-17+10:o}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){
return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),
e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0
;var a,s,o=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length)
;for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0
;for(var a=e.length-r,s=a%n,o=Math.min(a,a-s)+r,f=0,d=r;d<o;d+=n)f=c(e,d,d+n,t),this.imuln(i),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==s){var u=1;for(f=c(e,d,e.length,t),d=0;d<s;d++)u*=t;this.imuln(u),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},
i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}
;var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176]
;function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],s=i*a,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var f=1;f<n;f++){for(var d=c>>>26,u=67108863&c,h=Math.min(f,t.length-1),l=Math.max(0,f-e.length+1);l<=h;l++){var p=f-l|0;d+=(s=(i=0|e.words[p])*(a=0|t.words[l])+u)/67108864|0,u=67108863&s}r.words[f]=0|u,c=0|d}return 0!==c?r.words[f]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,
16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<i|a)).toString(16);n=0!==(a=o>>>24-i&16777215)||s!==this.length-1?f[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,s--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=d[e],l=u[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(e);n=(p=p.idivn(l)).isZero()?b+n:f[h-b.length]+b+n}
for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){
return r(void 0!==a),this.toArrayLike(a,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var s,o,c="le"===t,f=new e(a),d=this.clone();if(c){for(o=0;!d.isZero();o++)s=d.andln(255),d.iushrn(8),f[o]=s;for(;o<a;o++)f[o]=0}else{for(o=0;o<a-i;o++)f[o]=0;for(o=0;!d.isZero();o++)s=d.andln(255),
d.iushrn(8),f[a-o-1]=s}return f},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){
var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){
return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),
this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){
return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),
this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){
return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this)
;for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,
t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,s=0;s<n.length;s++)a=(t=(0|r.words[s])-(0|n.words[s])+a)>>26,
this.words[s]=67108863&t;for(;0!==a&&s<r.length;s++)a=(t=(0|r.words[s])+a)>>26,this.words[s]=67108863&t;if(0===a&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,r){
var n,i,a,s=e.words,o=t.words,c=r.words,f=0,d=0|s[0],u=8191&d,h=d>>>13,l=0|s[1],p=8191&l,b=l>>>13,y=0|s[2],m=8191&y,v=y>>>13,g=0|s[3],_=8191&g,w=g>>>13,x=0|s[4],A=8191&x,k=x>>>13,S=0|s[5],M=8191&S,E=S>>>13,z=0|s[6],I=8191&z,N=z>>>13,T=0|s[7],P=8191&T,R=T>>>13,O=0|s[8],B=8191&O,U=O>>>13,C=0|s[9],q=8191&C,j=C>>>13,D=0|o[0],F=8191&D,L=D>>>13,K=0|o[1],V=8191&K,W=K>>>13,Z=0|o[2],H=8191&Z,$=Z>>>13,J=0|o[3],G=8191&J,Y=J>>>13,X=0|o[4],Q=8191&X,ee=X>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ie=0|o[6],ae=8191&ie,se=ie>>>13,oe=0|o[7],ce=8191&oe,fe=oe>>>13,de=0|o[8],ue=8191&de,he=de>>>13,le=0|o[9],pe=8191&le,be=le>>>13
;r.negative=e.negative^t.negative,r.length=19;var ye=(f+(n=Math.imul(u,F))|0)+((8191&(i=(i=Math.imul(u,L))+Math.imul(h,F)|0))<<13)|0;f=((a=Math.imul(h,L))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,L))+Math.imul(b,F)|0,a=Math.imul(b,L);var me=(f+(n=n+Math.imul(u,V)|0)|0)+((8191&(i=(i=i+Math.imul(u,W)|0)+Math.imul(h,V)|0))<<13)|0;f=((a=a+Math.imul(h,W)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,F),i=(i=Math.imul(m,L))+Math.imul(v,F)|0,a=Math.imul(v,L),
n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(b,V)|0,a=a+Math.imul(b,W)|0;var ve=(f+(n=n+Math.imul(u,H)|0)|0)+((8191&(i=(i=i+Math.imul(u,$)|0)+Math.imul(h,H)|0))<<13)|0;f=((a=a+Math.imul(h,$)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,L))+Math.imul(w,F)|0,a=Math.imul(w,L),n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(v,V)|0,a=a+Math.imul(v,W)|0,n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(b,H)|0,a=a+Math.imul(b,$)|0
;var ge=(f+(n=n+Math.imul(u,G)|0)|0)+((8191&(i=(i=i+Math.imul(u,Y)|0)+Math.imul(h,G)|0))<<13)|0;f=((a=a+Math.imul(h,Y)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,L))+Math.imul(k,F)|0,a=Math.imul(k,L),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,V)|0,a=a+Math.imul(w,W)|0,n=n+Math.imul(m,H)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(v,H)|0,a=a+Math.imul(v,$)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(b,G)|0,a=a+Math.imul(b,Y)|0
;var _e=(f+(n=n+Math.imul(u,Q)|0)|0)+((8191&(i=(i=i+Math.imul(u,ee)|0)+Math.imul(h,Q)|0))<<13)|0;f=((a=a+Math.imul(h,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,L))+Math.imul(E,F)|0,a=Math.imul(E,L),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(k,V)|0,a=a+Math.imul(k,W)|0,n=n+Math.imul(_,H)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,H)|0,a=a+Math.imul(w,$)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(v,G)|0,a=a+Math.imul(v,Y)|0,
n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,a=a+Math.imul(b,ee)|0;var we=(f+(n=n+Math.imul(u,re)|0)|0)+((8191&(i=(i=i+Math.imul(u,ne)|0)+Math.imul(h,re)|0))<<13)|0;f=((a=a+Math.imul(h,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,L))+Math.imul(N,F)|0,a=Math.imul(N,L),n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(E,V)|0,a=a+Math.imul(E,W)|0,n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(k,H)|0,a=a+Math.imul(k,$)|0,
n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,G)|0,a=a+Math.imul(w,Y)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(v,Q)|0,a=a+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,a=a+Math.imul(b,ne)|0;var xe=(f+(n=n+Math.imul(u,ae)|0)|0)+((8191&(i=(i=i+Math.imul(u,se)|0)+Math.imul(h,ae)|0))<<13)|0;f=((a=a+Math.imul(h,se)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,L))+Math.imul(R,F)|0,a=Math.imul(R,L),
n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(N,V)|0,a=a+Math.imul(N,W)|0,n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(E,H)|0,a=a+Math.imul(E,$)|0,n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(k,G)|0,a=a+Math.imul(k,Y)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(v,re)|0,a=a+Math.imul(v,ne)|0,n=n+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(b,ae)|0,
a=a+Math.imul(b,se)|0;var Ae=(f+(n=n+Math.imul(u,ce)|0)|0)+((8191&(i=(i=i+Math.imul(u,fe)|0)+Math.imul(h,ce)|0))<<13)|0;f=((a=a+Math.imul(h,fe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(B,F),i=(i=Math.imul(B,L))+Math.imul(U,F)|0,a=Math.imul(U,L),n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(R,V)|0,a=a+Math.imul(R,W)|0,n=n+Math.imul(I,H)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(N,H)|0,a=a+Math.imul(N,$)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(E,G)|0,
a=a+Math.imul(E,Y)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(k,Q)|0,a=a+Math.imul(k,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(m,ae)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(v,ae)|0,a=a+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(b,ce)|0,a=a+Math.imul(b,fe)|0;var ke=(f+(n=n+Math.imul(u,ue)|0)|0)+((8191&(i=(i=i+Math.imul(u,he)|0)+Math.imul(h,ue)|0))<<13)|0
;f=((a=a+Math.imul(h,he)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(q,F),i=(i=Math.imul(q,L))+Math.imul(j,F)|0,a=Math.imul(j,L),n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(U,V)|0,a=a+Math.imul(U,W)|0,n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(R,H)|0,a=a+Math.imul(R,$)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(N,G)|0,a=a+Math.imul(N,Y)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(E,Q)|0,a=a+Math.imul(E,ee)|0,n=n+Math.imul(A,re)|0,
i=(i=i+Math.imul(A,ne)|0)+Math.imul(k,re)|0,a=a+Math.imul(k,ne)|0,n=n+Math.imul(_,ae)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,se)|0,n=n+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,fe)|0)+Math.imul(v,ce)|0,a=a+Math.imul(v,fe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(b,ue)|0,a=a+Math.imul(b,he)|0;var Se=(f+(n=n+Math.imul(u,pe)|0)|0)+((8191&(i=(i=i+Math.imul(u,be)|0)+Math.imul(h,pe)|0))<<13)|0;f=((a=a+Math.imul(h,be)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,
n=Math.imul(q,V),i=(i=Math.imul(q,W))+Math.imul(j,V)|0,a=Math.imul(j,W),n=n+Math.imul(B,H)|0,i=(i=i+Math.imul(B,$)|0)+Math.imul(U,H)|0,a=a+Math.imul(U,$)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(R,G)|0,a=a+Math.imul(R,Y)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(N,Q)|0,a=a+Math.imul(N,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(E,re)|0,a=a+Math.imul(E,ne)|0,n=n+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,se)|0)+Math.imul(k,ae)|0,
a=a+Math.imul(k,se)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,ce)|0,a=a+Math.imul(w,fe)|0,n=n+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(v,ue)|0,a=a+Math.imul(v,he)|0;var Me=(f+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;f=((a=a+Math.imul(b,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(q,H),i=(i=Math.imul(q,$))+Math.imul(j,H)|0,a=Math.imul(j,$),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(U,G)|0,
a=a+Math.imul(U,Y)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(N,re)|0,a=a+Math.imul(N,ne)|0,n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(E,ae)|0,a=a+Math.imul(E,se)|0,n=n+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,fe)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,fe)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,he)|0
;var Ee=(f+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,be)|0)+Math.imul(v,pe)|0))<<13)|0;f=((a=a+Math.imul(v,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(q,G),i=(i=Math.imul(q,Y))+Math.imul(j,G)|0,a=Math.imul(j,Y),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(U,Q)|0,a=a+Math.imul(U,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(R,re)|0,a=a+Math.imul(R,ne)|0,n=n+Math.imul(I,ae)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(N,ae)|0,a=a+Math.imul(N,se)|0,
n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(E,ce)|0,a=a+Math.imul(E,fe)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,he)|0;var ze=(f+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(w,pe)|0))<<13)|0;f=((a=a+Math.imul(w,be)|0)+(i>>>13)|0)+(ze>>>26)|0,ze&=67108863,n=Math.imul(q,Q),i=(i=Math.imul(q,ee))+Math.imul(j,Q)|0,a=Math.imul(j,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(U,re)|0,a=a+Math.imul(U,ne)|0,
n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,se)|0,n=n+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(N,ce)|0,a=a+Math.imul(N,fe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(E,ue)|0,a=a+Math.imul(E,he)|0;var Ie=(f+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,be)|0)+Math.imul(k,pe)|0))<<13)|0;f=((a=a+Math.imul(k,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(q,re),i=(i=Math.imul(q,ne))+Math.imul(j,re)|0,
a=Math.imul(j,ne),n=n+Math.imul(B,ae)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(U,ae)|0,a=a+Math.imul(U,se)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(R,ce)|0,a=a+Math.imul(R,fe)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,he)|0)+Math.imul(N,ue)|0,a=a+Math.imul(N,he)|0;var Ne=(f+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(E,pe)|0))<<13)|0;f=((a=a+Math.imul(E,be)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(q,ae),
i=(i=Math.imul(q,se))+Math.imul(j,ae)|0,a=Math.imul(j,se),n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,fe)|0)+Math.imul(U,ce)|0,a=a+Math.imul(U,fe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(R,ue)|0,a=a+Math.imul(R,he)|0;var Te=(f+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,be)|0)+Math.imul(N,pe)|0))<<13)|0;f=((a=a+Math.imul(N,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(q,ce),i=(i=Math.imul(q,fe))+Math.imul(j,ce)|0,a=Math.imul(j,fe),n=n+Math.imul(B,ue)|0,
i=(i=i+Math.imul(B,he)|0)+Math.imul(U,ue)|0,a=a+Math.imul(U,he)|0;var Pe=(f+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,be)|0)+Math.imul(R,pe)|0))<<13)|0;f=((a=a+Math.imul(R,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(q,ue),i=(i=Math.imul(q,he))+Math.imul(j,ue)|0,a=Math.imul(j,he);var Re=(f+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,be)|0)+Math.imul(U,pe)|0))<<13)|0;f=((a=a+Math.imul(U,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863
;var Oe=(f+(n=Math.imul(q,pe))|0)+((8191&(i=(i=Math.imul(q,be))+Math.imul(j,pe)|0))<<13)|0;return f=((a=Math.imul(j,be))+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c[0]=ye,c[1]=me,c[2]=ve,c[3]=ge,c[4]=_e,c[5]=we,c[6]=xe,c[7]=Ae,c[8]=ke,c[9]=Se,c[10]=Me,c[11]=Ee,c[12]=ze,c[13]=Ie,c[14]=Ne,c[15]=Te,c[16]=Pe,c[17]=Re,c[18]=Oe,0!==f&&(c[19]=f,r.length++),r};function p(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(l=h),i.prototype.mulTo=function(e,t){
var r,n=this.length+e.length;return r=10===this.length&&10===e.length?l(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var s=i;i=0;for(var o=67108863&n,c=Math.min(a,t.length-1),f=Math.max(0,a-e.length+1);f<=c;f++){var d=a-f,u=(0|e.words[d])*(0|t.words[f]),h=67108863&u;o=67108863&(h=h+o|0),i+=(s=(s=s+(u/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[a]=o,n=s,s=i}
return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,a){for(var s=0;s<a;s++)n[s]=t[e[s]],i[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i)
;for(var s=1;s<i;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),f=Math.sin(2*Math.PI/o),d=0;d<i;d+=o)for(var u=c,h=f,l=0;l<s;l++){var p=r[d+l],b=n[d+l],y=r[d+l+s],m=n[d+l+s],v=u*y-h*m;m=u*m+h*y,y=v,r[d+l]=p+y,n[d+l]=b+m,r[d+l+s]=p-y,n[d+l+s]=b-m,l!==o&&(v=c*u-f*h,h=c*h+f*u,u=v)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,
i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var a=0,s=0;s<t;s++)a+=0|e[s],n[2*s]=8191&a,a>>>=13,n[2*s+1]=8191&a,a>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===a),r(0==(-8192&a))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){
var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),s=new Array(n),o=new Array(n),c=new Array(n),f=new Array(n),d=new Array(n),u=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,f,n),this.transform(s,a,o,c,n,i),this.transform(f,a,d,u,n,i);for(var l=0;l<n;l++){var p=o[l]*d[l]-c[l]*u[l];c[l]=o[l]*u[l]+c[l]*d[l],o[l]=p}return this.conjugate(o,c,n),this.transform(o,c,h,a,n,i),this.conjugate(h,a,n),
this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){
var i=(0|this.words[n])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e)
;if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<n;this.words[t]=c|s,s=o>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){
for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,s=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=n;if(i-=s,i=Math.max(0,i),c){for(var f=0;f<s;f++)c.words[f]=this.words[f];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,
f=0;f<this.length;f++)this.words[f]=this.words[f+s];else this.words[0]=0,this.length=1;var d=0;for(f=this.length-1;f>=0&&(0!==d||f>=i);f--){var u=0|this.words[f];this.words[f]=d<<26-a|u>>>a,d=u&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)
},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){
var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e
;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],
this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,a,s=e.length+n;this._expand(s);var o=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+o
;var c=(0|e.words[i])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)o=(a=(0|this.words[i+n])+o)>>26,this.words[i+n]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,i=0;i<this.length;i++)o=(a=-(0|this.words[i])+o)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!==(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),
s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var f=0;f<o.length;f++)o.words[f]=0}var d=n.clone()._ishlnsubmul(a,1,c);0===d.negative&&(n=d,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var h=67108864*(0|n.words[a.length+u])+(0|n.words[a.length+u-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(a,h,u);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(a,1,u),n.isZero()||(n.negative^=1);o&&(o.words[u]=h)}return o&&o.strip(),
n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),
"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){
return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){
var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),f=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++f;for(var d=n.clone(),u=t.clone();!t.isZero();){for(var h=0,l=1;0==(t.words[0]&l)&&h<26;++h,l<<=1);
if(h>0)for(t.iushrn(h);h-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(d),s.isub(u)),a.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(n.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(o),s.isub(c)):(n.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:n.iushln(f)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone()
;for(var a,s=new i(1),o=new i(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var u=0,h=1;0==(n.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(n.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(o)):(n.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs()
;if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},
i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,s=n;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0
;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1
;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},
i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new x(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},
i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},
i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},
i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),
this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function m(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){
m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t
}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},
m.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},m.prototype.split=function(e,t){e.iushrn(this.n,0,t)},m.prototype.imulK=function(e){return e.imul(this.k)},n(v,m),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i]
;if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|a>>>22,a=s}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,
0===e.words[e.length-1]&&e.length--),e},n(g,m),n(_,m),n(w,m),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new g;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return y[e]=t,t},x.prototype._verify1=function(e){
r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){
this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))
},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,
a.iushrn(1);r(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),f=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);0!==this.pow(d,f).cmp(c);)d.redIAdd(c);for(var u=this.pow(d,a),h=this.pow(e,a.addn(1).iushrn(1)),l=this.pow(e,a),p=s;0!==l.cmp(o);){for(var b=l,y=0;0!==b.cmp(o);y++)b=b.redSqr();r(y<p);var m=this.pow(u,new i(1).iushln(p-y-1));h=h.redMul(m),u=m.redSqr(),l=l.redMul(u),p=y}return h},x.prototype.invm=function(e){var t=e._invmp(this.m)
;return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var f=t.words[n],d=c-1;d>=0;d--){var u=f>>d&1;a!==r[0]&&(a=this.sqr(a)),0!==u||0!==s?(s<<=1,s|=u,
(4===++o||0===n&&0===d)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new A(e)},n(A,x),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){
if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a
;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,hr)}(yd);var md=yd.exports,vd={},gd="6.5.4",_d={},wd={};!function(e){var t=e;function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){
for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,s=255&i;a?r.push(a,s):r.push(s)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}(wd),function(e){var t=e,r=yd.exports,n=vc,i=wd;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode,t.getNAF=function(e,t,r){
var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,a=e.clone(),s=0;s<n.length;s++){var o,c=a.andln(i-1);a.isOdd()?(o=c>(i>>1)-1?(i>>1)-c:c,a.isubn(o)):o=0,n[s]=o,a.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var s,o,c=e.andln(3)+i&3,f=t.andln(3)+a&3;3===c&&(c=-1),3===f&&(f=-1),s=0==(1&c)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==f?c:-c,r[0].push(s),
o=0==(1&f)?0:3!==(n=t.andln(7)+a&7)&&5!==n||2!==c?f:-f,r[1].push(o),2*i===s+1&&(i=1-i),2*a===o+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new r(e,"hex","le")}}(_d);var xd={},Ad=yd.exports,kd=_d,Sd=kd.getNAF,Md=kd.getJSF,Ed=kd.assert;function zd(e,t){this.type=e,
this.p=new Ad(t.p,16),this.red=t.prime?Ad.red(t.prime):Ad.mont(this.p),this.zero=new Ad(0).toRed(this.red),this.one=new Ad(1).toRed(this.red),this.two=new Ad(2).toRed(this.red),this.n=t.n&&new Ad(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,
this.redN=this.n.toRed(this.red))}var Id=zd;function Nd(e,t){this.curve=e,this.type=t,this.precomputed=null}zd.prototype.point=function(){throw new Error("Not implemented")},zd.prototype.validate=function(){throw new Error("Not implemented")},zd.prototype._fixedNafMul=function(e,t){Ed(e.precomputed);var r=e._getDoubles(),n=Sd(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,s,o=[];for(a=0;a<n.length;a+=r.step){s=0;for(var c=a+r.step-1;c>=a;c--)s=(s<<1)+n[c];o.push(s)}
for(var f=this.jpoint(null,null,null),d=this.jpoint(null,null,null),u=i;u>0;u--){for(a=0;a<o.length;a++)(s=o[a])===u?d=d.mixedAdd(r.points[a]):s===-u&&(d=d.mixedAdd(r.points[a].neg()));f=f.add(d)}return f.toP()},zd.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=Sd(t,r,this._bitLength),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(var c=0;o>=0&&0===a[o];o--)c++;if(o>=0&&c++,s=s.dblp(c),o<0)break;var f=a[o];Ed(0!==f),
s="affine"===e.type?f>0?s.mixedAdd(i[f-1>>1]):s.mixedAdd(i[-f-1>>1].neg()):f>0?s.add(i[f-1>>1]):s.add(i[-f-1>>1].neg())}return"affine"===e.type?s.toP():s},zd.prototype._wnafMulAdd=function(e,t,r,n,i){var a,s,o,c=this._wnafT1,f=this._wnafT2,d=this._wnafT3,u=0;for(a=0;a<n;a++){var h=(o=t[a])._getNAFPoints(e);c[a]=h.wnd,f[a]=h.points}for(a=n-1;a>=1;a-=2){var l=a-1,p=a;if(1===c[l]&&1===c[p]){var b=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(b[1]=t[l].add(t[p]),
b[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].add(t[p].neg())):(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],m=Md(r[l],r[p]);for(u=Math.max(m[0].length,u),d[l]=new Array(u),d[p]=new Array(u),s=0;s<u;s++){var v=0|m[0][s],g=0|m[1][s];d[l][s]=y[3*(v+1)+(g+1)],d[p][s]=0,f[l]=b}}else d[l]=Sd(r[l],c[l],this._bitLength),d[p]=Sd(r[p],c[p],this._bitLength),u=Math.max(d[l].length,u),
u=Math.max(d[p].length,u)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(a=u;a>=0;a--){for(var x=0;a>=0;){var A=!0;for(s=0;s<n;s++)w[s]=0|d[s][a],0!==w[s]&&(A=!1);if(!A)break;x++,a--}if(a>=0&&x++,_=_.dblp(x),a<0)break;for(s=0;s<n;s++){var k=w[s];0!==k&&(k>0?o=f[s][k-1>>1]:k<0&&(o=f[s][-k-1>>1].neg()),_="affine"===o.type?_.mixedAdd(o):_.add(o))}}for(a=0;a<n;a++)f[a]=null;return i?_:_.toP()},zd.BasePoint=Nd,Nd.prototype.eq=function(){throw new Error("Not implemented")},
Nd.prototype.validate=function(){return this.curve.validate(this)},zd.prototype.decodePoint=function(e,t){e=kd.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?Ed(e[e.length-1]%2==0):7===e[0]&&Ed(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Nd.prototype.encodeCompressed=function(e){
return this.encode(e,!0)},Nd.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Nd.prototype.encode=function(e,t){return kd.encode(this._encode(t),e)},Nd.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,
this},Nd.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Nd.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},Nd.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf
;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Nd.prototype._getBeta=function(){return null},Nd.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Td=_d,Pd=yd.exports,Rd=_c.exports,Od=Id,Bd=Td.assert;function Ud(e){Od.call(this,"short",e),this.a=new Pd(e.a,16).toRed(this.red),this.b=new Pd(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),
this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Rd(Ud,Od);var Cd=Ud;function qd(e,t,r,n){Od.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Pd(t,16),this.y=new Pd(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),
this.inf=!1)}function jd(e,t,r,n){Od.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Pd(0)):(this.x=new Pd(t,16),this.y=new Pd(r,16),this.z=new Pd(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ud.prototype._getEndomorphism=function(e){
if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new Pd(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new Pd(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],Bd(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new Pd(e.a,16),b:new Pd(e.b,16)}
})):this._getEndoBasis(r)}}},Ud.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Pd.mont(e),r=new Pd(2).toRed(t).redInvm(),n=r.redNeg(),i=new Pd(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Ud.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,s,o,c,f,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=e,h=this.n.clone(),l=new Pd(1),p=new Pd(0),b=new Pd(0),y=new Pd(1),m=0;0!==u.cmpn(0);){var v=h.div(u);c=h.sub(v.mul(u)),
f=b.sub(v.mul(l));var g=y.sub(v.mul(p));if(!n&&c.cmp(d)<0)t=o.neg(),r=l,n=c.neg(),i=f;else if(n&&2==++m)break;o=c,h=u,u=c,b=l,l=f,y=p,p=g}a=c.neg(),s=f;var _=n.sqr().add(i.sqr());return a.sqr().add(s.sqr()).cmp(_)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:i},{a:a,b:s}]},Ud.prototype._endoSplit=function(e){
var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),o=a.mul(n.a),c=i.mul(r.b),f=a.mul(n.b);return{k1:e.sub(s).sub(o),k2:c.add(f).neg()}},Ud.prototype.pointFromX=function(e,t){(e=new Pd(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd()
;return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Ud.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Ud.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),o=e[a],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*a]=o,n[2*a+1]=c,
i[2*a]=s.k1,i[2*a+1]=s.k2}for(var f=this._wnafMulAdd(1,n,i,2*a,r),d=0;d<2*a;d++)n[d]=null,i[d]=null;return f},Rd(qd,Od.BasePoint),Ud.prototype.point=function(e,t,r){return new qd(this,e,t,r)},Ud.prototype.pointFromJSON=function(e,t){return qd.fromJSON(this,e,t)},qd.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){
return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},qd.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,
points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},qd.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},qd.prototype.inspect=function(){
return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},qd.prototype.isInfinity=function(){return this.inf},qd.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()))
;var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},qd.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},qd.prototype.getX=function(){
return this.x.fromRed()},qd.prototype.getY=function(){return this.y.fromRed()},qd.prototype.mul=function(e){return e=new Pd(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},qd.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},qd.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r]
;return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},qd.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},qd.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,
points:r.doubles.points.map(n)}}}return t},qd.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Rd(jd,Od.BasePoint),Ud.prototype.jpoint=function(e,t,r){return new jd(this,e,t,r)},jd.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},jd.prototype.neg=function(){
return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},jd.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),o=n.redSub(i),c=a.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl()
;var f=o.redSqr(),d=f.redMul(o),u=n.redMul(f),h=c.redSqr().redIAdd(d).redISub(u).redISub(u),l=c.redMul(u.redISub(h)).redISub(a.redMul(d)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(h,l,p)},jd.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),s=r.redSub(n),o=i.redSub(a);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl()
;var c=s.redSqr(),f=c.redMul(s),d=r.redMul(c),u=o.redSqr().redIAdd(f).redISub(d).redISub(d),h=o.redMul(d.redISub(u)).redISub(i.redMul(f)),l=this.z.redMul(s);return this.curve.jpoint(u,h,l)},jd.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),f=s.redAdd(s)
;for(t=0;t<e;t++){var d=a.redSqr(),u=f.redSqr(),h=u.redSqr(),l=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(c)),p=a.redMul(u),b=l.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),m=l.redMul(y);m=m.redIAdd(m).redISub(h);var v=f.redMul(o);t+1<e&&(c=c.redMul(h)),a=b,o=v,f=m}return this.curve.jpoint(a,f.redMul(i),o)},jd.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},jd.prototype._zeroDbl=function(){var e,t,r
;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(s).redISub(s),f=a.redIAdd(a);f=(f=f.redIAdd(f)).redIAdd(f),e=c,t=o.redMul(s.redISub(c)).redISub(f),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),u=this.y.redSqr(),h=u.redSqr(),l=this.x.redAdd(u).redSqr().redISub(d).redISub(h);l=l.redIAdd(l);var p=d.redAdd(d).redIAdd(d),b=p.redSqr(),y=h.redIAdd(h)
;y=(y=y.redIAdd(y)).redIAdd(y),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},jd.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var f=a.redIAdd(a);f=(f=f.redIAdd(f)).redIAdd(f),
t=o.redMul(s.redISub(c)).redISub(f),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),u=this.y.redSqr(),h=this.x.redMul(u),l=this.x.redSub(d).redMul(this.x.redAdd(d));l=l.redAdd(l).redIAdd(l);var p=h.redIAdd(h),b=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(u).redISub(d);var y=u.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=l.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},jd.prototype._dbl=function(){
var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),s=r.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),c=t.redAdd(t),f=(c=c.redIAdd(c)).redMul(s),d=o.redSqr().redISub(f.redAdd(f)),u=f.redISub(d),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=o.redMul(u).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(d,l,p)},jd.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this)
;var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var f=i.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(c),d=t.redMul(f);d=(d=d.redIAdd(d)).redIAdd(d);var u=this.x.redMul(o).redISub(d);u=(u=u.redIAdd(u)).redIAdd(u)
;var h=this.y.redMul(f.redMul(c.redISub(f)).redISub(s.redMul(o)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(u,h,l)},jd.prototype.mul=function(e,t){return e=new Pd(e,t),this.curve._wnafMul(this,e)},jd.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1
;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},jd.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},jd.prototype.inspect=function(){
return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},jd.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Dd=yd.exports,Fd=_c.exports,Ld=Id,Kd=_d;function Vd(e){Ld.call(this,"mont",e),this.a=new Dd(e.a,16).toRed(this.red),this.b=new Dd(e.b,16).toRed(this.red),this.i4=new Dd(4).toRed(this.red).redInvm(),this.two=new Dd(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}
Fd(Vd,Ld);var Wd=Vd;function Zd(e,t,r){Ld.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Dd(t,16),this.z=new Dd(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Vd.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},Fd(Zd,Ld.BasePoint),
Vd.prototype.decodePoint=function(e,t){return this.point(Kd.toArray(e,t),1)},Vd.prototype.point=function(e,t){return new Zd(this,e,t)},Vd.prototype.pointFromJSON=function(e){return Zd.fromJSON(this,e)},Zd.prototype.precompute=function(){},Zd.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Zd.fromJSON=function(e,t){return new Zd(e,t[0],t[1]||e.one)},Zd.prototype.inspect=function(){
return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Zd.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Zd.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Zd.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},
Zd.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(r),s=i.redMul(n),o=t.z.redMul(a.redAdd(s).redSqr()),c=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(o,c)},Zd.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},
Zd.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Zd.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Zd.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Zd.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Zd.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Hd=_d,$d=yd.exports,Jd=_c.exports,Gd=Id,Yd=Hd.assert;function Xd(e){
this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,Gd.call(this,"edwards",e),this.a=new $d(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new $d(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new $d(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Yd(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}Jd(Xd,Gd);var Qd=Xd;function eu(e,t,r,n,i){Gd.BasePoint.call(this,e,"projective"),
null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new $d(t,16),this.y=new $d(r,16),this.z=n?new $d(n,16):this.curve.one,this.t=i&&new $d(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,
this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Xd.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},Xd.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},Xd.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},Xd.prototype.pointFromX=function(e,t){(e=new $d(e,16)).red||(e=e.toRed(this.red))
;var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(i.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var o=s.fromRed().isOdd();return(t&&!o||!t&&o)&&(s=s.redNeg()),this.point(e,s)},Xd.prototype.pointFromY=function(e,t){(e=new $d(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(i.redInvm())
;if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},Xd.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},Jd(eu,Gd.BasePoint),
Xd.prototype.pointFromJSON=function(e){return eu.fromJSON(this,e)},Xd.prototype.point=function(e,t,r,n){return new eu(this,e,t,r,n)},eu.fromJSON=function(e,t){return new eu(e,t[0],t[1],t[2])},eu.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},eu.prototype.isInfinity=function(){
return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},eu.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=n.redAdd(t),s=a.redSub(r),o=n.redSub(t),c=i.redMul(s),f=a.redMul(o),d=i.redMul(o),u=s.redMul(a);return this.curve.point(c,f,u,d)},eu.prototype._projDbl=function(){
var e,t,r,n,i,a,s=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var f=(n=this.curve._mulA(o)).redAdd(c);this.zOne?(e=s.redSub(o).redSub(c).redMul(f.redSub(this.curve.two)),t=f.redMul(n.redSub(c)),r=f.redSqr().redSub(f).redSub(f)):(i=this.z.redSqr(),a=f.redSub(i).redISub(i),e=s.redSub(o).redISub(c).redMul(a),t=f.redMul(n.redSub(c)),r=f.redMul(a))}else n=o.redAdd(c),i=this.curve._mulC(this.z).redSqr(),a=n.redSub(i).redSub(i),
e=this.curve._mulC(s.redISub(n)).redMul(a),t=this.curve._mulC(n).redMul(o.redISub(c)),r=n.redMul(a);return this.curve.point(e,t,r)},eu.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},eu.prototype._extAdd=function(e){
var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=r.redSub(t),s=i.redSub(n),o=i.redAdd(n),c=r.redAdd(t),f=a.redMul(s),d=o.redMul(c),u=a.redMul(c),h=s.redMul(o);return this.curve.point(f,d,h,u)},eu.prototype._projAdd=function(e){
var t,r,n=this.z.redMul(e.z),i=n.redSqr(),a=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(s),c=i.redSub(o),f=i.redAdd(o),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(s),u=n.redMul(c).redMul(d);return this.curve.twisted?(t=n.redMul(f).redMul(s.redSub(this.curve._mulA(a))),r=c.redMul(f)):(t=n.redMul(f).redMul(s.redSub(a)),r=this.curve._mulC(c).redMul(f)),this.curve.point(u,t,r)},eu.prototype.add=function(e){
return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},eu.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},eu.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},eu.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},eu.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm()
;return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},eu.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},eu.prototype.getX=function(){return this.normalize(),this.x.fromRed()},eu.prototype.getY=function(){return this.normalize(),this.y.fromRed()},eu.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},
eu.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},eu.prototype.toP=eu.prototype.normalize,eu.prototype.mixedAdd=eu.prototype.add,function(e){var t=e;t.base=Id,t.short=Cd,t.mont=Wd,t.edwards=Qd}(xd);var tu={},ru={doubles:{step:4,
points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]
},naf:{wnd:7,
points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
}};!function(e){var t,r=e,n=yc,i=xd,a=_d.assert;function s(e){"short"===e.type?this.curve=new i.short(e):"edwards"===e.type?this.curve=new i.edwards(e):this.curve=new i.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new s(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,
value:n}),n}})}r.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",
p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,
p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{
type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,
g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,
g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",
n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,
g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=ru}catch(e){t=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}(tu);var nu=yc,iu=wd,au=vc;function su(e){if(!(this instanceof su))return new su(e);this.hash=e.hash,
this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=iu.toArray(e.entropy,e.entropyEnc||"hex"),r=iu.toArray(e.nonce,e.nonceEnc||"hex"),n=iu.toArray(e.pers,e.persEnc||"hex");au(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var ou=su;su.prototype._init=function(e,t,r){var n=e.concat(t).concat(r)
;this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},su.prototype._hmac=function(){return new nu.hmac(this.hash,this.K)},su.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),
this.V=this._hmac().update(this.V).digest())},su.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=iu.toArray(e,t),r=iu.toArray(r,n),au(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},su.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=iu.toArray(r,n||"hex"),this._update(r))
;for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,iu.encode(a,t)};var cu=yd.exports,fu=_d.assert;function du(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var uu=du;du.fromPublic=function(e,t,r){return t instanceof du?t:new du(e,{pub:t,pubEnc:r})},du.fromPrivate=function(e,t,r){return t instanceof du?t:new du(e,{
priv:t,privEnc:r})},du.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},du.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},du.prototype.getPrivate=function(e){
return"hex"===e?this.priv.toString(16,2):this.priv},du.prototype._importPrivate=function(e,t){this.priv=new cu(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},du.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?fu(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||fu(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},
du.prototype.derive=function(e){return e.validate()||fu(e.validate(),"public point not validated"),e.mul(this.priv).getX()},du.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},du.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},du.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var hu=yd.exports,lu=_d,pu=lu.assert;function bu(e,t){if(e instanceof bu)return e
;this._importDER(e,t)||(pu(e.r&&e.s,"Signature without r or s"),this.r=new hu(e.r,16),this.s=new hu(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var yu=bu;function mu(){this.place=0}function vu(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,a=0,s=t.place;a<n;a++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function gu(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++
;return 0===t?e:e.slice(t)}function _u(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}bu.prototype._importDER=function(e,t){e=lu.toArray(e,t);var r=new mu;if(48!==e[r.place++])return!1;var n=vu(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=vu(e,r);if(!1===i)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=vu(e,r);if(!1===s)return!1
;if(e.length!==s+r.place)return!1;var o=e.slice(r.place,s+r.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}return this.r=new hu(a),this.s=new hu(o),this.recoveryParam=null,!0},bu.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=gu(t),r=gu(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];_u(n,t.length),(n=n.concat(t)).push(2),_u(n,r.length)
;var i=n.concat(r),a=[48];return _u(a,i.length),a=a.concat(i),lu.encode(a,e)};var wu=yd.exports,xu=ou,Au=_d,ku=tu,Su=hc.exports,Mu=Au.assert,Eu=uu,zu=yu;function Iu(e){if(!(this instanceof Iu))return new Iu(e);"string"==typeof e&&(Mu(Object.prototype.hasOwnProperty.call(ku,e),"Unknown curve "+e),e=ku[e]),e instanceof ku.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),
this.hash=e.hash||e.curve.hash}var Nu=Iu;Iu.prototype.keyPair=function(e){return new Eu(this,e)},Iu.prototype.keyFromPrivate=function(e,t){return Eu.fromPrivate(this,e,t)},Iu.prototype.keyFromPublic=function(e,t){return Eu.fromPublic(this,e,t)},Iu.prototype.genKeyPair=function(e){e||(e={});for(var t=new xu({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Su(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()
}),r=this.n.byteLength(),n=this.n.sub(new wu(2));;){var i=new wu(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Iu.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Iu.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new wu(e,16))
;for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),s=e.toArray("be",i),o=new xu({hash:this.hash,entropy:a,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new wu(1)),f=0;;f++){var d=n.k?n.k(f):new wu(o.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(c)>=0)){var u=this.g.mul(d);if(!u.isInfinity()){var h=u.getX(),l=h.umod(this.n);if(0!==l.cmpn(0)){var p=d.invm(this.n).mul(l.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){
var b=(u.getY().isOdd()?1:0)|(0!==h.cmp(l)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),b^=1),new zu({r:l,s:p,recoveryParam:b})}}}}}},Iu.prototype.verify=function(e,t,r,n){e=this._truncateToN(new wu(e,16)),r=this.keyFromPublic(r,n);var i=(t=new zu(t,"hex")).r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,o=a.invm(this.n),c=o.mul(e).umod(this.n),f=o.mul(i).umod(this.n)
;return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,r.getPublic(),f)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(c,r.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Iu.prototype.recoverPubKey=function(e,t,r,n){Mu((3&r)===r,"The recovery param is more than two bits"),t=new zu(t,n);var i=this.n,a=new wu(e),s=t.r,o=t.s,c=1&r,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate")
;s=f?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var d=t.r.invm(i),u=i.sub(a).mul(d).umod(i),h=o.mul(d).umod(i);return this.g.mulAdd(u,s,h)},Iu.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new zu(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Tu=_d,Pu=Tu.assert,Ru=Tu.parseBytes,Ou=Tu.cachedProperty
;function Bu(e,t){this.eddsa=e,this._secret=Ru(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Ru(t.pub)}Bu.fromPublic=function(e,t){return t instanceof Bu?t:new Bu(e,{pub:t})},Bu.fromSecret=function(e,t){return t instanceof Bu?t:new Bu(e,{secret:t})},Bu.prototype.secret=function(){return this._secret},Ou(Bu,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),Ou(Bu,"pub",(function(){
return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),Ou(Bu,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),Ou(Bu,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),Ou(Bu,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),Ou(Bu,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),
Bu.prototype.sign=function(e){return Pu(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},Bu.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},Bu.prototype.getSecret=function(e){return Pu(this._secret,"KeyPair is public only"),Tu.encode(this.secret(),e)},Bu.prototype.getPublic=function(e){return Tu.encode(this.pubBytes(),e)};var Uu=Bu,Cu=yd.exports,qu=_d,ju=qu.assert,Du=qu.cachedProperty,Fu=qu.parseBytes;function Lu(e,t){this.eddsa=e,"object"!=typeof t&&(t=Fu(t)),
Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),ju(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Cu&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Du(Lu,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),Du(Lu,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),Du(Lu,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),
Du(Lu,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Lu.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Lu.prototype.toHex=function(){return qu.encode(this.toBytes(),"hex").toUpperCase()};var Ku=Lu,Vu=yc,Wu=tu,Zu=_d,Hu=Zu.assert,$u=Zu.parseBytes,Ju=Uu,Gu=Ku;function Yu(e){if(Hu("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof Yu))return new Yu(e);e=Wu[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),
this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Vu.sha512}var Xu=Yu;function Qu(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s
/**
   * EOSIO Core v0.6.1
   * https://github.com/greymass/eosio-core
   *
   * @license
   * Copyright (c) 2020 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
   * 
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   * 
   *  1. Redistribution of source code must retain the above copyright notice, this
   *     list of conditions and the following disclaimer.
   * 
   *  2. Redistribution in binary form must reproduce the above copyright notice,
   *     this list of conditions and the following disclaimer in the documentation
   *     and/or other materials provided with the distribution.
   * 
   *  3. Neither the name of the copyright holder nor the names of its contributors
   *     may be used to endorse or promote products derived from this software without
   *     specific prior written permission.
   * 
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
   * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
   * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
   * OF THE POSSIBILITY OF SUCH DAMAGE.
   * 
   * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
   * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
   */}function eh(e,t){const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}Yu.prototype.sign=function(e,t){e=$u(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),a=this.encodePoint(i),s=this.hashInt(a,r.pubBytes(),e).mul(r.priv()),o=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:o,Rencoded:a})},Yu.prototype.verify=function(e,t,r){e=$u(e),t=this.makeSignature(t)
;var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(a)},Yu.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return Zu.intFromLE(e.digest()).umod(this.curve.n)},Yu.prototype.keyFromPublic=function(e){return Ju.fromPublic(this,e)},Yu.prototype.keyFromSecret=function(e){return Ju.fromSecret(this,e)},Yu.prototype.makeSignature=function(e){
return e instanceof Gu?e:new Gu(this,e)},Yu.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},Yu.prototype.decodePoint=function(e){var t=(e=Zu.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=Zu.intFromLE(r);return this.curve.pointFromY(i,n)},Yu.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},Yu.prototype.decodeInt=function(e){return Zu.intFromLE(e)},
Yu.prototype.isPoint=function(e){return e instanceof this.pointClass},function(e){var t=e;t.version=gd,t.utils=_d,t.rand=hc.exports,t.curve=xd,t.curves=tu,t.ec=Nu,t.eddsa=Xu}(vd);const th={};function rh(){th.enc=new Array(255),th.dec={};for(let e=0;e<=255;++e){const t=e.toString(16).padStart(2,"0");th.enc[e]=t,th.dec[t]=e}}function nh(e){th.enc||rh();const t=e.length,r=new Array(t);for(let n=0;n<t;++n)r[n]=th.enc[e[n]];return r.join("")}function ih(e){return bc(e)}let ah=!1;function sh(e,t){
if(e instanceof t)return!0;if(null==e||"object"!=typeof e)return!1;const r=t.__className||t.abiName;if(!r)return!1;let n=e.constructor,i=!1;for(;n&&!i;){const e=n.__className||n.abiName;if(!e)break;i=r==e,n=Object.getPrototypeOf(n)}return i&&!ah&&(console.warn(`Detected alien instance of ${r}, this usually means more than one version of @greymass/eosio has been included in your bundle.`),ah=!0),i}class oh{constructor(e=new Uint8Array){this.array=e}static from(e,t){
return sh(e,this)?e:"string"==typeof e?this.fromString(e,t):ArrayBuffer.isView(e)?new this(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)):sh(e.array,Uint8Array)?new this(e.array):new this(new Uint8Array(e))}static fromString(e,t="hex"){if("hex"===t){const t=function(e){if(th.dec||rh(),"string"!=typeof e)throw new Error("Expected string containing hex digits");if(e.length%2)throw new Error("Odd number of hex digits");const t=(e=e.toLowerCase()).length/2,r=new Uint8Array(t)
;for(let n=0;n<t;n++){const t=th.dec[e[2*n]+e[2*n+1]];if(void 0===t)throw new Error("Expected hex string");r[n]=t}return r}(e);return new this(t)}if("utf8"==t){return new this((new TextEncoder).encode(e))}throw new Error(`Unknown encoding: ${t}`)}static fromABI(e){const t=e.readVaruint32();return new this(e.readArray(t))}static abiDefault(){return new oh}static equal(e,t){return this.from(e).equals(this.from(t))}static random(e){return new this(ih(e))}static isBytes(e){
return!(!sh(e,oh)&&!sh(e,Uint8Array))||(!(!Array.isArray(e)||!e.every((e=>"number"==typeof e)))||!("string"!=typeof e||!/[\da-f]/i.test(e)&&""!==e))}get hexString(){return nh(this.array)}get utf8String(){return(new TextDecoder).decode(this.array)}append(e){e=oh.from(e);const t=this.array.byteLength+e.array.byteLength,r=new ArrayBuffer(t),n=new Uint8Array(r);n.set(this.array),n.set(e.array,this.array.byteLength),this.array=n}appending(e){const t=new oh(this.array);return t.append(e),t}
droppingFirst(e=1){return new oh(this.array.subarray(e))}copy(){const e=new ArrayBuffer(this.array.byteLength),t=new Uint8Array(e);return t.set(this.array),new oh(t)}equals(e){return eh(this.array,oh.from(e).array)}toString(e="hex"){if("hex"===e)return this.hexString;if("utf8"===e)return this.utf8String;throw new Error(`Unknown encoding: ${e}`)}toABI(e){e.writeVaruint32(this.array.byteLength),e.writeArray(this.array)}toJSON(){return this.hexString}}oh.abiName="bytes";class ch{constructor(e){
const t=this.constructor.byteSize;if(e.byteLength!==t)throw new Error(`Checksum size mismatch, expected ${t} bytes got ${e.byteLength}`);this.array=e}static from(e){return sh(e,this)?e:sh(e,ch)?new this(e.array):new this(oh.from(e).array)}static fromABI(e){return new this(e.readArray(this.byteSize))}static abiDefault(){return new this(new Uint8Array(this.byteSize))}equals(e){const t=this.constructor;try{return eh(this.array,t.from(e).array)}catch{return!1}}get hexString(){return nh(this.array)}
toABI(e){e.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}}ch.abiName="__checksum";class fh extends ch{static from(e){return super.from(e)}static hash(e){const t=new Uint8Array(yc.sha256().update(oh.from(e).array).digest());return new fh(t)}}fh.abiName="checksum256",fh.byteSize=32;class dh extends ch{static from(e){return super.from(e)}static hash(e){const t=new Uint8Array(yc.sha512().update(oh.from(e).array).digest());return new dh(t)}}
dh.abiName="checksum512",dh.byteSize=64;class uh extends ch{static from(e){return super.from(e)}static hash(e){const t=new Uint8Array(yc.ripemd160().update(oh.from(e).array).digest());return new uh(t)}}var hh;uh.abiName="checksum160",uh.byteSize=20,function(e){e.K1="K1",e.R1="R1",e.WA="WA"}(hh||(hh={})),function(e){e.indexFor=function(t){switch(t){case e.K1:return 0;case e.R1:return 1;case e.WA:return 2;default:throw new Error(`Unknown curve type: ${t}`)}},e.from=function(t){let r
;switch(r="number"!=typeof t?e.indexFor(t):t,r){case 0:return e.K1;case 1:return e.R1;case 2:return e.WA;default:throw new Error("Unknown curve type")}}}(hh||(hh={}));class lh{constructor(e){const t=this.constructor;if(void 0===t.isSigned||void 0===t.byteWidth)throw new Error("Cannot instantiate abstract class Int");if(e.gt(t.max))throw new Error(`Number ${e} overflows ${t.abiName}`);if(e.lt(t.min))throw new Error(`Number ${e} underflows ${t.abiName}`);this.value=e}static get max(){
return new md(2).pow(new md(8*this.byteWidth-(this.isSigned?1:0))).isubn(1)}static get min(){return this.isSigned?this.max.ineg().isubn(1):new md(0)}static add(e,t,r="truncate"){return lh.operator(e,t,r,((e,t)=>e.add(t)))}static sub(e,t,r){return lh.operator(e,t,r,((e,t)=>e.sub(t)))}static mul(e,t,r){return lh.operator(e,t,r,((e,t)=>e.mul(t)))}static div(e,t,r){return lh.operator(e,t,r,((e,t)=>{if(t.isZero())throw new Error("Division by zero");return e.div(t)}))}static divRound(e,t,r){
return lh.operator(e,t,r,((e,t)=>{if(t.isZero())throw new Error("Division by zero");return e.divRound(t)}))}static divCeil(e,t,r){return lh.operator(e,t,r,((e,t)=>{if(t.isZero())throw new Error("Division by zero");const r=e.divmod(t);return r.mod.isZero()?r.div:0!==r.div.negative?r.div.isubn(1):r.div.iaddn(1)}))}static operator(e,t,r="truncate",n){const{a:i,b:a}=function(e,t){e=Mh(e),t=Mh(t);const r=e.constructor,n=t.constructor
;r!==n&&(r.isSigned===n.isSigned?r.byteWidth>n.byteWidth?t=t.cast(r):n.byteWidth>r.byteWidth&&(e=e.cast(n)):!1===r.isSigned&&r.byteWidth>=n.byteWidth?t=t.cast(r):!1===n.isSigned&&n.byteWidth>=r.byteWidth?e=e.cast(n):!0===r.isSigned&&r.max.gte(n.max)&&r.min.lte(n.min)?t=t.cast(r):!0===n.isSigned&&n.max.gte(r.max)&&n.min.lte(r.min)&&(e=e.cast(n)));return{a:e,b:t}}(e,t),s=i.constructor,o=n(i.value,a.value);return s.from(o,r)}static from(e,t){if(sh(e,this))return e;let r,n=this
;if(sh(e,lh))n=e.constructor,r=e.value.clone();else if(e instanceof Uint8Array)r=new md(e,void 0,"le"),n.isSigned&&(r=r.fromTwos(8*n.byteWidth));else{if("string"==typeof e&&!/[0-9]+/.test(e)||"number"==typeof e&&!Number.isFinite(e))throw new Error("Invalid number");r=md.isBN(e)?e.clone():new md(e,10),r.isNeg()&&!n.isSigned&&(n={byteWidth:n.byteWidth,isSigned:!0})}switch(t){case"clamp":i=r,a=this.min,s=this.max,r=md.min(md.max(i,a),s);break;case"truncate":r=function(e,t,r){
const n=e.isNeg()?255:0,i=(t.isSigned?e.toTwos(8*t.byteWidth):e).toArrayLike(Uint8Array,"le"),a=new Uint8Array(r.byteWidth);a.fill(n),a.set(i.slice(0,r.byteWidth));const s=new md(a,void 0,"le");return r.isSigned?s.fromTwos(8*r.byteWidth):s}(r,n,this)}var i,a,s;return new this(r)}static fromABI(e){return this.from(e.readArray(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){return this.from(ih(this.byteWidth))}cast(e,t="truncate"){
return this.constructor===e?this:e.from(this,t)}get byteArray(){const e=this.constructor;return(e.isSigned?this.value.toTwos(8*e.byteWidth):this.value).toArrayLike(Uint8Array,"le",e.byteWidth)}equals(e,t=!1){const r=this.constructor;if(!0===t&&sh(e,lh)){const t=e.constructor;if(r.byteWidth!==t.byteWidth||r.isSigned!==t.isSigned)return!1}try{return this.value.eq(r.from(e).value)}catch{return!1}}add(e){this.value=this.operator(e,lh.add).value}adding(e){return this.operator(e,lh.add)}subtract(e){
this.value=this.operator(e,lh.sub).value}subtracting(e){return this.operator(e,lh.sub)}multiply(e){this.value=this.operator(e,lh.mul).value}multiplying(e){return this.operator(e,lh.mul)}divide(e,t){this.value=this.dividing(e,t).value}dividing(e,t){let r=lh.div;switch(t){case"ceil":r=lh.divCeil;break;case"round":r=lh.divRound}return this.operator(e,r)}operator(e,t){let r;return r=sh(e,lh)?e:mh.from(e,"truncate"),t(this,r).cast(this.constructor)}toNumber(){return this.value.toNumber()}toString(){
return this.value.toString()}[Symbol.toPrimitive](e){return"number"===e?this.toNumber():this.toString()}toABI(e){e.writeArray(this.byteArray)}toJSON(){return this.value.bitLength()>32?this.value.toString():this.value.toNumber()}}lh.abiName="__int";class ph extends lh{}ph.abiName="int8",ph.byteWidth=1,ph.isSigned=!0;class bh extends lh{}bh.abiName="int16",bh.byteWidth=2,bh.isSigned=!0;class yh extends lh{}yh.abiName="int32",yh.byteWidth=4,yh.isSigned=!0;class mh extends lh{}mh.abiName="int64",
mh.byteWidth=8,mh.isSigned=!0;class vh extends lh{}vh.abiName="int128",vh.byteWidth=16,vh.isSigned=!0;class gh extends lh{}gh.abiName="uint8",gh.byteWidth=1,gh.isSigned=!1;class _h extends lh{}_h.abiName="uint16",_h.byteWidth=2,_h.isSigned=!1;class wh extends lh{}wh.abiName="uint32",wh.byteWidth=4,wh.isSigned=!1;class xh extends lh{}xh.abiName="uint64",xh.byteWidth=8,xh.isSigned=!1;class Ah extends lh{}Ah.abiName="uint128",Ah.byteWidth=16,Ah.isSigned=!1;class kh extends lh{static fromABI(e){
return new this(new md(e.readVarint32()))}toABI(e){e.writeVarint32(Number(this))}}kh.abiName="varint32",kh.byteWidth=32,kh.isSigned=!0;class Sh extends lh{static fromABI(e){return new this(new md(e.readVaruint32()))}toABI(e){e.writeVaruint32(Number(this))}}function Mh(e){let t=e;return e.constructor.byteWidth<4&&(t=e.cast(yh)),t}function Eh(e){const t=[],r=[],n=[],i=new Set,a=e=>{let t;return t="string"!=typeof e.type?s(e.type):e.type,!0===e.array&&(t+="[]"),!0===e.optional&&(t+="?"),
!0===e.extension&&(t+="$"),t},s=e=>{if(!e.abiName)throw new Error("Encountered non-conforming type");if("__struct"===e.abiName)throw new Error("Misconfigured Struct subclass, did you forget @Struct.type?");if(i.has(e))return e.abiName;if(i.add(e),e.abiAlias)n.push({new_type_name:e.abiName,type:a(e.abiAlias)});else if(e.abiFields){const r=e.abiFields.map((e=>({name:e.name,type:a(e)}))),n={base:e.abiBase?s(e.abiBase):"",name:e.abiName,fields:r};t.push(n)}else if(e.abiVariant){const t={
name:e.abiName,types:e.abiVariant.map(a)};r.push(t)}return e.abiName},o=s(e);return{abi:il.from({structs:t,variants:r,types:n}),types:Array.from(i),root:o}}function zh(e){let t="string"==typeof e.type?e.type:e.type.abiName;return!0===e.array&&(t+="[]"),!0===e.optional&&(t+="?"),!0===e.extension&&(t+="$"),t}function Ih(e){return"string"==typeof e||void 0!==e.abiName?{type:e}:e}Sh.abiName="varuint32",Sh.byteWidth=32,Sh.isSigned=!1;const Nh={abiName:"string",abiDefault:()=>"",
fromABI:e=>e.readString(),from:e=>e,toABI:(e,t)=>{t.writeString(e)}},Th={abiName:"bool",abiDefault:()=>!1,fromABI:e=>1===e.readByte(),from:e=>e,toABI:(e,t)=>{t.writeByte(!0===e?1:0)}};function Ph(e=[]){const t={},r=[Th,Nh,al,al.Symbol,al.SymbolCode,nl,oh,uh,fh,dh,sl,Xh,Gh,Yh,vh,bh,yh,mh,ph,Qh,hl,bl,tl,rl,Ah,_h,wh,xh,gh,kh,Sh];for(const e of r)t[e.abiName]=e;for(const r of e){if(!r.abiName)throw new Error("Invalid type");t[r.abiName]=r}return t}function Rh(e){
if(e.constructor&&void 0!==e.constructor.abiName)return e.constructor.abiName;if(Array.isArray(e)){const t=e.map(Rh),r=t[0];if(!r||!t.every((e=>e===r)))return;return r+"[]"}switch(typeof e){case"boolean":return"bool";case"string":return"string"}}function Oh(e,t="jsobj"){var r;if(e.constructor&&void 0!==e.constructor.abiName)return e.constructor;if(Array.isArray(e)){const r=e.map((e=>Oh(e,t))),n=r[0];if(!n)return;if(!r.every((e=>e&&e.abiName===n.abiName)))return;return n}const n=typeof e
;if("object"===n&&null!==e){const n=Object.keys(e).map((r=>({name:r,type:Oh(e[r],t+"_nested")})));if(n.find((e=>!e.type)))return;return(r=class extends Zh{}).abiName=t,r.abiFields=n,r}switch(n){case"boolean":return Th;case"string":return Nh}}class Bh extends Error{constructor(e,t){super(`Decoding error at ${e.codingPath.map((({field:e,type:t})=>"number"==typeof e?e:`${e}<${t.typeName}>`)).join(".")}: ${t.message}`),this.stack=t.stack,this.ctx=e,this.underlyingError=t}}function Uh(e){
const t=Ih(e.type),r=zh(t),n=e.customTypes||[];let i;if(e.abi)i=il.from(e.abi);else try{let e;if("string"==typeof t.type){const r=Ph(n);if(e=r[new il.ResolvedType(t.type).name],!e)throw new Error(`Unknown type: ${t.type}`)}else e=t.type;const r=Eh(e);i=r.abi,n.push(...r.types)}catch(e){throw Error(`Unable to synthesize ABI for: ${r} (${e.message}). To decode non-class types you need to pass the ABI definition manually.`)}const a=i.resolveType(r);"string"!=typeof t.type&&n.unshift(t.type)
;const s={types:Ph(n),strictExtensions:e.strictExtensions||!1,codingPath:[{field:"root",type:a}]};try{if(e.data){let t;if(sh(e.data,Fh))t=e.data;else{const r=oh.from(e.data);t=new Fh(r.array)}return e.metadata&&(t.metadata=e.metadata),qh(a,t,s)}if(void 0!==e.object)return jh(e.object,a,s);if(e.json)return jh(JSON.parse(e.json),a,s);throw new Error("Nothing to decode, you must set one of data, json, object")}catch(e){throw new Bh(s,e)}}Bh.__className="DecodingError";const Ch=Symbol("Resolved")
;function qh(e,t,r){if(r.codingPath.length>32)throw new Error("Maximum decoding depth exceeded");if(e.isExtension&&!t.canRead())return r.strictExtensions?Dh(e,r):null;if(e.isOptional&&0===t.readByte())return null;if(e.isArray){const i=t.readVaruint32(),a=[];for(let t=0;t<i;t++)r.codingPath.push({field:t,type:e}),a.push(n()),r.codingPath.pop();return a}return n();function n(){const n=r.types[e.name];if(n&&n.fromABI)return n.fromABI(t);if(e.ref){r.codingPath.push({field:"",type:e.ref})
;const n=qh(e.ref,t,r);return r.codingPath.pop(),n}if(e.fields){const i=e.allFields;if(!i)throw new Error("Invalid struct fields");const a={};for(const e of i)r.codingPath.push({field:e.name,type:e.type}),a[e.name]=qh(e.type,t,r),r.codingPath.pop();return n?(a[Ch]=!0,n.from(a)):a}if(e.variant){const i=t.readByte(),a=e.variant[i];if(!a)throw new Error(`Unknown variant idx: ${i}`);r.codingPath.push({field:`v${i}`,type:a});const s=[a.typeName,qh(a,t,r)];return r.codingPath.pop(),n?n.from(s):s}
throw n?new Error("Invalid type"):new Error("any"===e.name?"Unable to decode 'any' type from binary":"Unknown type")}}function jh(e,t,r){if(null==e){if(t.isOptional)return null;if(t.isExtension)return r.strictExtensions?Dh(t,r):null;throw new Error(`Unexpectedly encountered ${e} for non-optional`)}if(t.isArray){if(!Array.isArray(e))throw new Error("Expected array");const i=[],a=e.length;for(let s=0;s<a;s++)r.codingPath.push({field:s,type:t}),i.push(n(e[s])),r.codingPath.pop();return i}
return n(e);function n(e){const n=r.types[t.name];if(t.ref&&!n)return jh(e,t.ref,r);if(t.fields){if("object"!=typeof e)throw new Error("Expected object");if("function"==typeof n&&sh(e,n))return e;const i=t.allFields;if(!i)throw new Error("Invalid struct fields");const a={};for(const t of i)r.codingPath.push({field:t.name,type:t.type}),a[t.name]=jh(e[t.name],t.type,r),r.codingPath.pop();return n?(a[Ch]=!0,n.from(a)):a}if(t.variant){let i
;Array.isArray(e)&&2===e.length&&"string"==typeof e[0]?(i=e[0],e=e[1]):sh(e,$h)?(i=e.variantName,e=e.value):i=Rh(e);const a=t.variant.findIndex((e=>e.typeName===i));if(-1===a)throw new Error(`Unknown variant type: ${i}`);const s=t.variant[a];r.codingPath.push({field:`v${a}`,type:s});const o=[s.typeName,jh(e,s,r)];return r.codingPath.pop(),n?(o[Ch]=!0,n.from(o)):o}if(!n){if("any"===t.name)return e;throw new Error("Unknown type")}return n.from(e)}}function Dh(e,t,r=new Set){if(e.isArray)return[]
;if(e.isOptional)return null;const n=t.types[e.name];if(n&&n.abiDefault)return n.abiDefault();if(r.has(e.name))throw new Error("Circular type reference");if(r.add(e.name),e.allFields){const i={};for(const n of e.allFields)t.codingPath.push({field:n.name,type:n.type}),i[n.name]=Dh(n.type,t,r),t.codingPath.pop();return n?(i[Ch]=!0,n.from(i)):i}if(e.variant&&e.variant.length>0){const r=[e.variant[0].typeName,Dh(e.variant[0],t)];return n?(r[Ch]=!0,n.from(r)):r}if(e.ref){t.codingPath.push({field:"",
type:e.ref});const n=Dh(e.ref,t,r);return t.codingPath.pop(),n}throw new Error("Unable to determine default value")}class Fh{constructor(e){this.array=e,this.pos=0,this.textDecoder=new TextDecoder("utf-8",{fatal:!0}),this.metadata={},this.data=new DataView(e.buffer,e.byteOffset,e.byteLength)}canRead(e=1){return!(this.pos+e>this.array.byteLength)}ensure(e){if(!this.canRead(e))throw new Error("Read past end of buffer")}setPosition(e){
if(e<0||e>this.array.byteLength)throw new Error("Invalid position");this.pos=e}getPosition(){return this.pos}advance(e){this.ensure(e),this.pos+=e}readByte(){return this.ensure(1),this.array[this.pos++]}readFloat(e){let t;switch(this.ensure(e),e){case 4:t=this.data.getFloat32(this.pos,!0);break;case 8:t=this.data.getFloat64(this.pos,!0);break;default:throw new Error("Invalid float size")}return this.pos+=e,t}readVaruint32(){let e=0,t=0;for(;;){const r=this.readByte();if(e|=(127&r)<<t,t+=7,
!(128&r))break}return e>>>0}readVarint32(){const e=this.readVaruint32();return 1&e?~e>>1|2147483648:e>>>1}readArray(e){this.ensure(e);const t=this.array.subarray(this.pos,this.pos+e);return this.pos+=e,t}readString(){const e=this.readVaruint32();return this.textDecoder.decode(this.readArray(e))}}Fh.__className="ABIDecoder";class Lh extends Error{constructor(e,t){
super(`Encoding error at ${e.codingPath.map((({field:e,type:t})=>"number"==typeof e?e:`${e}<${t.typeName}>`)).join(".")}: ${t.message}`),this.stack=t.stack,this.ctx=e,this.underlyingError=t}}function Kh(e){let t,r;"string"==typeof e.type?r=e.type:e.type&&function(e){return"string"!=typeof e&&void 0===e.abiName&&void 0!==e.type}(e.type)?("string"!=typeof e.type.type&&(t=e.type.type),r=zh(e.type)):e.type&&void 0!==e.type.abiName?(t=e.type,r=e.type.abiName):(t=Oh(e.object),t&&(r=t.abiName,
Array.isArray(e.object)&&(r+="[]")));const n=e.customTypes?e.customTypes.slice():[];if(t)n.unshift(t);else if(r){const e=new il.ResolvedType(r).name;t=n.find((t=>t.abiName===e))}let i;if(e.abi&&r)i=il.from(e.abi).resolveType(r);else if(t){const e=Eh(t);i=e.abi.resolveType(r||t.abiName),n.push(...e.types)}else{if(!r)throw new Error("Unable to determine the type of the object to be encoded. To encode custom ABI types you must pass the type argument.");i=new il.ResolvedType(r)}
const a=Ph(n),s=e.encoder||new Wh;e.metadata&&(s.metadata=e.metadata);const o={types:a,encoder:s,codingPath:[{field:"root",type:i}]};try{Vh(e.object,i,o)}catch(e){throw new Lh(o,e)}return oh.from(s.getData())}function Vh(e,t,r){const n=null!=e;if(!t.isOptional||(r.encoder.writeByte(n?1:0),n))if(t.isArray){if(!Array.isArray(e))throw new Error(`Expected array for: ${t.typeName}`);const n=e.length;r.encoder.writeVaruint32(n);for(let a=0;a<n;a++)r.codingPath.push({field:a,type:t}),i(e[a]),
r.codingPath.pop()}else i(e);function i(e){const i=r.types[t.name];if(!t.ref||i){if(!n){if(t.isExtension)return;throw new Error(`Found ${e} for non-optional type: ${t.typeName}`)}if(i&&i.toABI)i.toABI(e,r.encoder);else if("function"==typeof e.toABI&&e.constructor.abiName===t.name)e.toABI(r.encoder);else if(t.fields){if("object"!=typeof e)throw new Error(`Expected object for: ${t.name}`);const n=t.allFields;if(!n)throw new Error("Invalid struct fields");for(const t of n)r.codingPath.push({
field:t.name,type:t.type}),Vh(e[t.name],t.type,r),r.codingPath.pop()}else if(t.variant){let n;Array.isArray(e)&&2===e.length&&"string"==typeof e[0]?(n=e[0],e=e[1]):sh(e,$h)?(n=e.variantName,e=e.value):n=Rh(e);const i=t.variant.findIndex((e=>e.typeName===n));if(-1===i){const e=t.variant.map((e=>`'${e.typeName}'`)).join(", ");throw new Error(`Unknown variant type '${n}', expected one of ${e}`)}const a=t.variant[i];r.encoder.writeVaruint32(i),r.codingPath.push({field:`v${i}`,type:a}),Vh(e,a,r),
r.codingPath.pop()}else{if(!i)throw new Error("any"===t.name?"Unable to encode any type to binary":"Unknown type");const n=i.from(e);if(!n.toABI)throw new Error(`Invalid type ${t.name}, no encoding methods implemented`);n.toABI(r.encoder)}}else Vh(e,t.ref,r)}}Lh.__className="EncodingError";class Wh{constructor(e=1024){this.pageSize=e,this.pos=0,this.textEncoder=new TextEncoder,this.metadata={};const t=new ArrayBuffer(e);this.data=new DataView(t),this.array=new Uint8Array(t)}ensure(e){
if(this.data.byteLength>=this.pos+e)return;const t=Math.ceil(e/this.pageSize),r=this.data.byteLength+this.pageSize*t,n=new ArrayBuffer(r),i=new DataView(n),a=new Uint8Array(n);a.set(this.array),this.data=i,this.array=a}writeByte(e){this.ensure(1),this.array[this.pos++]=e}writeArray(e){const t=e.length;this.ensure(t),this.array.set(e,this.pos),this.pos+=t}writeFloat(e,t){switch(this.ensure(t),t){case 4:this.data.setFloat32(this.pos,e,!0);break;case 8:this.data.setFloat64(this.pos,e,!0);break
;default:throw new Error("Invalid float size")}this.pos+=t}writeVaruint32(e){for(this.ensure(4);;){if(!(e>>>7)){this.array[this.pos++]=e;break}this.array[this.pos++]=128|127&e,e>>>=7}}writeVarint32(e){this.writeVaruint32(e<<1^e>>31)}writeString(e){const t=this.textEncoder.encode(e);this.writeVaruint32(t.byteLength),this.writeArray(t)}getData(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.pos)}getBytes(){return new oh(this.getData())}}Wh.__className="ABIEncoder";class Zh{
constructor(e){const t=this.constructor;for(const r of t.structFields)this[r.name]=e[r.name]}static from(e){return!0===e[Ch]?new this(e):sh(e,this)?e:Uh({object:e,type:this})}static get structFields(){const e=[],t=r=>{r.abiBase&&t(r.abiBase);for(const t of r.abiFields||[])e.push(t)};return t(this),e}equals(e){const t=this.constructor;return(!e.constructor||"string"!=typeof e.constructor.abiName||e.constructor.abiName===t.abiName)&&Kh({object:this}).equals(Kh({object:t.from(e)}))}toJSON(){
const e=this.constructor,t={};for(const r of e.structFields)t[r.name]=this[r.name];return t}}function Hh(e){return function(t){return t.abiAlias={type:Object.getPrototypeOf(t.prototype).constructor},t.abiName=e,t}}Zh.abiName="__struct",function(e){const t=Symbol("FieldsOwner");e.type=function(e){return function(t){return t.abiName=e,t}},e.field=function(e,r){return r||(r={}),(n,i)=>{const a=n.constructor;a.abiFields?a.abiFields[t]!==a&&(a.abiBase=a.abiFields[t],a.abiFields=[],
a.abiFields[t]=a):(a.abiFields=[],a.abiFields[t]=a),a.abiFields.push({...r,name:i,type:e})}}}(Zh||(Zh={}));class $h{constructor(e){const t=this.constructor.abiVariant;this.value=e[1];const r=t.map(zh).findIndex((t=>t===e[0]));if(0>r||t.length<=r)throw new Error(`Unknown variant ${e[0]}`);this.variantIdx=r}static from(e){return e[Ch]?new this(e):sh(e,this)?e:Uh({object:e,type:this})}equals(e){const t=this.constructor.from(e);return this.variantIdx===t.variantIdx&&Kh({object:this}).equals(Kh({
object:t}))}get variantName(){return zh(this.constructor.abiVariant[this.variantIdx])}toJSON(){return[this.variantName,this.value]}}$h.abiName="__variant",$h.abiVariant=[],function(e){e.type=function(e,t){return function(r){return r.abiName=e,r.abiVariant=t.map(Ih),r}}}($h||($h={}));class Jh{constructor(e){if(!Number.isFinite(e))throw new Error("Invalid number");this.value=e}static from(e){return sh(e,this)?e:("string"==typeof e?e=Number.parseFloat(e):sh(e,Jh)&&(e=e.value),new this(e))}
static fromABI(e){return new this(e.readFloat(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){const e=ih(this.byteWidth),t=new Fh(e);return this.fromABI(t)}equals(e){const t=this.constructor;return this.value===t.from(e).value}toABI(e){const t=this.constructor;e.writeFloat(this.value,t.byteWidth)}toString(){return this.value.toString()}toJSON(){return this.toString()}}Jh.abiName="__float";class Gh extends Jh{toString(){return this.value.toFixed(7)}}Gh.abiName="float32",
Gh.byteWidth=4;class Yh extends Jh{}Yh.abiName="float64",Yh.byteWidth=8;class Xh{constructor(e){if(16!==e.array.length)throw new Error("Invalid float128");this.data=e}static from(e){return sh(e,this)?e:("string"==typeof e&&e.startsWith("0x")&&(e=e.slice(2)),new this(oh.from(e)))}static fromABI(e){return new this(new oh(e.readArray(this.byteWidth)))}static random(){const e=ih(16),t=new Fh(e);return this.fromABI(t)}equals(e){const t=this.constructor;return this.data.equals(t.from(e).data)}
toABI(e){e.writeArray(this.data.array)}toString(){return"0x"+this.data.hexString}toJSON(){return this.toString()}}Xh.abiName="float128",Xh.byteWidth=16;class Qh{constructor(e){this.value=e}get rawValue(){return this.value}static from(e){if(sh(e,Qh))return e;if("string"==typeof e)return new Qh(function(e){function t(e){return e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)?e-"a".charCodeAt(0)+6:e>="1".charCodeAt(0)&&e<="5".charCodeAt(0)?e-"1".charCodeAt(0)+1:0}const r=new Uint8Array(8);let n=63
;for(let i=0;i<e.length;++i){let a=t(e.charCodeAt(i));n<5&&(a<<=1);for(let e=4;e>=0;--e)n>=0&&(r[Math.floor(n/8)]|=(a>>e&1)<<n%8,--n)}return xh.from(r)}(e));if(sh(e,xh))return new Qh(e);throw new Error("Invalid name")}static fromABI(e){return new Qh(xh.fromABI(e))}static abiDefault(){return new this(xh.from(0))}equals(e){return this.value.equals(Qh.from(e).value)}toString(){return function(e){const t=e.value.toArray("le",8);let r="";for(let e=63;e>=0;){let n=0
;for(let r=0;r<5;++r)e>=0&&(n=n<<1|t[Math.floor(e/8)]>>e%8&1,--e);r+=n>=6?String.fromCharCode(n+"a".charCodeAt(0)-6):n>=1?String.fromCharCode(n+"1".charCodeAt(0)-1):"."}for(;r.endsWith(".");)r=r.substr(0,r.length-1);return r}(this.value)}toABI(e){this.value.toABI(e)}toJSON(){return this.toString()}}Qh.abiName="name",Qh.pattern=/^[a-z1-5.]{0,13}$/;class el{static from(e){
return sh(e,this)?e:sh(e,el)?this.fromMilliseconds(e.toMilliseconds()):sh(e,Date)?this.fromDate(e):"string"==typeof e?this.fromString(e):this.fromInteger(e)}static fromString(e){const t=Date.parse(e+"Z");if(!Number.isFinite(t))throw new Error("Invalid date string");return this.fromMilliseconds(t)}static fromDate(e){return this.fromMilliseconds(e.getTime())}static abiDefault(){return this.from(0)}toABI(e){this.value.toABI(e)}equals(e){const t=this.constructor
;return this.toMilliseconds()===t.from(e).toMilliseconds()}toMilliseconds(){throw new Error("Not implemented")}toDate(){return new Date(this.toMilliseconds())}toJSON(){return this.toString()}}el.abiName="__time_point_base";class tl extends el{constructor(e){super(),this.value=e}static fromMilliseconds(e){return new this(mh.from(Math.round(1e3*e)))}static fromInteger(e){return new this(mh.from(e))}static fromABI(e){return new this(mh.fromABI(e))}toString(){
return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.dividing(1e3,"round"))}}tl.abiName="time_point";class rl extends el{constructor(e){super(),this.value=e}static fromMilliseconds(e){return new this(wh.from(Math.round(e/1e3)))}static fromInteger(e){return new this(wh.from(e))}static fromABI(e){return new this(wh.fromABI(e))}toString(){return this.toDate().toISOString().slice(0,-5)}toMilliseconds(){return Number(this.value.cast(xh).multiplying(1e3))}}
rl.abiName="time_point_sec";class nl extends el{constructor(e){super(),this.value=e}static fromMilliseconds(e){return new this(wh.from(Math.round((e-9466848e5)/500)))}static fromInteger(e){return new this(wh.from(e))}static fromABI(e){return new this(wh.fromABI(e))}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.cast(xh).multiplying(500).adding(9466848e5))}}nl.abiName="block_timestamp_type";class il{constructor(e){
this.version=e.version||il.version,this.types=e.types||[],this.variants=e.variants||[],this.structs=e.structs||[],this.actions=e.actions||[],this.tables=e.tables||[],this.ricardian_clauses=e.ricardian_clauses||[]}static from(e){return sh(e,il)?e:new il("string"==typeof e?JSON.parse(e):e)}static fromABI(e){const t=e.readString(),r=[],n=e.readVaruint32();for(let t=0;t<n;t++)r.push({new_type_name:e.readString(),type:e.readString()});const i=[],a=e.readVaruint32();for(let t=0;t<a;t++){
const t=e.readString(),r=e.readString(),n=e.readVaruint32(),a=[];for(let t=0;t<n;t++)a.push({name:e.readString(),type:e.readString()});i.push({base:r,name:t,fields:a})}const s=[],o=e.readVaruint32();for(let t=0;t<o;t++){const t=Qh.fromABI(e),r=e.readString(),n=e.readString();s.push({name:t,type:r,ricardian_contract:n})}const c=[],f=e.readVaruint32();for(let t=0;t<f;t++){const t=Qh.fromABI(e),r=e.readString(),n=[],i=e.readVaruint32();for(let t=0;t<i;t++)n.push(e.readString())
;const a=[],s=e.readVaruint32();for(let t=0;t<s;t++)a.push(e.readString());const o=e.readString();c.push({name:t,index_type:r,key_names:n,key_types:a,type:o})}const d=[],u=e.readVaruint32();for(let t=0;t<u;t++){const t=e.readString(),r=e.readString();d.push({id:t,body:r})}const h=e.readVaruint32();for(let t=0;t<h;t++)e.advance(8),e.advance(e.readVaruint32());const l=e.readVaruint32();for(let t=0;t<l;t++)e.advance(2),e.advance(e.readVaruint32());const p=[];if(e.canRead()){
const t=e.readVaruint32();for(let r=0;r<t;r++){const t=e.readString(),r=[],n=e.readVaruint32();for(let t=0;t<n;t++)r.push(e.readString());p.push({name:t,types:r})}}return new il({version:t,types:r,structs:i,actions:s,tables:c,ricardian_clauses:d,variants:p})}toABI(e){e.writeString(this.version),e.writeVaruint32(this.types.length);for(const t of this.types)e.writeString(t.new_type_name),e.writeString(t.type);e.writeVaruint32(this.structs.length);for(const t of this.structs){e.writeString(t.name),
e.writeString(t.base),e.writeVaruint32(t.fields.length);for(const r of t.fields)e.writeString(r.name),e.writeString(r.type)}e.writeVaruint32(this.actions.length);for(const t of this.actions)Qh.from(t.name).toABI(e),e.writeString(t.type),e.writeString(t.ricardian_contract);e.writeVaruint32(this.tables.length);for(const t of this.tables){Qh.from(t.name).toABI(e),e.writeString(t.index_type),e.writeVaruint32(t.key_names.length);for(const r of t.key_names)e.writeString(r)
;e.writeVaruint32(t.key_types.length);for(const r of t.key_types)e.writeString(r);e.writeString(t.type)}e.writeVaruint32(this.ricardian_clauses.length);for(const t of this.ricardian_clauses)e.writeString(t.id),e.writeString(t.body);e.writeVaruint32(0),e.writeVaruint32(0),e.writeVaruint32(this.variants.length);for(const t of this.variants){e.writeString(t.name),e.writeVaruint32(t.types.length);for(const r of t.types)e.writeString(r)}}resolveType(e){return this.resolve({name:e,types:{}},{id:0})}
resolveAll(){const e={},t={id:0};return{types:this.types.map((r=>this.resolve({name:r.new_type_name,types:e},t))),variants:this.variants.map((r=>this.resolve({name:r.name,types:e},t))),structs:this.structs.map((r=>this.resolve({name:r.name,types:e},t)))}}resolve({name:e,types:t},r){const n=t[e];if(n)return n;const i=new il.ResolvedType(e,++r.id);t[i.typeName]=i;const a=this.types.find((e=>e.new_type_name==i.name));if(a)return i.ref=this.resolve({name:a.type,types:t},r),i
;const s=this.getStruct(i.name);if(s)return s.base&&(i.base=this.resolve({name:s.base,types:t},r)),i.fields=s.fields.map((e=>({name:e.name,type:this.resolve({name:e.type,types:t},r)}))),i;const o=this.getVariant(i.name);return o?(i.variant=o.types.map((e=>this.resolve({name:e,types:t},r))),i):i}getStruct(e){return this.structs.find((t=>t.name==e))}getVariant(e){return this.variants.find((t=>t.name==e))}getActionType(e){const t=Qh.from(e).toString(),r=this.actions.find((e=>e.name.toString()===t))
;if(r)return r.type}equals(e){const t=il.from(e);return this.version==t.version&&this.types.length==t.types.length&&this.structs.length==t.structs.length&&this.actions.length==t.actions.length&&this.tables.length==t.tables.length&&this.ricardian_clauses.length==t.ricardian_clauses.length&&this.variants.length==t.variants.length&&Kh({object:this}).equals(Kh({object:t}))}toJSON(){return{version:this.version,types:this.types,structs:this.structs,actions:this.actions,tables:this.tables,
ricardian_clauses:this.ricardian_clauses,error_messages:[],abi_extensions:[],variants:this.variants}}}il.abiName="abi",il.version="eosio::abi/1.1",function(e){e.ResolvedType=class{constructor(e,t=0){let r=e;r.endsWith("$")?(r=r.slice(0,-1),this.isExtension=!0):this.isExtension=!1,r.endsWith("?")?(r=r.slice(0,-1),this.isOptional=!0):this.isOptional=!1,r.endsWith("[]")?(r=r.slice(0,-2),this.isArray=!0):this.isArray=!1,this.id=t,this.name=r}get typeName(){let e=this.name
;return this.isArray&&(e+="[]"),this.isOptional&&(e+="?"),this.isExtension&&(e+="$"),e}get allFields(){let e=this;const t=[],r=new Set;do{if(!e.fields)return;if(r.has(e.name))return;for(let r=e.fields.length-1;r>=0;r--)t.unshift(e.fields[r]);r.add(e.name),e=e.base}while(void 0!==e);return t}}}(il||(il={}));class al{constructor(e,t){this.units=e,this.symbol=t}static from(e,t){if(sh(e,al))return e;switch(typeof e){case"number":
if(!t)throw new Error("Symbol is required when creating Asset from number");return this.fromFloat(e,t);case"string":return this.fromString(e);default:throw new Error("Invalid asset")}}static fromString(e){const t=("string"==typeof e?e:"").split(" ");if(2!==t.length)throw new Error("Invalid asset string");const r=t[0].replace(".",""),n=(t[0].split(".")[1]||"").length,i=al.Symbol.fromParts(t[1],n);return new al(mh.from(r),i)}static fromFloat(e,t){const r=al.Symbol.from(t)
;return new al(r.convertFloat(e),r)}static fromUnits(e,t){return new al(mh.from(e),al.Symbol.from(t))}static fromABI(e){const t=mh.fromABI(e),r=al.Symbol.fromABI(e);return new al(t,r)}static abiDefault(){return new this(mh.from(0),al.Symbol.abiDefault())}equals(e){const{symbol:t,units:r}=al.from(e);return this.symbol.value.equals(t.value)&&this.units.equals(r)}get value(){return this.symbol.convertUnits(this.units)}set value(e){this.units=this.symbol.convertFloat(e)}toABI(e){this.units.toABI(e),
this.symbol.toABI(e)}toString(){const e=this.units.toString().split("");let t=!1;"-"===e[0]&&(t=!0,e.shift());const r=this.symbol.precision;for(;e.length<=r;)e.unshift("0");r>0&&e.splice(e.length-r,0,".");let n=e.join("");return t&&(n="-"+n),n+" "+this.symbol.name}toJSON(){return this.toString()}}al.abiName="asset",function(e){class t{constructor(e){if(ol(e)>t.maxPrecision)throw new Error("Invalid asset symbol, precision too large")
;if(!t.symbolNamePattern.test(cl(e)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=e}static from(e){if(sh(e,t))return e;if(sh(e,xh))return new t(e);const r=e.split(",");if(2!==r.length)throw new Error("Invalid symbol string");const n=Number.parseInt(r[0]);return t.fromParts(r[1],n)}static fromParts(e,r){return new t(function(e,t){const r=dl(e),n=new Uint8Array(r.length+1);return n[0]=t,n.set(r,1),xh.from(n)}(e,r))}static fromABI(e){return new t(xh.fromABI(e))}
static abiDefault(){return this.from("4,SYS")}equals(e){return this.value.equals(t.from(e).value)}get name(){return cl(this.value)}get precision(){return ol(this.value)}get code(){return new r(xh.from(this.value.value.clone().iushrn(8)))}toABI(e){this.value.toABI(e)}convertUnits(e){return e.value.toNumber()/Math.pow(10,this.precision)}convertFloat(e){return mh.from(e.toFixed(this.precision).replace(".",""))}toString(){return`${this.precision},${this.name}`}toJSON(){return this.toString()}}
t.abiName="symbol",t.symbolNamePattern=/^[A-Z]{1,7}$/,t.maxPrecision=18,e.Symbol=t;class r{constructor(e){this.value=e}static from(e){return sh(e,r)?e:("string"==typeof e&&(e=xh.from(dl(e))),new this(xh.from(e)))}static fromABI(e){return new r(xh.fromABI(e))}static abiDefault(){return this.from("SYS")}equals(e){return this.value.equals(r.from(e).value)}toABI(e){this.value.toABI(e)}toString(){return fl(this.value.value.toArray("be"))}toJSON(){return this.toString()}}r.abiName="symbol_code",
e.SymbolCode=r}(al||(al={}));class sl{constructor(e,t){this.quantity=e,this.contract=t}static from(e){return sh(e,sl)?e:new this(al.from(e.quantity),Qh.from(e.contract))}static fromABI(e){return new sl(al.fromABI(e),Qh.fromABI(e))}equals(e){return this.quantity.equals(e.quantity)&&this.contract.equals(e.contract)}toABI(e){this.quantity.toABI(e),this.contract.toABI(e)}toJSON(){return{quantity:this.quantity,contract:this.contract}}}function ol(e){return e.value.and(xh.from(255).value).toNumber()}
function cl(e){return fl(e.value.toArray("be").slice(0,-1))}function fl(e){return e.map((e=>String.fromCharCode(e))).reverse().join("")}function dl(e){const t=Math.min(e.length,7),r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r}var ul;sl.abiName="extended_asset",function(e){let t;!function(e){e.E_CHECKSUM="E_CHECKSUM",e.E_INVALID="E_INVALID"}(t=e.ErrorCode||(e.ErrorCode={}));class r extends Error{constructor(e,t,r={}){super(e),this.code=t,this.info=r}}
r.__className="DecodingError",e.DecodingError=r;const n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",i=new Int16Array(255).fill(-1);for(let e=0;e<58;++e)i[n.charCodeAt(e)]=e;function a(e,n){if(null==n)return function(e){const n=[];for(let a=0;a<e.length;++a){let s=i[e.charCodeAt(a)];if(s<0)throw new r("Invalid Base58 character encountered",t.E_INVALID,{char:e[a]});for(let e=0;e<n.length;++e){const t=58*n[e]+s;n[e]=255&t,s=t>>8}s&&n.push(s)}for(const t of e){if("1"!==t)break
;n.push(0)}return n.reverse(),oh.from(n)}(e);const a=new Uint8Array(n);for(let s=0;s<e.length;++s){let o=i[e.charCodeAt(s)];if(o<0)throw new r("Invalid Base58 character encountered",t.E_INVALID,{char:e[s]});for(let e=0;e<n;++e){const t=58*a[e]+o;a[e]=t,o=t>>8}if(o)throw new r("Base58 value is out of range",t.E_INVALID)}return a.reverse(),new oh(a)}function s(e){e=oh.from(e);const t=[];for(const r of e.array){let e=r;for(let r=0;r<t.length;++r){const a=(i[t[r]]<<8)+e;t[r]=n.charCodeAt(a%58),
e=a/58|0}for(;e;)t.push(n.charCodeAt(e%58)),e=e/58|0}for(const r of e.array){if(r)break;t.push("1".charCodeAt(0))}return t.reverse(),String.fromCharCode(...t)}function o(e,t){const r=yc.ripemd160().update(e);return t&&r.update(t),new Uint8Array(r.digest().slice(0,4))}function c(e){const t=yc.sha256().update(e).digest(),r=yc.sha256().update(t).digest();return new Uint8Array(r.slice(0,4))}e.decode=a,e.decodeCheck=function(e,n){
const i=a(e,null!=n?n+4:n),s=i.array.subarray(0,-4),o=i.array.subarray(-4),f=c(s);if(!eh(o,f))throw new r("Checksum mismatch",t.E_CHECKSUM,{actual:f,expected:o,data:s,hash:"double_sha256"});return new oh(s)},e.decodeRipemd160Check=function(e,n,i){const s=a(e,null!=n?n+4:n),c=s.array.subarray(0,-4),f=s.array.subarray(-4),d=o(c,i);if(!eh(f,d))throw new r("Checksum mismatch",t.E_CHECKSUM,{actual:d,expected:f,data:c,hash:"ripemd160"});return new oh(c)},e.encode=s,e.encodeCheck=function(e){
return s(e=(e=oh.from(e)).appending(c(e.array)))},e.encodeRipemd160Check=function(e,t){return s(e=(e=oh.from(e)).appending(o(e.array,t)))}}(ul||(ul={}));class hl{constructor(e,t){this.type=e,this.data=t}static from(e){if(sh(e,hl))return e;if("object"==typeof e&&e.type&&e.compressed)return new hl(hh.from(e.type),new oh(e.compressed));if("string"!=typeof e)throw new Error("Invalid public key");if(e.startsWith("PUB_")){const t=e.split("_")
;if(3!==t.length)throw new Error("Invalid public key string");const r=hh.from(t[1]),n=r===hh.K1||r===hh.R1?33:void 0,i=ul.decodeRipemd160Check(t[2],n,r);return new hl(r,i)}if(e.length>=50){const t=ul.decodeRipemd160Check(e.slice(-50));return new hl(hh.K1,t)}throw new Error("Invalid public key string")}static fromABI(e){const t=hh.from(e.readByte());if(t==hh.WA){const t=e.getPosition();e.advance(33),e.advance(1),e.advance(e.readVaruint32());const r=e.getPosition()-t;e.setPosition(t)
;const n=oh.from(e.readArray(r));return new hl(hh.WA,n)}return new hl(t,new oh(e.readArray(33)))}equals(e){const t=hl.from(e);return this.type===t.type&&this.data.equals(t.data)}toLegacyString(e="EOS"){if(this.type!==hh.K1)throw new Error("Unable to create legacy formatted string for non-K1 key");return`${e}${ul.encodeRipemd160Check(this.data)}`}toString(){return`PUB_${this.type}_${ul.encodeRipemd160Check(this.data,this.type)}`}toABI(e){e.writeByte(hh.indexFor(this.type)),
e.writeArray(this.data.array)}toJSON(){return this.toString()}}hl.abiName="public_key";const ll={};function pl(e){let t=ll[e];if(!t)if("K1"===e)t=ll[e]=new vd.ec("secp256k1");else{if("R1"!==e)throw new Error(`Unknown curve type: ${e}`);t=ll[e]=new vd.ec("p256")}return t}class bl{constructor(e,t){this.type=e,this.data=t}static from(e){if(sh(e,bl))return e;if("object"==typeof e&&e.r&&e.s){const t=new Uint8Array(65);let r=e.recid;const n=hh.from(e.type)
;return e.type!==hh.K1&&e.type!==hh.R1||(r+=31),t[0]=r,t.set(e.r,1),t.set(e.s,33),new bl(n,new oh(t))}if("string"!=typeof e)throw new Error("Invalid signature");if(e.startsWith("SIG_")){const t=e.split("_");if(3!==t.length)throw new Error("Invalid signature string");const r=hh.from(t[1]),n=r===hh.K1||r===hh.R1?65:void 0,i=ul.decodeRipemd160Check(t[2],n,r);return new bl(r,i)}throw new Error("Invalid signature string")}static fromABI(e){const t=hh.from(e.readByte());if(t===hh.WA){
const t=e.getPosition();e.advance(65),e.advance(e.readVaruint32()),e.advance(e.readVaruint32());const r=e.getPosition()-t;e.setPosition(t);const n=oh.from(e.readArray(r));return new bl(hh.WA,n)}return new bl(t,new oh(e.readArray(65)))}equals(e){const t=bl.from(e);return this.type===t.type&&this.data.equals(t.data)}recoverDigest(e){e=fh.from(e);const t=function(e,t,r){const n=pl(r),i=e[0]-31,a=e.subarray(1,33),s=e.subarray(33),o=n.recoverPubKey(t,{r:a,s:s},i)
;return new Uint8Array(o.encodeCompressed())}(this.data.array,e.array,this.type);return hl.from({compressed:t,type:this.type})}recoverMessage(e){return this.recoverDigest(fh.hash(e))}verifyDigest(e,t){return e=fh.from(e),function(e,t,r,n){const i=pl(n),a=e.subarray(1,33),s=e.subarray(33);return i.verify(t,{r:a,s:s},r)}(this.data.array,e.array,t.data.array,this.type)}verifyMessage(e,t){return this.verifyDigest(fh.hash(e),t)}toString(){
return`SIG_${this.type}_${ul.encodeRipemd160Check(this.data,this.type)}`}toABI(e){e.writeByte(hh.indexFor(this.type)),e.writeArray(this.data.array)}toJSON(){return this.toString()}}var yl;bl.abiName="signature";let ml=yl=class extends Zh{static from(e){if("string"==typeof e){const t=e.split("@");if(2!==t.length&&t[0].length>0&&t[1].length>0)throw new Error("Invalid permission level string, should be in the format <actor>@<permission>");e={actor:t[0],permission:t[1]}}return super.from(e)}
equals(e){const t=yl.from(e);return this.actor.equals(t.actor)&&this.permission.equals(t.permission)}toString(){return`${this.actor}@${this.permission}`}};var vl;Qu([Zh.field("name")],ml.prototype,"actor",void 0),Qu([Zh.field("name")],ml.prototype,"permission",void 0),ml=yl=Qu([Zh.type("permission_level")],ml);let gl=vl=class extends Zh{static from(e,t){const r=e.data;if(!oh.isBytes(r)){let n
;if(t)n=il.from(t).getActionType(e.name);else if(!r.constructor||void 0===r.constructor.abiName)throw new Error("Missing ABI definition when creating action with untyped action data");e={...e,data:Kh({object:r,type:n,abi:t})}}return super.from(e)}equals(e){const t=vl.from(e);return this.account.equals(t.account)&&this.name.equals(t.name)&&function(e,t){const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(!e[n].equals(t[n]))return!1;return!0
}(this.authorization,t.authorization)&&this.data.equals(t.data)}decodeData(e){if("string"==typeof e||e.abiName)return Uh({data:this.data,type:e});{const t=il.from(e),r=t.getActionType(this.name);if(!r)throw new Error(`Action ${this.name} does not exist in provided ABI`);return Uh({data:this.data,type:r,abi:t})}}};var _l;Qu([Zh.field("name")],gl.prototype,"account",void 0),Qu([Zh.field("name")],gl.prototype,"name",void 0),Qu([Zh.field(ml,{array:!0})],gl.prototype,"authorization",void 0),
Qu([Zh.field("bytes")],gl.prototype,"data",void 0),gl=vl=Qu([Zh.type("action")],gl);let wl=class extends Zh{};Qu([Zh.field("uint16")],wl.prototype,"type",void 0),Qu([Zh.field("bytes")],wl.prototype,"data",void 0),wl=Qu([Zh.type("transaction_extension")],wl);let xl=class extends Zh{static from(e){return super.from({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...e})}};Qu([Zh.field("time_point_sec")],xl.prototype,"expiration",void 0),
Qu([Zh.field("uint16")],xl.prototype,"ref_block_num",void 0),Qu([Zh.field("uint32")],xl.prototype,"ref_block_prefix",void 0),Qu([Zh.field("varuint32")],xl.prototype,"max_net_usage_words",void 0),Qu([Zh.field("uint8")],xl.prototype,"max_cpu_usage_ms",void 0),Qu([Zh.field("varuint32")],xl.prototype,"delay_sec",void 0),xl=Qu([Zh.type("transaction_header")],xl);let Al=_l=class extends xl{static from(e,t){const r=e=>{return gl.from(e,(r=e.account,
t?Array.isArray(t)?t.filter((e=>Qh.from(e.contract).equals(r))).map((({abi:e})=>e))[0]:t:void 0));var r},n=(e.actions||[]).map(r),i=(e.context_free_actions||[]).map(r),a={transaction_extensions:[],...e,context_free_actions:i,actions:n};return super.from(a)}equals(e){const t=_l.from(e);return this.id.equals(t.id)}get id(){return fh.hash(Kh({object:this}))}signingDigest(e){const t=this.signingData(e);return fh.hash(t)}signingData(e){let t=oh.from(fh.from(e).array);return t=t.appending(Kh({
object:this})),t=t.appending(new Uint8Array(32)),t}};Qu([Zh.field(gl,{array:!0})],Al.prototype,"context_free_actions",void 0),Qu([Zh.field(gl,{array:!0})],Al.prototype,"actions",void 0),Qu([Zh.field(wl,{array:!0})],Al.prototype,"transaction_extensions",void 0),Al=_l=Qu([Zh.type("transaction")],Al);let kl=class extends Al{static from(e){return super.from({signatures:[],context_free_data:[],...e})}};Qu([Zh.field("signature[]")],kl.prototype,"signatures",void 0),
Qu([Zh.field("bytes[]")],kl.prototype,"context_free_data",void 0),kl=Qu([Zh.type("signed_transaction")],kl);let Sl=class extends Zh{static from(e){return super.from({signatures:[],packed_context_free_data:"",compression:0,...e})}static fromSigned(e){const t=Al.from(e);return this.from({signatures:e.signatures,packed_context_free_data:Kh({object:e.context_free_data,type:"bytes[]"}),packed_trx:Kh({object:t})})}getTransaction(){
if(0!==Number(this.compression))throw new Error("Transaction compression not supported yet");return Uh({data:this.packed_trx,type:Al})}getSignedTransaction(){const e=this.getTransaction();return kl.from({...e,signatures:this.signatures})}};Qu([Zh.field("signature[]")],Sl.prototype,"signatures",void 0),Qu([Zh.field("uint8")],Sl.prototype,"compression",void 0),Qu([Zh.field("bytes")],Sl.prototype,"packed_context_free_data",void 0),Qu([Zh.field("bytes")],Sl.prototype,"packed_trx",void 0),
Sl=Qu([Zh.type("packed_transaction")],Sl);let Ml=class extends Zh{};var El;Qu([Zh.field("string")],Ml.prototype,"status",void 0),Qu([Zh.field("uint32")],Ml.prototype,"cpu_usage_us",void 0),Qu([Zh.field("uint32")],Ml.prototype,"net_usage_words",void 0),Ml=Qu([Zh.type("transaction_receipt")],Ml);let zl=class extends _h{};zl=Qu([Hh("weight_type")],zl);let Il=class extends Zh{};Qu([Zh.field(hl)],Il.prototype,"key",void 0),Qu([Zh.field(zl)],Il.prototype,"weight",void 0),
Il=Qu([Zh.type("key_weight")],Il);let Nl=class extends Zh{};Qu([Zh.field(ml)],Nl.prototype,"permission",void 0),Qu([Zh.field(zl)],Nl.prototype,"weight",void 0),Nl=Qu([Zh.type("permission_level_weight")],Nl);let Tl=class extends Zh{};Qu([Zh.field(wh)],Tl.prototype,"wait_sec",void 0),Qu([Zh.field(zl)],Tl.prototype,"weight",void 0),Tl=Qu([Zh.type("wait_weight")],Tl);let Pl=El=class extends Zh{static from(e){if(sh(e,El))return e;const t=super.from({keys:[],accounts:[],waits:[],...e})
;return t.sort(),t}get waitThreshold(){return this.waits.reduce(((e,t)=>e+t.weight.toNumber()),0)}get keyThreshold(){return this.threshold.toNumber()-this.waitThreshold}keyWeight(e){const t=this.keys.find((({key:t})=>t.equals(e)));return t?t.weight.toNumber():0}hasPermission(e,t=!1){const r=t?1:this.keyThreshold;return this.keyWeight(e)>=r}sort(){this.keys.sort(((e,t)=>String(e.key).localeCompare(String(t.key)))),
this.accounts.sort(((e,t)=>String(e.permission).localeCompare(String(t.permission)))),this.waits.sort(((e,t)=>String(e.wait_sec).localeCompare(String(t.wait_sec))))}};var Rl;Qu([Zh.field(wh)],Pl.prototype,"threshold",void 0),Qu([Zh.field(Il,{array:!0})],Pl.prototype,"keys",void 0),Qu([Zh.field(Nl,{array:!0})],Pl.prototype,"accounts",void 0),Qu([Zh.field(Tl,{array:!0})],Pl.prototype,"waits",void 0),Pl=El=Qu([Zh.type("authority")],Pl),function(e){e.encode=Kh,e.decode=Uh,e.synthesize=function(e){
return Eh(e).abi},e.stringify=function(e){return JSON.stringify(e)},e.objectify=function(e){const t=e=>{switch(typeof e){case"boolean":case"number":case"string":return e;case"object":{if(null===e)return e;if("function"==typeof e.toJSON)return t(e.toJSON());if(Array.isArray(e))return e.map(t);const r={};for(const n of Object.keys(e))r[n]=t(e[n]);return r}}};return t(e)}}(Rl||(Rl={}));let Ol=class extends Zh{};Qu([Zh.field("name")],Ol.prototype,"perm_name",void 0),
Qu([Zh.field("name")],Ol.prototype,"parent",void 0),Qu([Zh.field(Pl)],Ol.prototype,"required_auth",void 0),Ol=Qu([Zh.type("account_permission")],Ol);let Bl=class extends Zh{};Qu([Zh.field("int64")],Bl.prototype,"used",void 0),Qu([Zh.field("int64")],Bl.prototype,"available",void 0),Qu([Zh.field("int64")],Bl.prototype,"max",void 0),Bl=Qu([Zh.type("account_resource_limit")],Bl);let Ul=class extends Zh{};Qu([Zh.field("name")],Ul.prototype,"owner",void 0),
Qu([Zh.field("asset")],Ul.prototype,"net_weight",void 0),Qu([Zh.field("asset")],Ul.prototype,"cpu_weight",void 0),Qu([Zh.field("uint64")],Ul.prototype,"ram_bytes",void 0),Ul=Qu([Zh.type("account_total_resources")],Ul);let Cl=class extends Zh{};Qu([Zh.field("name")],Cl.prototype,"from",void 0),Qu([Zh.field("name")],Cl.prototype,"to",void 0),Qu([Zh.field("asset")],Cl.prototype,"net_weight",void 0),Qu([Zh.field("asset")],Cl.prototype,"cpu_weight",void 0),
Cl=Qu([Zh.type("account_self_delegated_bandwidth")],Cl);let ql=class extends Zh{};Qu([Zh.field("name")],ql.prototype,"owner",void 0),Qu([Zh.field("time_point")],ql.prototype,"request_time",void 0),Qu([Zh.field("asset")],ql.prototype,"net_amount",void 0),Qu([Zh.field("asset")],ql.prototype,"cpu_amount",void 0),ql=Qu([Zh.type("account_refund_request")],ql);let jl=class extends Zh{};Qu([Zh.field("name")],jl.prototype,"owner",void 0),Qu([Zh.field("name")],jl.prototype,"proxy",void 0),
Qu([Zh.field("name",{array:!0})],jl.prototype,"producers",void 0),Qu([Zh.field("int64",{optional:!0})],jl.prototype,"staked",void 0),Qu([Zh.field("bool")],jl.prototype,"is_proxy",void 0),Qu([Zh.field("uint32",{optional:!0})],jl.prototype,"flags1",void 0),Qu([Zh.field("uint32")],jl.prototype,"reserved2",void 0),Qu([Zh.field("string")],jl.prototype,"reserved3",void 0),jl=Qu([Zh.type("account_voter_info")],jl);let Dl=class extends Zh{};Qu([Zh.field("time_point",{optional:!0
})],Dl.prototype,"key",void 0),Qu([Zh.field("int64",{optional:!0})],Dl.prototype,"value",void 0),Qu([Zh.field("time_point",{optional:!0})],Dl.prototype,"first",void 0),Qu([Zh.field("int64",{optional:!0})],Dl.prototype,"second",void 0),Dl=Qu([Zh.type("account_rex_info_maturities")],Dl);let Fl=class extends Zh{};Qu([Zh.field("uint32")],Fl.prototype,"version",void 0),Qu([Zh.field("name")],Fl.prototype,"owner",void 0),Qu([Zh.field("asset")],Fl.prototype,"vote_stake",void 0),
Qu([Zh.field("asset")],Fl.prototype,"rex_balance",void 0),Qu([Zh.field("int64")],Fl.prototype,"matured_rex",void 0),Qu([Zh.field(Dl,{array:!0})],Fl.prototype,"rex_maturities",void 0),Fl=Qu([Zh.type("account_rex_info")],Fl);let Ll=class extends Zh{getPermission(e){const t=Qh.from(e),r=this.permissions.find((e=>e.perm_name.equals(t)));if(!r)throw new Error(`Unknown permission ${t} on account ${this.account_name}.`);return r}};Qu([Zh.field("name")],Ll.prototype,"account_name",void 0),
Qu([Zh.field("uint32")],Ll.prototype,"head_block_num",void 0),Qu([Zh.field("time_point")],Ll.prototype,"head_block_time",void 0),Qu([Zh.field("bool")],Ll.prototype,"privileged",void 0),Qu([Zh.field("time_point")],Ll.prototype,"last_code_update",void 0),Qu([Zh.field("time_point")],Ll.prototype,"created",void 0),Qu([Zh.field("asset?")],Ll.prototype,"core_liquid_balance",void 0),Qu([Zh.field("int64")],Ll.prototype,"ram_quota",void 0),Qu([Zh.field("int64")],Ll.prototype,"net_weight",void 0),
Qu([Zh.field("int64")],Ll.prototype,"cpu_weight",void 0),Qu([Zh.field(Bl)],Ll.prototype,"net_limit",void 0),Qu([Zh.field(Bl)],Ll.prototype,"cpu_limit",void 0),Qu([Zh.field("uint64")],Ll.prototype,"ram_usage",void 0),Qu([Zh.field(Ol,{array:!0})],Ll.prototype,"permissions",void 0),Qu([Zh.field(Ul)],Ll.prototype,"total_resources",void 0),Qu([Zh.field(Cl,{optional:!0})],Ll.prototype,"self_delegated_bandwidth",void 0),Qu([Zh.field(ql,{optional:!0})],Ll.prototype,"refund_request",void 0),
Qu([Zh.field(jl,{optional:!0})],Ll.prototype,"voter_info",void 0),Qu([Zh.field(Fl,{optional:!0})],Ll.prototype,"rex_info",void 0),Ll=Qu([Zh.type("account_object")],Ll);let Kl=class extends Zh{};Qu([Zh.field("name")],Kl.prototype,"producer_name",void 0),Qu([Zh.field("public_key")],Kl.prototype,"block_signing_key",void 0),Kl=Qu([Zh.type("new_producers_entry")],Kl);let Vl=class extends Zh{};Qu([Zh.field("uint32")],Vl.prototype,"version",void 0),Qu([Zh.field(Kl,{array:!0
})],Vl.prototype,"producers",void 0),Vl=Qu([Zh.type("new_producers")],Vl);let Wl=class extends Zh{};Qu([Zh.field("uint16")],Wl.prototype,"type",void 0),Qu([Zh.field("bytes")],Wl.prototype,"data",void 0),Wl=Qu([Zh.type("block_extension")],Wl);let Zl=class extends Zh{};Qu([Zh.field("uint16")],Zl.prototype,"type",void 0),Qu([Zh.field("bytes")],Zl.prototype,"data",void 0),Zl=Qu([Zh.type("header_extension")],Zl);class Hl{constructor(e,t){this.id=e,this.extra=t}static from(e){let t,r
;return"string"==typeof e?(t=fh.from(e),r={}):(t=fh.from(e.id),r=e),new this(t,r)}get transaction(){if(this.extra.packed_trx)return Rl.decode({data:this.extra.packed_trx,type:Al})}get signatures(){if(this.extra.signatures)return this.extra.signatures.map(bl.from)}equals(e){return this.id.equals(e.id)}toJSON(){return this.id}}Hl.abiName="trx_variant";let $l=class extends Ml{get id(){return this.trx.id}};Qu([Zh.field(Hl)],$l.prototype,"trx",void 0),$l=Qu([Zh.type("get_block_response_receipt")],$l)
;let Jl=class extends Zh{};Qu([Zh.field("time_point")],Jl.prototype,"timestamp",void 0),Qu([Zh.field("name")],Jl.prototype,"producer",void 0),Qu([Zh.field("uint16")],Jl.prototype,"confirmed",void 0),Qu([Zh.field("checksum256")],Jl.prototype,"previous",void 0),Qu([Zh.field("checksum256")],Jl.prototype,"transaction_mroot",void 0),Qu([Zh.field("checksum256")],Jl.prototype,"action_mroot",void 0),Qu([Zh.field("uint32")],Jl.prototype,"schedule_version",void 0),Qu([Zh.field(Vl,{optional:!0
})],Jl.prototype,"new_producers",void 0),Qu([Zh.field("header_extension",{optional:!0})],Jl.prototype,"header_extensions",void 0),Qu([Zh.field("any",{optional:!0})],Jl.prototype,"new_protocol_features",void 0),Qu([Zh.field("signature")],Jl.prototype,"producer_signature",void 0),Qu([Zh.field($l,{array:!0})],Jl.prototype,"transactions",void 0),Qu([Zh.field("block_extension",{optional:!0})],Jl.prototype,"block_extensions",void 0),Qu([Zh.field("checksum256")],Jl.prototype,"id",void 0),
Qu([Zh.field("uint32")],Jl.prototype,"block_num",void 0),Qu([Zh.field("uint32")],Jl.prototype,"ref_block_prefix",void 0),Jl=Qu([Zh.type("get_block_response")],Jl);let Gl=class extends Zh{};Qu([Zh.field("name")],Gl.prototype,"producer_name",void 0),Qu([Zh.field("any")],Gl.prototype,"authority",void 0),Gl=Qu([Zh.type("active_schedule_producer_authority")],Gl);let Yl=class extends Zh{};Qu([Zh.field("name")],Yl.prototype,"producer_name",void 0),Qu([Zh.field(Gl)],Yl.prototype,"authority",void 0),
Yl=Qu([Zh.type("active_schedule_producer")],Yl);let Xl=class extends Zh{};Qu([Zh.field("uint32")],Xl.prototype,"version",void 0),Qu([Zh.field(Yl,{array:!0})],Xl.prototype,"producers",void 0),Xl=Qu([Zh.type("active_schedule")],Xl);let Ql=class extends Zh{};Qu([Zh.field("time_point")],Ql.prototype,"timestamp",void 0),Qu([Zh.field("name")],Ql.prototype,"producer",void 0),Qu([Zh.field("uint16")],Ql.prototype,"confirmed",void 0),Qu([Zh.field("checksum256")],Ql.prototype,"previous",void 0),
Qu([Zh.field("checksum256")],Ql.prototype,"transaction_mroot",void 0),Qu([Zh.field("checksum256")],Ql.prototype,"action_mroot",void 0),Qu([Zh.field("uint32")],Ql.prototype,"schedule_version",void 0),Qu([Zh.field(Zl,{array:!0,optional:!0})],Ql.prototype,"header_extensions",void 0),Qu([Zh.field("signature")],Ql.prototype,"producer_signature",void 0),Ql=Qu([Zh.type("block_state_header")],Ql);let ep=class extends Zh{};Qu([Zh.field("uint32")],ep.prototype,"block_num",void 0),
Qu([Zh.field("uint32")],ep.prototype,"dpos_proposed_irreversible_blocknum",void 0),Qu([Zh.field("uint32")],ep.prototype,"dpos_irreversible_blocknum",void 0),Qu([Zh.field("checksum256")],ep.prototype,"id",void 0),Qu([Zh.field(Ql)],ep.prototype,"header",void 0),Qu([Zh.field("any")],ep.prototype,"active_schedule",void 0),Qu([Zh.field("any")],ep.prototype,"blockroot_merkle",void 0),Qu([Zh.field("any")],ep.prototype,"producer_to_last_produced",void 0),
Qu([Zh.field("any")],ep.prototype,"producer_to_last_implied_irb",void 0),Qu([Zh.field("any")],ep.prototype,"valid_block_signing_authority",void 0),Qu([Zh.field("any")],ep.prototype,"confirm_count",void 0),Qu([Zh.field("any")],ep.prototype,"pending_schedule",void 0),Qu([Zh.field("any")],ep.prototype,"activated_protocol_features",void 0),Qu([Zh.field("any")],ep.prototype,"additional_signatures",void 0),ep=Qu([Zh.type("get_block_header_state_response")],ep);let tp=class extends Zh{
getTransactionHeader(e=120){const t=rl.fromMilliseconds(this.head_block_time.toMilliseconds()+1e3*e),r=this.last_irreversible_block_id.array.subarray(8,12),n=new Uint32Array(r.buffer,r.byteOffset,1)[0];return xl.from({expiration:t,ref_block_num:65535&Number(this.last_irreversible_block_num),ref_block_prefix:n})}};Qu([Zh.field("string")],tp.prototype,"server_version",void 0),Qu([Zh.field("checksum256")],tp.prototype,"chain_id",void 0),Qu([Zh.field("uint32")],tp.prototype,"head_block_num",void 0),
Qu([Zh.field("uint32")],tp.prototype,"last_irreversible_block_num",void 0),Qu([Zh.field("checksum256")],tp.prototype,"last_irreversible_block_id",void 0),Qu([Zh.field("checksum256")],tp.prototype,"head_block_id",void 0),Qu([Zh.field("time_point")],tp.prototype,"head_block_time",void 0),Qu([Zh.field("name")],tp.prototype,"head_block_producer",void 0),Qu([Zh.field("uint64")],tp.prototype,"virtual_block_cpu_limit",void 0),Qu([Zh.field("uint64")],tp.prototype,"virtual_block_net_limit",void 0),
Qu([Zh.field("uint64")],tp.prototype,"block_cpu_limit",void 0),Qu([Zh.field("uint64")],tp.prototype,"block_net_limit",void 0),Qu([Zh.field("string?")],tp.prototype,"server_version_string",void 0),Qu([Zh.field("uint32?")],tp.prototype,"fork_db_head_block_num",void 0),Qu([Zh.field("checksum256?")],tp.prototype,"fork_db_head_block_id",void 0),tp=Qu([Zh.type("get_info_response")],tp);let rp=class extends Zh{};Qu([Zh.field("name")],rp.prototype,"code",void 0),
Qu([Zh.field("name")],rp.prototype,"scope",void 0),Qu([Zh.field("name")],rp.prototype,"table",void 0),Qu([Zh.field("name")],rp.prototype,"payer",void 0),Qu([Zh.field("uint32")],rp.prototype,"count",void 0),rp=Qu([Zh.type("get_table_by_scope_response_row")],rp);let np=class extends Zh{};Qu([Zh.field(rp,{array:!0})],np.prototype,"rows",void 0),Qu([Zh.field("string")],np.prototype,"more",void 0),np=Qu([Zh.type("get_table_by_scope_response")],np);let ip=class extends Zh{}
;Qu([Zh.field(xh)],ip.prototype,"global_action_seq",void 0),Qu([Zh.field(mh)],ip.prototype,"account_action_seq",void 0),Qu([Zh.field(wh)],ip.prototype,"block_num",void 0),Qu([Zh.field(nl)],ip.prototype,"block_time",void 0),Qu([Zh.field("any")],ip.prototype,"action_trace",void 0),Qu([Zh.field("boolean?")],ip.prototype,"irrevirsible",void 0),ip=Qu([Zh.type("ordered_action_result")],ip);let ap=class extends Zh{};Qu([Zh.field(ip,{array:!0})],ap.prototype,"actions",void 0),
Qu([Zh.field(yh)],ap.prototype,"last_irreversible_block",void 0),Qu([Zh.field(yh)],ap.prototype,"head_block_num",void 0),Qu([Zh.field("boolean?")],ap.prototype,"time_limit_exceeded_error",void 0),ap=Qu([Zh.type("get_actions_response")],ap);let sp=class extends Zh{};sp=Qu([Zh.type("transaction_trace")],sp);let op=class extends Zh{};Qu([Zh.field("any")],op.prototype,"actions",void 0),Qu([Zh.field("any")],op.prototype,"context_free_actions",void 0),
Qu([Zh.field("any")],op.prototype,"context_free_data",void 0),Qu([Zh.field("number")],op.prototype,"delay_sec",void 0),Qu([Zh.field("string")],op.prototype,"expiration",void 0),Qu([Zh.field("number")],op.prototype,"max_cpu_usage_ms",void 0),Qu([Zh.field("number")],op.prototype,"max_net_usage_words",void 0),Qu([Zh.field("number")],op.prototype,"ref_block_num",void 0),Qu([Zh.field("number")],op.prototype,"ref_block_prefix",void 0),Qu([Zh.field("string",{array:!0
})],op.prototype,"signatures",void 0),op=Qu([Zh.type("trx")],op);let cp=class extends Zh{};Qu([Zh.field(Ml)],cp.prototype,"receipt",void 0),Qu([Zh.field("trx")],cp.prototype,"trx",void 0),cp=Qu([Zh.type("transaction_info")],cp);let fp=class extends Zh{};Qu([Zh.field(fh)],fp.prototype,"id",void 0),Qu([Zh.field(wh)],fp.prototype,"block_num",void 0),Qu([Zh.field(nl)],fp.prototype,"block_time",void 0),Qu([Zh.field(wh)],fp.prototype,"last_irreversible_block",void 0),
Qu([Zh.field("any?")],fp.prototype,"traces",void 0),Qu([Zh.field("any")],fp.prototype,"trx",void 0),fp=Qu([Zh.type("get_transaction_response")],fp);let dp=class extends Zh{};Qu([Zh.field("name",{array:!0})],dp.prototype,"account_names",void 0),dp=Qu([Zh.type("get_key_accounts_response")],dp);let up=class extends Zh{};Qu([Zh.field("name",{array:!0})],up.prototype,"controlled_accounts",void 0),up=Qu([Zh.type("get_controlled_accounts_response")],up);class hp extends Error{constructor(e,t){let r
;r=t.json&&t.json.error?`${hp.formatError(t.json.error)} at ${e}`:`HTTP ${t.status} at ${e}`,super(r),this.path=e,this.response=t}static formatError(e){return"unspecified"===e.what&&e.details[0].file&&"http_plugin.cpp"===e.details[0].file&&"unknown key"===e.details[0].message.slice(0,11)?"Account not found":"unspecified"===e.what&&e.details&&e.details.length>0?e.details[0].message:e.what&&e.what.length>0?e.what:"Unknown API error"}get error(){const{json:e}=this.response;return e?e.error:void 0}
get name(){const{error:e}=this;return e?e.name:"unspecified"}get code(){const{error:e}=this;return e?e.code:0}get details(){const{error:e}=this;return e?e.details:[]}}
/**
   * EOSIO Signing Request v4.2.7
   * https://github.com/ProtonProtocol/proton-signing-request
   *
   * @license
   * Copyright © 2021 Greymass Inc.
   * 
   * Permission is hereby granted, free of charge, to any person
   * obtaining a copy of this software and associated documentation
   * files (the “Software”), to deal in the Software without
   * restriction, including without limitation the rights to use,
   * copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the
   * Software is furnished to do so, subject to the following
   * conditions:
   * 
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
   * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
   * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
   * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
   * OTHER DEALINGS IN THE SOFTWARE.
   * 
   * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR
   * INTENDED FOR USE IN THE DESIGN, CONSTRUCTION, OPERATION OR
   * MAINTENANCE OF ANY MILITARY FACILITY.
   */
function lp(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function pp(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){
var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))}hp.__className="APIError";const bp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",yp=new Uint8Array(256);for(let e=0;e<62;e++)yp[bp.charCodeAt(e)]=e;function mp(e,t=!0){const r=e.byteLength,n=r%3,i=r-n,a=bp+(t?"-_":"+/"),s=[];let o,c,f,d,u;for(let t=0;t<i;t+=3)u=e[t]<<16|e[t+1]<<8|e[t+2],o=(16515072&u)>>18,c=(258048&u)>>12,f=(4032&u)>>6,d=63&u,
s.push(a[o]+a[c]+a[f]+a[d]);return 1===n?(u=e[i],o=(252&u)>>2,c=(3&u)<<4,s.push(a[o]+a[c])):2===n&&(u=e[i]<<8|e[i+1],o=(64512&u)>>10,c=(1008&u)>>4,f=(15&u)<<2,s.push(a[o]+a[c]+a[f])),s.join("")}function vp(e){const t=.75*e.length,r=new Uint8Array(t);let n,i,a,s,o=0;for(let t=0;t<e.length;t+=4)n=yp[e.charCodeAt(t)],i=yp[e.charCodeAt(t+1)],a=yp[e.charCodeAt(t+2)],s=yp[e.charCodeAt(t+3)],r[o++]=n<<2|i>>4,r[o++]=(15&i)<<4|a>>2,r[o++]=(3&a)<<6|63&s;return r}yp[43]=yp[45]=62,yp[47]=yp[95]=63
;var gp,_p=Object.freeze({__proto__:null,encode:mp,decode:vp});e.ChainName=void 0,(gp=e.ChainName||(e.ChainName={}))[gp.UNKNOWN=0]="UNKNOWN",gp[gp.EOS=1]="EOS",gp[gp.TELOS=2]="TELOS",gp[gp.JUNGLE=3]="JUNGLE",gp[gp.KYLIN=4]="KYLIN",gp[gp.WORBLI=5]="WORBLI",gp[gp.BOS=6]="BOS",gp[gp.MEETONE=7]="MEETONE",gp[gp.INSIGHTS=8]="INSIGHTS",gp[gp.BEOS=9]="BEOS",gp[gp.WAX=10]="WAX",gp[gp.PROTON=11]="PROTON",gp[gp.FIO=12]="FIO",gp[gp.PROTON_TEST=13]="PROTON_TEST",e.ChainId=class extends fh{static from(e){
if(sh(e,this))return e;if("number"==typeof e&&!(e=wp.get(e)))throw new Error("Unknown chain id alias");return super.from(e)}get chainVariant(){return this.chainName,e.ChainIdVariant.from(this)}get chainName(){const t=this.hexString;for(const[e,r]of wp)if(r===t)return e;return e.ChainName.UNKNOWN}},e.ChainId=lp([Hh("chain_id")],e.ChainId),e.ChainAlias=class extends gh{},e.ChainAlias=lp([Hh("chain_alias")],e.ChainAlias),e.ChainIdVariant=class extends $h{get chainId(){
return sh(this.value,e.ChainId)?this.value:e.ChainId.from(Number(this.value.value))}},e.ChainIdVariant=lp([$h.type("variant_id",[e.ChainAlias,e.ChainId])],e.ChainIdVariant)
;const wp=new Map([[e.ChainName.EOS,"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"],[e.ChainName.TELOS,"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"],[e.ChainName.JUNGLE,"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"],[e.ChainName.KYLIN,"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"],[e.ChainName.WORBLI,"73647cde120091e0a4b85bced2f3cfdb3041e266cbbe95cee59b73235a1b3b6f"],[e.ChainName.BOS,"d5a3d18fbb3c084e3b1f3fa98c21014b5f3db536cc15d08f9f6479517c6a3d86"],[e.ChainName.MEETONE,"cfe6486a83bad4962f232d48003b1824ab5665c36778141034d75e57b956e422"],[e.ChainName.INSIGHTS,"b042025541e25a472bffde2d62edd457b7e70cee943412b1ea0f044f88591664"],[e.ChainName.BEOS,"b912d19a6abd2b1b05611ae5be473355d64d95aeff0c09bedc8c166cd6468fe4"],[e.ChainName.WAX,"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"],[e.ChainName.PROTON,"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0"],[e.ChainName.FIO,"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c"],[e.ChainName.PROTON_TEST,"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd"]])
;var xp,Ap;e.AccountName=class extends Qh{},e.AccountName=lp([Hh("account_name")],e.AccountName),e.PermissionName=class extends Qh{},e.PermissionName=lp([Hh("permission_name")],e.PermissionName),e.IdentityV2=class extends Zh{},lp([Zh.field(ml,{optional:!0})],e.IdentityV2.prototype,"permission",void 0),e.IdentityV2=lp([Zh.type("identity")],e.IdentityV2),e.IdentityV3=class extends Zh{},lp([Zh.field(ml,{optional:!0})],e.IdentityV3.prototype,"permission",void 0),
e.IdentityV3=lp([Zh.type("identity")],e.IdentityV3),e.RequestVariantV2=class extends $h{},e.RequestVariantV2=lp([$h.type("variant_req",[gl,{type:gl,array:!0},Al,e.IdentityV2])],e.RequestVariantV2),e.RequestVariantV3=class extends $h{},e.RequestVariantV3=lp([$h.type("variant_req",[gl,{type:gl,array:!0},Al,e.IdentityV3])],e.RequestVariantV3),e.RequestFlags=xp=class extends gh{get broadcast(){return 0!=(Number(this)&xp.broadcast)}set broadcast(e){this.setFlag(xp.broadcast,e)}get background(){
return 0!=(Number(this)&xp.background)}set background(e){this.setFlag(xp.background,e)}setFlag(e,t){this.value=t?gh.from(Number(this)|e).value:gh.from(Number(this)&~e).value}},e.RequestFlags.broadcast=1,e.RequestFlags.background=2,e.RequestFlags=xp=lp([Hh("request_flags")],e.RequestFlags),e.InfoPair=class extends Zh{},lp([Zh.field("string")],e.InfoPair.prototype,"key",void 0),lp([Zh.field("bytes")],e.InfoPair.prototype,"value",void 0),e.InfoPair=lp([Zh.type("info_pair")],e.InfoPair),
e.RequestDataV2=class extends Zh{},lp([Zh.field(e.ChainIdVariant)],e.RequestDataV2.prototype,"chain_id",void 0),lp([Zh.field(e.RequestVariantV2)],e.RequestDataV2.prototype,"req",void 0),lp([Zh.field(e.RequestFlags)],e.RequestDataV2.prototype,"flags",void 0),lp([Zh.field("string")],e.RequestDataV2.prototype,"callback",void 0),lp([Zh.field(e.InfoPair,{array:!0})],e.RequestDataV2.prototype,"info",void 0),e.RequestDataV2=lp([Zh.type("signing_request")],e.RequestDataV2),
e.RequestDataV3=class extends Zh{},lp([Zh.field(e.ChainIdVariant)],e.RequestDataV3.prototype,"chain_id",void 0),lp([Zh.field(e.RequestVariantV3)],e.RequestDataV3.prototype,"req",void 0),lp([Zh.field(e.RequestFlags)],e.RequestDataV3.prototype,"flags",void 0),lp([Zh.field("string")],e.RequestDataV3.prototype,"callback",void 0),lp([Zh.field(e.InfoPair,{array:!0})],e.RequestDataV3.prototype,"info",void 0),e.RequestDataV3=lp([Zh.type("signing_request")],e.RequestDataV3),
e.RequestSignature=class extends Zh{},lp([Zh.field("name")],e.RequestSignature.prototype,"signer",void 0),lp([Zh.field("signature")],e.RequestSignature.prototype,"signature",void 0),e.RequestSignature=lp([Zh.type("request_signature")],e.RequestSignature),e.IdentityProof=Ap=class extends Zh{static from(e){return sh(e,Ap)?e:"string"==typeof e?Ap.fromString(e):super.from(e)}static fromString(e){const t=e.split(" ");if(2!==t.length||"EOSIO"!==t[0])throw new Error("Invalid IdentityProof string")
;const r=vp(t[1]);return Rl.decode({data:r,type:Ap})}static fromPayload(e,t={scheme:kp}){const r=zp.from(e.req,t);if(!(r.version>=3&&r.isIdentity()))throw new Error("Not an identity request");return this.from({chainId:e.cid||r.getChainId(),expiration:e.ex,signer:{actor:e.sa,permission:e.sp},signature:e.sig})}get transaction(){const t=gl.from({account:"",name:"identity",authorization:[this.signer],data:e.IdentityV3.from({permission:this.signer})});return Al.from({ref_block_num:0,
ref_block_prefix:0,expiration:this.expiration,actions:[t]})}recover(){return this.signature.recoverDigest(this.transaction.signingDigest(this.chainId))}verify(e,t){return rl.from(t||new Date).toMilliseconds()<this.expiration.toMilliseconds()&&Pl.from(e).hasPermission(this.recover())}toString(){return`EOSIO ${mp(Rl.encode({object:this}).array,!1)}`}},lp([Zh.field(e.ChainId)],e.IdentityProof.prototype,"chainId",void 0),lp([Zh.field(rl)],e.IdentityProof.prototype,"expiration",void 0),
lp([Zh.field(ml)],e.IdentityProof.prototype,"signer",void 0),lp([Zh.field(bl)],e.IdentityProof.prototype,"signature",void 0),e.IdentityProof=Ap=lp([Zh.type("identity_proof")],e.IdentityProof);const kp="esr",Sp=Qh.from("............1"),Mp=Qh.from("............2"),Ep=ml.from({actor:Sp,permission:Mp});class zp{constructor(e,t,r,n,i,a){if(this.scheme=kp,t.flags.broadcast&&"identity"===t.req.variantName)throw new Error("Invalid request (identity request cannot be broadcast)");this.version=e,
this.data=t,this.zlib=n,this.abiProvider=i,this.signature=a,this.scheme=r||this.scheme}static identityAbi(e){const t=Rl.synthesize(this.identityType(e));return t.actions=[{name:"identity",type:"identity",ricardian_contract:""}],t}static identityType(t){return 2===t?e.IdentityV2:e.IdentityV3}static storageType(t){return 2===t?e.RequestDataV2:e.RequestDataV3}static create(e,t={scheme:kp}){return pp(this,void 0,void 0,(function*(){let r
;r=e.action?[e.action]:e.actions?e.actions:e.transaction&&e.transaction.actions||[];const n=r.filter((e=>!oh.isBytes(e.data)&&void 0===e.data.constructor.abiName)).map((e=>Qh.from(e.account))),i={};if(n.length>0){const e=t.abiProvider;if(!e)throw new Error("Missing abi provider");const r=yield Promise.all(n.map((t=>e.getAbi(t))));for(const[e,t]of r.entries())i[n[e].toString()]=t}return this.createSync(e,t,i)}))}static createSync(t,r={scheme:kp},n={}){const i={},a=e=>function(e,t){
if(oh.isBytes(e.data)||void 0!==e.data.constructor.abiName)return gl.from(e);const r=t[String(Qh.from(e.account))];if(!r)throw new Error(`Missing ABI for ${e.account}`);return gl.from(e,r)}(e,n);if(void 0!==t.identity)i.req=["identity",this.identityType(2).from(t.identity)];else if(!t.action||t.actions||t.transaction)if(!t.actions||t.action||t.transaction){if(!t.transaction||t.action||t.actions)throw new TypeError("Invalid arguments: Must have exactly one of action, actions or transaction");{
const e=t.transaction;void 0===e.expiration&&(e.expiration="1970-01-01T00:00:00.000"),void 0===e.ref_block_num&&(e.ref_block_num=0),void 0===e.ref_block_prefix&&(e.ref_block_prefix=0),void 0===e.context_free_actions&&(e.context_free_actions=[]),void 0===e.transaction_extensions&&(e.transaction_extensions=[]),void 0===e.delay_sec&&(e.delay_sec=0),void 0===e.max_cpu_usage_ms&&(e.max_cpu_usage_ms=0),void 0===e.max_net_usage_words&&(e.max_net_usage_words=0),void 0===e.actions&&(e.actions=[]),
void 0===e.context_free_actions&&(e.context_free_actions=[]),e.actions=e.actions.map(a),i.req=["transaction",e]}}else 1===t.actions.length?i.req=["action",a(t.actions[0])]:i.req=["action[]",t.actions.map(a)];else i.req=["action",a(t.action)];null===t.chainId?i.chain_id=e.ChainIdVariant.from(["chain_alias",0]):i.chain_id=e.ChainId.from(t.chainId||e.ChainName.EOS).chainVariant;const s=e.RequestFlags.from(0);let o="";if(s.broadcast=void 0!==t.broadcast?t.broadcast:"identity"!==i.req[0],
"string"==typeof t.callback?o=t.callback:"object"==typeof t.callback&&(o=t.callback.url,s.background=t.callback.background||!1),i.flags=s,i.callback=o,i.info=[],"object"==typeof t.info)for(const e in t.info){if(Object.prototype.hasOwnProperty.call(t.info,e)){let r=t.info[e];"string"==typeof r?r=oh.from(r,"utf8"):r instanceof oh||(r=Rl.encode({object:r})),i.info.push({key:e,value:r})}}if(t.chainIds&&null===t.chainId){const r=t.chainIds.map((t=>e.ChainId.from(t).chainVariant));i.info.push({
key:"chain_ids",value:Rl.encode({object:r,type:{type:e.ChainIdVariant,array:!0}})})}const c=new zp(2,this.storageType(2).from(i),r.scheme,r.zlib,r.abiProvider);return r.signatureProvider&&c.sign(r.signatureProvider),c}static identity(e,t={scheme:kp}){let r={actor:e.account||Sp,permission:e.permission||Mp};return r.actor===Sp&&r.permission===Mp&&(r=void 0),this.createSync(Object.assign(Object.assign({},e),{identity:{permission:r},broadcast:!1}),t)}static fromTransaction(t,r,n={scheme:kp}){
const i=e.ChainId.from(t);r=oh.from(r);const a=new Wh;return a.writeByte(2),a.writeArray(Rl.encode({object:i.chainVariant}).array),a.writeByte(2),a.writeArray(oh.from(r).array),a.writeByte(e.RequestFlags.broadcast),a.writeByte(0),a.writeByte(0),zp.fromData(a.getData(),n)}static from(e,t={scheme:kp}){if("string"!=typeof e)throw new Error("Invalid request uri");const[r,n]=e.split(":");if(r!==(t.scheme||kp)&&r!==`web+${t.scheme||kp}`)throw new Error("Invalid scheme")
;const i=vp(n.startsWith("//")?n.slice(2):n);return zp.fromData(i,t)}static fromData(t,r={scheme:kp}){const n=(t=oh.from(t)).array[0],i=-129&n;if(2!==i&&3!==i)throw new Error(`Unsupported protocol version ${i}`);let a=t.droppingFirst(1);if(0!=(128&n)){if(!r.zlib)throw new Error("Compressed URI needs zlib");a=oh.from(r.zlib.inflateRaw(a.array))}const s=new Fh(a.array),o=Rl.decode({data:s,type:this.storageType(i)});let c;return s.canRead()&&(c=Rl.decode({data:s,type:e.RequestSignature})),
new zp(i,o,r.scheme,r.zlib,r.abiProvider,c)}sign(t){const r=this.getSignatureDigest();this.signature=e.RequestSignature.from(t.sign(r))}getSignatureDigest(){const e=[this.version,114,101,113,117,101,115,116];return fh.hash(oh.from(e).appending(this.getData()))}setSignature(t,r){this.signature=e.RequestSignature.from({signer:t,signature:r})}setCallback(e,t){this.data.callback=e,this.data.flags.background=t}setBroadcast(e){this.data.flags.broadcast=e}encode(e,t){
const r=void 0!==e?e:void 0!==this.zlib;if(r&&void 0===this.zlib)throw new Error("Need zlib to compress");let n=this.version;const i=this.getData(),a=this.getSignatureData();let s=new Uint8Array(i.byteLength+a.byteLength);if(s.set(i,0),s.set(a,i.byteLength),r){const e=this.zlib.deflateRaw(s);s.byteLength>e.byteLength&&(n|=128,s=e)}const o=new Uint8Array(1+s.byteLength);o[0]=n,o.set(s,1);let c=`${this.scheme}:`;return!1!==t&&(c+="//"),c+mp(o)}getData(){return Rl.encode({object:this.data}).array}
getSignatureData(){return this.signature?Rl.encode({object:this.signature}).array:new Uint8Array(0)}getRequiredAbis(){return this.getRawActions().filter((e=>!Np(e))).map((e=>e.account)).filter(((e,t,r)=>r.indexOf(e)===t))}requiresTapos(){const e=this.getRawTransaction();return!this.isIdentity()&&!Tp(e)}fetchAbis(e){return pp(this,void 0,void 0,(function*(){const t=this.getRequiredAbis();if(t.length>0){const r=e||this.abiProvider;if(!r)throw new Error("Missing ABI provider");const n=new Map
;return yield Promise.all(t.map((e=>pp(this,void 0,void 0,(function*(){n.set(e.toString(),il.from(yield r.getAbi(e)))}))))),n}return new Map}))}resolveActions(e,t){return this.getRawActions().map((r=>{let n;if(Np(r))n=this.constructor.identityAbi(this.version);else{const t=e.get(r.account.toString());if(!t)throw new Error(`Missing ABI definition for ${r.account}`);n=il.from(t)}if(!n.getActionType(r.name))throw new Error(`Missing type for action ${r.account}:${r.name} in ABI`)
;let i=r.decodeData(n),a=r.authorization;if(t){const e=ml.from(t),r=t=>{if(t instanceof Qh)return t.equals(Sp)?e.actor:t.equals(Mp)?e.permission:t;if(Array.isArray(t))return t.map(r);if("object"==typeof t&&null!==t){for(const e of Object.keys(t))t[e]=r(t[e]);return t}return t};i=r(i),a=a.map((t=>{let{actor:r,permission:n}=t;return r.equals(Sp)&&(r=e.actor),n.equals(Mp)&&(n=e.permission),n.equals(Sp)&&(n=e.permission),ml.from({actor:r,permission:n})}))}return Object.assign(Object.assign({},r),{
authorization:a,data:i})}))}resolveTransaction(e,t,r={}){const n=this.getRawTransaction();if(this.isIdentity()||Tp(n))this.isIdentity()&&this.version>2&&(n.expiration=r.expiration?rl.from(r.expiration):Pp(r.timestamp,r.expire_seconds));else if(void 0!==r.expiration&&void 0!==r.ref_block_num&&void 0!==r.ref_block_prefix)n.expiration=rl.from(r.expiration),n.ref_block_num=_h.from(r.ref_block_num),n.ref_block_prefix=wh.from(r.ref_block_prefix);else{
if(void 0===r.block_num||void 0===r.ref_block_prefix||void 0===r.timestamp)throw new Error("Invalid transaction context, need either a reference block or explicit TaPoS values");n.expiration=Pp(r.timestamp,r.expire_seconds),n.ref_block_num=_h.from(r.block_num),n.ref_block_prefix=wh.from(r.ref_block_prefix)}const i=this.resolveActions(e,t),a=n.context_free_actions;return Object.assign(Object.assign({},n),{context_free_actions:a,actions:i})}resolve(t,r,n={}){
const i=this.resolveTransaction(t,r,n),a=i.actions.map((e=>{let r;if(r=Np(e)?this.constructor.identityAbi(this.version):t.get(e.account.toString()),!r)throw new Error(`Missing ABI definition for ${e.account}`);const n=r.getActionType(e.name),i=Rl.encode({object:e.data,type:n,abi:r});return gl.from(Object.assign(Object.assign({},e),{data:i}))})),s=Al.from(Object.assign(Object.assign({},i),{actions:a}));let o;if(this.isMultiChain()){
if(!n.chainId)throw new Error("Missing chosen chain ID for multi-chain request");o=e.ChainId.from(n.chainId);const t=this.getChainIds();if(t&&!t.some((e=>o.equals(e))))throw new Error("Trying to resolve for chain ID not defined in request")}else o=this.getChainId();return new Ip(this,ml.from(r),s,i,o)}getScheme(){return this.scheme}getChainId(){return this.data.chain_id.chainId}getChainIds(){if(!this.isMultiChain())return null;const t=this.getInfoKey("chain_ids",{type:e.ChainIdVariant,array:!0})
;return t?t.map((e=>e.chainId)):null}setChainIds(t){const r=t.map((t=>e.ChainId.from(t).chainVariant));this.setInfoKey("chain_ids",r,{type:e.ChainIdVariant,array:!0})}isMultiChain(){return 0===this.data.chain_id.variantIdx&&this.data.chain_id.value.equals(e.ChainName.UNKNOWN)}getRawActions(){const t=this.data.req;switch(t.variantName){case"action":return[t.value];case"action[]":return t.value;case"identity":if(2===this.version){const e=t.value;let r="0101000000000000000200000000000000",n=[Ep]
;return e.permission&&(r=Rl.encode({object:e}),n=[e.permission]),[gl.from({account:"",name:"identity",authorization:n,data:r})]}{let{permission:r}=t.value;r||(r=Ep);const n=Rl.encode({object:{permission:r},type:e.IdentityV3});return[gl.from({account:"",name:"identity",authorization:[r],data:n})]}case"transaction":return t.value.actions;default:throw new Error("Invalid signing request data")}}getRawTransaction(){const e=this.data.req;switch(e.variantName){case"transaction":
return Al.from(Object.assign({},e.value));case"action":case"action[]":case"identity":return Al.from({actions:this.getRawActions(),context_free_actions:[],transaction_extensions:[],expiration:"1970-01-01T00:00:00.000",ref_block_num:0,ref_block_prefix:0,max_cpu_usage_ms:0,max_net_usage_words:0,delay_sec:0});default:throw new Error("Invalid signing request data")}}isIdentity(){return"identity"===this.data.req.variantName}shouldBroadcast(){return!this.isIdentity()&&this.data.flags.broadcast}
getIdentity(){if(!this.isIdentity())return null;const e=this.data.req.value;return e.permission&&!e.permission.actor.equals(Sp)?e.permission.actor:null}getIdentityPermission(){if(!this.isIdentity())return null;const e=this.data.req.value;return e.permission&&!e.permission.permission.equals(Mp)?e.permission.permission:null}getRawInfo(){const e={};for(const{key:t,value:r}of this.data.info)e[t]=r;return e}getRawInfoKey(e){const t=this.data.info.find((t=>t.key===e));if(t)return t.value}
setRawInfoKey(t,r){let n=this.data.info.find((e=>e.key===t));n?n.value=oh.from(r):(n=e.InfoPair.from({key:t,value:r}),this.data.info.push(n))}setInfoKey(e,t,r){let n;n="string"!=typeof t||r?Rl.encode({object:t,type:r}):oh.from(t,"utf8"),this.setRawInfoKey(e,n)}getInfoKey(e,t){const r=this.getRawInfoKey(e);if(r)return t?Rl.decode({data:r,type:t}):r.utf8String}clone(){let t;this.signature&&(t=e.RequestSignature.from(JSON.parse(JSON.stringify(this.signature))))
;const r=this.constructor.storageType(this.version).from(JSON.parse(JSON.stringify(this.data)));return new zp(this.version,r,this.scheme,this.zlib,this.abiProvider,t)}toString(){return this.encode()}toJSON(){return this.encode()}}class Ip{constructor(e,t,r,n,i){this.request=e,this.signer=t,this.transaction=r,this.resolvedTransaction=n,this.chainId=i}static fromPayload(e,t={scheme:kp}){return pp(this,void 0,void 0,(function*(){const r=zp.from(e.req,t),n=yield r.fetchAbis();return r.resolve(n,{
actor:e.sa,permission:e.sp},{ref_block_num:e.rbn,ref_block_prefix:e.rid,expiration:e.ex,chainId:e.cid||r.getChainId()})}))}get serializedTransaction(){return Rl.encode({object:this.transaction}).array}get signingDigest(){return this.transaction.signingDigest(this.chainId)}getCallback(e,t){const{callback:r,flags:n}=this.request.data;if(!r||0===r.length)return null;if(!e||0===e.length)throw new Error("Must have at least one signature to resolve callback");const i=e.map((e=>bl.from(e))),a={
sig:String(i[0]),tx:String(this.transaction.id),rbn:String(this.transaction.ref_block_num),rid:String(this.transaction.ref_block_prefix),ex:String(this.transaction.expiration),req:this.request.encode(),sa:String(this.signer.actor),sp:String(this.signer.permission),cid:String(this.chainId)};for(const[e,t]of i.slice(1).entries())a[`sig${e}`]=String(t);t&&(a.bn=String(wh.from(t)));const s=r.replace(/({{([a-z0-9]+)}})/g,((e,t,r)=>a[r]||""));return{background:n.background,payload:a,url:s}}
getIdentityProof(t){if(!this.request.isIdentity())throw new Error("Not a identity request");return e.IdentityProof.from({chainId:this.chainId,expiration:this.transaction.expiration,signer:this.signer,signature:t})}}function Np(e){const t=Qh.from(e.account),r=Qh.from(e.name);return t.rawValue.equals(0)&&r.equals("identity")}function Tp(e){return!(e.expiration.equals(0)&&e.ref_block_num.equals(0)&&e.ref_block_prefix.equals(0))}function Pp(e,t=60){const r=rl.from(e||new Date),n=wh.from(t)
;return rl.fromInteger(r.value.adding(n))}var Rp={exports:{}};!function(e,t){!function(r){e.exports=function(e){var n=e&&e.Promise||r.Promise,i=e&&e.XMLHttpRequest||r.XMLHttpRequest;return function(){var e=Object.create(r,{fetch:{value:void 0,writable:!0}});return function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r&&r,a={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0
}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function s(e){return e&&DataView.prototype.isPrototypeOf(e)}if(a.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function f(e){
if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a.iterable&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)
}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function l(e){if(e.bodyUsed)return n.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new n((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function b(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function y(e){var t=new FileReader,r=p(t)
;return t.readAsText(e),r}function m(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,
e?"string"==typeof e?this._bodyText=e:a.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a.arrayBuffer&&a.blob&&s(e)?(this._bodyArrayBuffer=v(e.buffer),
this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",
this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return n.resolve(this._bodyBlob)
;if(this._bodyArrayBuffer)return n.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return n.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){
return this._bodyArrayBuffer?l(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?n.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):n.resolve(this._bodyArrayBuffer)):this.blob().then(b)}),this.text=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return n.resolve(m(this._bodyArrayBuffer))
;if(this._bodyFormData)throw new Error("could not read FormData body as text");return n.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=f(e),t=d(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[f(e)]},h.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){
return this.map.hasOwnProperty(f(e))},h.prototype.set=function(e,t){this.map[f(e)]=d(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),u(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),u(e)},
a.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function x(e,t){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r=(t=t||{}).body;if(e instanceof x){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,
t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=w(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,
("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+(new Date).getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function A(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){
var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function k(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function S(e,t){
if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},g.call(x.prototype),g.call(S.prototype),
S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var M=[301,302,303,307,308];S.redirect=function(e,t){if(-1===M.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){
this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,s){return new n((function(n,o){var c=new x(e,s);if(c.signal&&c.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var f=new i;function u(){f.abort()}function l(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}f.onload=function(){var e={status:f.status,
statusText:f.statusText,headers:k(f.getAllResponseHeaders()||"")};e.url="responseURL"in f?f.responseURL:e.headers.get("X-Request-URL");var t="response"in f?f.response:f.responseText;setTimeout((function(){n(new S(t,e))}),0)},f.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},f.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},f.onabort=function(){setTimeout((function(){
o(new t.DOMException("Aborted","AbortError"))}),0)},f.open(c.method,l(c.url),!0),"include"===c.credentials?f.withCredentials=!0:"omit"===c.credentials&&(f.withCredentials=!1),"responseType"in f&&(a.blob?f.responseType="blob":a.arrayBuffer&&c.headers.get("Content-Type")&&-1!==c.headers.get("Content-Type").indexOf("application/octet-stream")&&(f.responseType="arraybuffer")),!s||"object"!=typeof s.headers||s.headers instanceof h?c.headers.forEach((function(e,t){f.setRequestHeader(t,e)
})):Object.getOwnPropertyNames(s.headers).forEach((function(e){f.setRequestHeader(e,d(s.headers[e]))})),c.signal&&(c.signal.addEventListener("abort",u),f.onreadystatechange=function(){4===f.readyState&&c.signal.removeEventListener("abort",u)}),f.send(void 0===c._bodyInit?null:c._bodyInit)}))}E.polyfill=!0,r.fetch||(r.fetch=E,r.Headers=h,r.Request=x,r.Response=S),t.Headers=h,t.Request=x,t.Response=S,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}(t),{fetch:e.fetch,Headers:e.Headers,
Request:e.Request,Response:e.Response,DOMException:e.DOMException}}()}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:hr)}(Rp,Rp.exports);var Op=lr(Rp.exports);class Bp extends Error{constructor(...e){super(...e)}}class Up extends Error{constructor(...e){super(...e)}}
/**
   * @file {@link http://asmjs.org Asm.js} implementation of the {@link https://en.wikipedia.org/wiki/Advanced_Encryption_Standard Advanced Encryption Standard}.
   * @author Artem S Vybornov <vybornov@gmail.com>
   * @license MIT
   */var Cp,qp=function(){var e,t,r=!1;function n(r,n){var i=e[(t[r]+t[n])%255];return 0!==r&&0!==n||(i=0),i}var i,a,s,o,c=!1;function f(){function f(r){var n,i,a;for(i=a=function(r){var n=e[255-t[r]];return 0===r&&(n=0),n}(r),n=0;n<4;n++)a^=i=255&(i<<1|i>>>7);return a^=99}r||function(){e=[],t=[];var n,i,a=1;for(n=0;n<255;n++)e[n]=a,i=128&a,a<<=1,a&=255,128===i&&(a^=27),a^=e[n],t[e[n]]=n;e[255]=e[0],t[0]=0,r=!0}(),i=[],a=[],s=[[],[],[],[]],o=[[],[],[],[]];for(var d=0;d<256;d++){var u=f(d)
;i[d]=u,a[u]=d,s[0][d]=n(2,u)<<24|u<<16|u<<8|n(3,u),o[0][u]=n(14,d)<<24|n(9,d)<<16|n(13,d)<<8|n(11,d);for(var h=1;h<4;h++)s[h][d]=s[h-1][d]>>>8|s[h-1][d]<<24,o[h][u]=o[h-1][u]>>>8|o[h-1][u]<<24}c=!0}var d=function(e,t){c||f();var r=new Uint32Array(t);r.set(i,512),r.set(a,768);for(var n=0;n<4;n++)r.set(s[n],4096+1024*n>>2),r.set(o[n],8192+1024*n>>2);var d=function(e,t,r){"use asm";var n=0,i=0,a=0,s=0,o=0,c=0,f=0,d=0,u=0,h=0,l=0,p=0,b=0,y=0,m=0,v=0,g=0,_=0,w=0,x=0,A=0
;var k=new e.Uint32Array(r),S=new e.Uint8Array(r);function M(e,t,r,o,c,f,d,u){e=e|0;t=t|0;r=r|0;o=o|0;c=c|0;f=f|0;d=d|0;u=u|0;var h=0,l=0,p=0,b=0,y=0,m=0,v=0,g=0;h=r|0x400,l=r|0x800,p=r|0xc00;c=c^k[(e|0)>>2],f=f^k[(e|4)>>2],d=d^k[(e|8)>>2],u=u^k[(e|12)>>2];for(g=16;(g|0)<=o<<4;g=g+16|0){b=k[(r|c>>22&1020)>>2]^k[(h|f>>14&1020)>>2]^k[(l|d>>6&1020)>>2]^k[(p|u<<2&1020)>>2]^k[(e|g|0)>>2],y=k[(r|f>>22&1020)>>2]^k[(h|d>>14&1020)>>2]^k[(l|u>>6&1020)>>2]^k[(p|c<<2&1020)>>2]^k[(e|g|4)>>2],
m=k[(r|d>>22&1020)>>2]^k[(h|u>>14&1020)>>2]^k[(l|c>>6&1020)>>2]^k[(p|f<<2&1020)>>2]^k[(e|g|8)>>2],v=k[(r|u>>22&1020)>>2]^k[(h|c>>14&1020)>>2]^k[(l|f>>6&1020)>>2]^k[(p|d<<2&1020)>>2]^k[(e|g|12)>>2];c=b,f=y,d=m,u=v}n=k[(t|c>>22&1020)>>2]<<24^k[(t|f>>14&1020)>>2]<<16^k[(t|d>>6&1020)>>2]<<8^k[(t|u<<2&1020)>>2]^k[(e|g|0)>>2],i=k[(t|f>>22&1020)>>2]<<24^k[(t|d>>14&1020)>>2]<<16^k[(t|u>>6&1020)>>2]<<8^k[(t|c<<2&1020)>>2]^k[(e|g|4)>>2],
a=k[(t|d>>22&1020)>>2]<<24^k[(t|u>>14&1020)>>2]<<16^k[(t|c>>6&1020)>>2]<<8^k[(t|f<<2&1020)>>2]^k[(e|g|8)>>2],s=k[(t|u>>22&1020)>>2]<<24^k[(t|c>>14&1020)>>2]<<16^k[(t|f>>6&1020)>>2]<<8^k[(t|d<<2&1020)>>2]^k[(e|g|12)>>2]}function E(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;M(0x0000,0x0800,0x1000,A,e,t,r,n)}function z(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0;M(0x0400,0x0c00,0x2000,A,e,n,r,t);a=i,i=s,s=a}function I(e,t,r,u){e=e|0;t=t|0;r=r|0;u=u|0;M(0x0000,0x0800,0x1000,A,o^e,c^t,f^r,d^u);o=n,c=i,f=a,d=s}
function N(e,t,r,u){e=e|0;t=t|0;r=r|0;u=u|0;var h=0;M(0x0400,0x0c00,0x2000,A,e,u,r,t);h=i,i=s,s=h;n=n^o,i=i^c,a=a^f,s=s^d;o=e,c=t,f=r,d=u}function T(e,t,r,u){e=e|0;t=t|0;r=r|0;u=u|0;M(0x0000,0x0800,0x1000,A,o,c,f,d);o=n=n^e,c=i=i^t,f=a=a^r,d=s=s^u}function P(e,t,r,u){e=e|0;t=t|0;r=r|0;u=u|0;M(0x0000,0x0800,0x1000,A,o,c,f,d);n=n^e,i=i^t,a=a^r,s=s^u;o=e,c=t,f=r,d=u}function R(e,t,r,u){e=e|0;t=t|0;r=r|0;u=u|0;M(0x0000,0x0800,0x1000,A,o,c,f,d);o=n,c=i,f=a,d=s;n=n^e,i=i^t,a=a^r,s=s^u}
function O(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;M(0x0000,0x0800,0x1000,A,u,h,l,p);p=~v&p|v&p+1;l=~m&l|m&l+((p|0)==0);h=~y&h|y&h+((l|0)==0);u=~b&u|b&u+((h|0)==0);n=n^e;i=i^t;a=a^r;s=s^o}function B(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,a=0,s=0,u=0,h=0,l=0,p=0,b=0,y=0,m=0;e=e^o,t=t^c,r=r^f,n=n^d;i=g|0,a=_|0,s=w|0,u=x|0;for(;(y|0)<128;y=y+1|0){if(i>>>31){h=h^e,l=l^t,p=p^r,b=b^n}i=i<<1|a>>>31,a=a<<1|s>>>31,s=s<<1|u>>>31,u=u<<1;m=n&1;n=n>>>1|r<<31,r=r>>>1|t<<31,t=t>>>1|e<<31,e=e>>>1;if(m)e=e^0xe1000000
}o=h,c=l,f=p,d=b}function U(e){e=e|0;A=e}function C(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;n=e,i=t,a=r,s=o}function q(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;o=e,c=t,f=r,d=n}function j(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;u=e,h=t,l=r,p=n}function D(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;b=e,y=t,m=r,v=n}function F(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;p=~v&p|v&n,l=~m&l|m&r,h=~y&h|y&t,u=~b&u|b&e}function L(e){e=e|0;if(e&15)return-1;S[e|0]=n>>>24,S[e|1]=n>>>16&255,S[e|2]=n>>>8&255,S[e|3]=n&255,S[e|4]=i>>>24,S[e|5]=i>>>16&255,
S[e|6]=i>>>8&255,S[e|7]=i&255,S[e|8]=a>>>24,S[e|9]=a>>>16&255,S[e|10]=a>>>8&255,S[e|11]=a&255,S[e|12]=s>>>24,S[e|13]=s>>>16&255,S[e|14]=s>>>8&255,S[e|15]=s&255;return 16}function K(e){e=e|0;if(e&15)return-1;S[e|0]=o>>>24,S[e|1]=o>>>16&255,S[e|2]=o>>>8&255,S[e|3]=o&255,S[e|4]=c>>>24,S[e|5]=c>>>16&255,S[e|6]=c>>>8&255,S[e|7]=c&255,S[e|8]=f>>>24,S[e|9]=f>>>16&255,S[e|10]=f>>>8&255,S[e|11]=f&255,S[e|12]=d>>>24,S[e|13]=d>>>16&255,S[e|14]=d>>>8&255,S[e|15]=d&255;return 16}function V(){E(0,0,0,0);g=n,
_=i,w=a,x=s}function W(e,t,r){e=e|0;t=t|0;r=r|0;var o=0;if(t&15)return-1;while((r|0)>=16){H[e&7](S[t|0]<<24|S[t|1]<<16|S[t|2]<<8|S[t|3],S[t|4]<<24|S[t|5]<<16|S[t|6]<<8|S[t|7],S[t|8]<<24|S[t|9]<<16|S[t|10]<<8|S[t|11],S[t|12]<<24|S[t|13]<<16|S[t|14]<<8|S[t|15]);S[t|0]=n>>>24,S[t|1]=n>>>16&255,S[t|2]=n>>>8&255,S[t|3]=n&255,S[t|4]=i>>>24,S[t|5]=i>>>16&255,S[t|6]=i>>>8&255,S[t|7]=i&255,S[t|8]=a>>>24,S[t|9]=a>>>16&255,S[t|10]=a>>>8&255,S[t|11]=a&255,S[t|12]=s>>>24,S[t|13]=s>>>16&255,S[t|14]=s>>>8&255,
S[t|15]=s&255;o=o+16|0,t=t+16|0,r=r-16|0}return o|0}function Z(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if(t&15)return-1;while((r|0)>=16){$[e&1](S[t|0]<<24|S[t|1]<<16|S[t|2]<<8|S[t|3],S[t|4]<<24|S[t|5]<<16|S[t|6]<<8|S[t|7],S[t|8]<<24|S[t|9]<<16|S[t|10]<<8|S[t|11],S[t|12]<<24|S[t|13]<<16|S[t|14]<<8|S[t|15]);n=n+16|0,t=t+16|0,r=r-16|0}return n|0}var H=[E,z,I,N,T,P,R,O];var $=[I,B];return{set_rounds:U,set_state:C,set_iv:q,set_nonce:j,set_mask:D,set_counter:F,get_state:L,get_iv:K,gcm_init:V,cipher:W,mac:Z}
}({Uint8Array:Uint8Array,Uint32Array:Uint32Array},e,t);return d.set_key=function(e,t,n,a,s,c,f,u,h){var l=r.subarray(0,60),p=r.subarray(256,316);l.set([t,n,a,s,c,f,u,h]);for(var b=e,y=1;b<4*e+28;b++){var m=l[b-1];(b%e==0||8===e&&b%e==4)&&(m=i[m>>>24]<<24^i[m>>>16&255]<<16^i[m>>>8&255]<<8^i[255&m]),b%e==0&&(m=m<<8^m>>>24^y<<24,y=y<<1^(128&y?27:0)),l[b]=l[b-e]^m}for(var v=0;v<b;v+=4)for(var g=0;g<4;g++){m=l[b-(4+v)+(4-g)%4]
;p[v+g]=v<4||v>=b-4?m:o[0][i[m>>>24]]^o[1][i[m>>>16&255]]^o[2][i[m>>>8&255]]^o[3][i[255&m]]}d.set_rounds(e+5)},d};return d.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},d.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},d.MAC={CBC:0,GCM:1},d.HEAP_DATA=16384,d}();function jp(e){return e instanceof Uint8Array}function Dp(e,t,r,n,i){const a=e.length-t,s=a<i?a:i;return e.set(r.subarray(n,n+s),t),s}function Fp(...e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0
;for(let t=0;t<e.length;t++)r.set(e[t],n),n+=e[t].length;return r}class Lp{constructor(e,t,r=!0,n,i,a){this.pos=0,this.len=0,this.mode=n,this.heap=i||function(e,t){const r=e?e.byteLength:t||65536;if(4095&r||r<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return e||new Uint8Array(new ArrayBuffer(r))}().subarray(qp.HEAP_DATA),this.asm=a||new qp(null,this.heap.buffer),this.pos=0,this.len=0;const s=e.length
;if(16!==s&&24!==s&&32!==s)throw new Bp("illegal key size");const o=new DataView(e.buffer,e.byteOffset,e.byteLength);if(this.asm.set_key(s>>2,o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12),s>16?o.getUint32(16):0,s>16?o.getUint32(20):0,s>24?o.getUint32(24):0,s>24?o.getUint32(28):0),void 0!==t){if(16!==t.length)throw new Bp("illegal iv size");let e=new DataView(t.buffer,t.byteOffset,t.byteLength);this.asm.set_iv(e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12))
}else this.asm.set_iv(0,0,0,0);this.padding=r}AES_Encrypt_process(e){if(!jp(e))throw new TypeError("data isn't of expected type");let t=this.asm,r=this.heap,n=qp.ENC[this.mode],i=qp.HEAP_DATA,a=this.pos,s=this.len,o=0,c=e.length||0,f=0,d=0,u=new Uint8Array(s+c&-16);for(;c>0;)d=Dp(r,a+s,e,o,c),s+=d,o+=d,c-=d,d=t.cipher(n,i+a,s),d&&u.set(r.subarray(a,a+d),f),f+=d,d<s?(a+=d,s-=d):(a=0,s=0);return this.pos=a,this.len=s,u}AES_Encrypt_finish(){
let e=this.asm,t=this.heap,r=qp.ENC[this.mode],n=qp.HEAP_DATA,i=this.pos,a=this.len,s=16-a%16,o=a;if(this.hasOwnProperty("padding")){if(this.padding){for(let e=0;e<s;++e)t[i+a+e]=s;a+=s,o=a}else if(a%16)throw new Bp("data length must be a multiple of the block size")}else a+=s;const c=new Uint8Array(o);return a&&e.cipher(r,n+i,a),o&&c.set(t.subarray(i,i+o)),this.pos=0,this.len=0,c}AES_Decrypt_process(e){if(!jp(e))throw new TypeError("data isn't of expected type")
;let t=this.asm,r=this.heap,n=qp.DEC[this.mode],i=qp.HEAP_DATA,a=this.pos,s=this.len,o=0,c=e.length||0,f=0,d=s+c&-16,u=0,h=0;this.padding&&(u=s+c-d||16,d-=u);const l=new Uint8Array(d);for(;c>0;)h=Dp(r,a+s,e,o,c),s+=h,o+=h,c-=h,h=t.cipher(n,i+a,s-(c?0:u)),h&&l.set(r.subarray(a,a+h),f),f+=h,h<s?(a+=h,s-=h):(a=0,s=0);return this.pos=a,this.len=s,l}AES_Decrypt_finish(){let e=this.asm,t=this.heap,r=qp.DEC[this.mode],n=qp.HEAP_DATA,i=this.pos,a=this.len,s=a;if(a>0){if(a%16){
if(this.hasOwnProperty("padding"))throw new Bp("data length must be a multiple of the block size");a+=16-a%16}if(e.cipher(r,n+i,a),this.hasOwnProperty("padding")&&this.padding){let e=t[i+s-1];if(e<1||e>16||e>s)throw new Up("bad padding");let r=0;for(let n=e;n>1;n--)r|=e^t[i+s-n];if(r)throw new Up("bad padding");s-=e}}const o=new Uint8Array(s);return s>0&&o.set(t.subarray(i,i+s)),this.pos=0,this.len=0,o}}class Kp{static encrypt(e,t,r=!0,n){return new Kp(t,n,r).encrypt(e)}
static decrypt(e,t,r=!0,n){return new Kp(t,n,r).decrypt(e)}constructor(e,t,r=!0,n){this.aes=n||new Lp(e,t,r,"CBC")}encrypt(e){return Fp(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Fp(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}var Vp=new Uint8Array(16);function Wp(){
if(!Cp&&!(Cp="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cp(Vp)}var Zp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Hp(e){
return"string"==typeof e&&Zp.test(e)}for(var $p=[],Jp=0;Jp<256;++Jp)$p.push((Jp+256).toString(16).substr(1));function Gp(e,t,r){var n=(e=e||{}).random||(e.rng||Wp)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return function(e){
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=($p[e[t+0]]+$p[e[t+1]]+$p[e[t+2]]+$p[e[t+3]]+"-"+$p[e[t+4]]+$p[e[t+5]]+"-"+$p[e[t+6]]+$p[e[t+7]]+"-"+$p[e[t+8]]+$p[e[t+9]]+"-"+$p[e[t+10]]+$p[e[t+11]]+$p[e[t+12]]+$p[e[t+13]]+$p[e[t+14]]+$p[e[t+15]]).toLowerCase();if(!Hp(r))throw TypeError("Stringified UUID is invalid");return r}(n)}var Yp=null
;"undefined"!=typeof WebSocket?Yp=WebSocket:"undefined"!=typeof MozWebSocket?Yp=MozWebSocket:void 0!==hr?Yp=hr.WebSocket||hr.MozWebSocket:"undefined"!=typeof window?Yp=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(Yp=self.WebSocket||self.MozWebSocket);var Xp=Yp,Qp={exports:{}},eb={},tb={},rb={},nb={},ib={};function ab(e){let t=e.length;for(;--t>=0;)e[t]=0}
const sb=256,ob=286,cb=30,fb=15,db=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ub=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),hb=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),lb=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pb=new Array(576);ab(pb);const bb=new Array(60);ab(bb);const yb=new Array(512);ab(yb);const mb=new Array(256);ab(mb);const vb=new Array(29);ab(vb);const gb=new Array(cb)
;function _b(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let wb,xb,Ab;function kb(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}ab(gb);const Sb=e=>e<256?yb[e]:yb[256+(e>>>7)],Mb=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Eb=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,Mb(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,
e.bi_valid+=r)},zb=(e,t,r)=>{Eb(e,r[2*t],r[2*t+1])},Ib=(e,t)=>{let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},Nb=(e,t,r)=>{const n=new Array(16);let i,a,s=0;for(i=1;i<=fb;i++)n[i]=s=s+r[i-1]<<1;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=Ib(n[t]++,t))}},Tb=e=>{let t;for(t=0;t<ob;t++)e.dyn_ltree[2*t]=0;for(t=0;t<cb;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},Pb=e=>{
e.bi_valid>8?Mb(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Rb=(e,t,r,n)=>{const i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]},Ob=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Rb(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Rb(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},Bb=(e,t,r)=>{let n,i,a,s,o=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],
i=e.pending_buf[e.l_buf+o],o++,0===n?zb(e,i,t):(a=mb[i],zb(e,a+sb+1,t),s=db[a],0!==s&&(i-=vb[a],Eb(e,i,s)),n--,a=Sb(n),zb(e,a,r),s=ub[a],0!==s&&(n-=gb[a],Eb(e,n,s)))}while(o<e.last_lit);zb(e,256,t)},Ub=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,o,c,f=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<a;s++)0!==r[2*s]?(e.heap[++e.heap_len]=f=s,e.depth[s]=0):r[2*s+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=f<2?++f:0,r[2*c]=1,e.depth[c]=0,
e.opt_len--,i&&(e.static_len-=n[2*c+1]);for(t.max_code=f,s=e.heap_len>>1;s>=1;s--)Ob(e,r,s);c=a;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ob(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,r[2*c]=r[2*s]+r[2*o],e.depth[c]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,r[2*s+1]=r[2*o+1]=c,e.heap[1]=c++,Ob(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{
const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length;let f,d,u,h,l,p,b=0;for(h=0;h<=fb;h++)e.bl_count[h]=0;for(r[2*e.heap[e.heap_max]+1]=0,f=e.heap_max+1;f<573;f++)d=e.heap[f],h=r[2*r[2*d+1]+1]+1,h>c&&(h=c,b++),r[2*d+1]=h,d>n||(e.bl_count[h]++,l=0,d>=o&&(l=s[d-o]),p=r[2*d],e.opt_len+=p*(h+l),a&&(e.static_len+=p*(i[2*d+1]+l)));if(0!==b){do{for(h=c-1;0===e.bl_count[h];)h--;e.bl_count[h]--,
e.bl_count[h+1]+=2,e.bl_count[c]--,b-=2}while(b>0);for(h=c;0!==h;h--)for(d=e.bl_count[h];0!==d;)u=e.heap[--f],u>n||(r[2*u+1]!==h&&(e.opt_len+=(h-r[2*u+1])*r[2*u],r[2*u+1]=h),d--)}})(e,t),Nb(r,f,e.bl_count)},Cb=(e,t,r)=>{let n,i,a=-1,s=t[1],o=0,c=7,f=4;for(0===s&&(c=138,f=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++o<c&&i===s||(o<f?e.bl_tree[2*i]+=o:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,a=i,0===s?(c=138,f=3):i===s?(c=6,f=3):(c=7,
f=4))},qb=(e,t,r)=>{let n,i,a=-1,s=t[1],o=0,c=7,f=4;for(0===s&&(c=138,f=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++o<c&&i===s)){if(o<f)do{zb(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==a&&(zb(e,i,e.bl_tree),o--),zb(e,16,e.bl_tree),Eb(e,o-3,2)):o<=10?(zb(e,17,e.bl_tree),Eb(e,o-3,3)):(zb(e,18,e.bl_tree),Eb(e,o-11,7));o=0,a=i,0===s?(c=138,f=3):i===s?(c=6,f=3):(c=7,f=4)}};let jb=!1;const Db=(e,t,r,n)=>{Eb(e,0+(n?1:0),3),((e,t,r,n)=>{Pb(e),n&&(Mb(e,r),Mb(e,~r)),
e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r})(e,t,r,!0)};ib._tr_init=e=>{jb||((()=>{let e,t,r,n,i;const a=new Array(16);for(r=0,n=0;n<28;n++)for(vb[n]=r,e=0;e<1<<db[n];e++)mb[r++]=n;for(mb[r-1]=n,i=0,n=0;n<16;n++)for(gb[n]=i,e=0;e<1<<ub[n];e++)yb[i++]=n;for(i>>=7;n<cb;n++)for(gb[n]=i<<7,e=0;e<1<<ub[n]-7;e++)yb[256+i++]=n;for(t=0;t<=fb;t++)a[t]=0;for(e=0;e<=143;)pb[2*e+1]=8,e++,a[8]++;for(;e<=255;)pb[2*e+1]=9,e++,a[9]++;for(;e<=279;)pb[2*e+1]=7,e++,a[7]++
;for(;e<=287;)pb[2*e+1]=8,e++,a[8]++;for(Nb(pb,287,a),e=0;e<cb;e++)bb[2*e+1]=5,bb[2*e]=Ib(e,5);wb=new _b(pb,db,257,ob,fb),xb=new _b(bb,ub,0,cb,fb),Ab=new _b(new Array(0),hb,0,19,7)})(),jb=!0),e.l_desc=new kb(e.dyn_ltree,wb),e.d_desc=new kb(e.dyn_dtree,xb),e.bl_desc=new kb(e.bl_tree,Ab),e.bi_buf=0,e.bi_valid=0,Tb(e)},ib._tr_stored_block=Db,ib._tr_flush_block=(e,t,r,n)=>{let i,a,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,r=4093624447;for(t=0;t<=31;t++,
r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<sb;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Ub(e,e.l_desc),Ub(e,e.d_desc),s=(e=>{let t;for(Cb(e,e.dyn_ltree,e.l_desc.max_code),Cb(e,e.dyn_dtree,e.d_desc.max_code),Ub(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*lb[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,
r+4<=i&&-1!==t?Db(e,t,r,n):4===e.strategy||a===i?(Eb(e,2+(n?1:0),3),Bb(e,pb,bb)):(Eb(e,4+(n?1:0),3),((e,t,r,n)=>{let i;for(Eb(e,t-257,5),Eb(e,r-1,5),Eb(e,n-4,4),i=0;i<n;i++)Eb(e,e.bl_tree[2*lb[i]+1],3);qb(e,e.dyn_ltree,t-1),qb(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Bb(e,e.dyn_ltree,e.dyn_dtree)),Tb(e),n&&Pb(e)},ib._tr_tally=(e,t,r)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,
e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(mb[r]+sb+1)]++,e.dyn_dtree[2*Sb(t)]++),e.last_lit===e.lit_bufsize-1),ib._tr_align=e=>{Eb(e,2,3),zb(e,256,pb),(e=>{16===e.bi_valid?(Mb(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)};var Fb=(e,t,r,n)=>{let i=65535&e|0,a=e>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+t[n++]|0,a=a+i|0}while(--s);i%=65521,a%=65521}return i|a<<16|0}
;const Lb=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());var Kb=(e,t,r,n)=>{const i=Lb,a=n+r;e^=-1;for(let r=n;r<a;r++)e=e>>>8^i[255&(e^t[r])];return-1^e},Vb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Wb={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,
Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}
;const{_tr_init:Zb,_tr_stored_block:Hb,_tr_flush_block:$b,_tr_tally:Jb,_tr_align:Gb}=ib,Yb=Fb,Xb=Kb,Qb=Vb,{Z_NO_FLUSH:ey,Z_PARTIAL_FLUSH:ty,Z_FULL_FLUSH:ry,Z_FINISH:ny,Z_BLOCK:iy,Z_OK:ay,Z_STREAM_END:sy,Z_STREAM_ERROR:oy,Z_DATA_ERROR:cy,Z_BUF_ERROR:fy,Z_DEFAULT_COMPRESSION:dy,Z_FILTERED:uy,Z_HUFFMAN_ONLY:hy,Z_RLE:ly,Z_FIXED:py,Z_DEFAULT_STRATEGY:by,Z_UNKNOWN:yy,Z_DEFLATED:my}=Wb,vy=258,gy=262,_y=103,wy=113,xy=666,Ay=(e,t)=>(e.msg=Qb[t],t),ky=e=>(e<<1)-(e>4?9:0),Sy=e=>{let t=e.length
;for(;--t>=0;)e[t]=0};let My=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask;const Ey=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},zy=(e,t)=>{$b(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ey(e.strm)},Iy=(e,t)=>{e.pending_buf[e.pending++]=t
},Ny=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ty=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),1===e.state.wrap?e.adler=Yb(e.adler,t,i,r):2===e.state.wrap&&(e.adler=Xb(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},Py=(e,t)=>{let r,n,i=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match
;const c=e.strstart>e.w_size-gy?e.strstart-(e.w_size-gy):0,f=e.window,d=e.w_mask,u=e.prev,h=e.strstart+vy;let l=f[a+s-1],p=f[a+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(r=t,f[r+s]===p&&f[r+s-1]===l&&f[r]===f[a]&&f[++r]===f[a+1]){a+=2,r++;do{}while(f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&a<h);if(n=vy-(h-a),a=h-vy,n>s){if(e.match_start=t,s=n,n>=o)break;l=f[a+s-1],
p=f[a+s]}}}while((t=u[t&d])>c&&0!=--i);return s<=e.lookahead?s:e.lookahead},Ry=e=>{const t=e.w_size;let r,n,i,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-gy)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do{i=e.head[--r],e.head[r]=i>=t?i-t:0}while(--n);n=t,r=n;do{i=e.prev[--r],e.prev[r]=i>=t?i-t:0}while(--n);a+=t}if(0===e.strm.avail_in)break;if(n=Ty(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,
e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=My(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=My(e,e.ins_h,e.window[s+3-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<gy&&0!==e.strm.avail_in)},Oy=(e,t)=>{let r,n;for(;;){if(e.lookahead<gy){if(Ry(e),e.lookahead<gy&&t===ey)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=My(e,e.ins_h,e.window[e.strstart+3-1]),
r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-gy&&(e.match_length=Py(e,r)),e.match_length>=3)if(n=Jb(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=My(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++
}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=My(e,e.ins_h,e.window[e.strstart+1]);else n=Jb(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(zy(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ny?(zy(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(zy(e,!1),0===e.strm.avail_out)?1:2},By=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<gy){if(Ry(e),e.lookahead<gy&&t===ey)return 1;if(0===e.lookahead)break}if(r=0,
e.lookahead>=3&&(e.ins_h=My(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-gy&&(e.match_length=Py(e,r),e.match_length<=5&&(e.strategy===uy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,
n=Jb(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=My(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(zy(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=Jb(e,0,e.window[e.strstart-1]),n&&zy(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1
}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Jb(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ny?(zy(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(zy(e,!1),0===e.strm.avail_out)?1:2};function Uy(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const Cy=[new Uy(0,0,0,0,((e,t)=>{let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ry(e),
0===e.lookahead&&t===ey)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,zy(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-gy&&(zy(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ny?(zy(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(zy(e,!1),e.strm.avail_out),1)
})),new Uy(4,4,8,4,Oy),new Uy(4,5,16,8,Oy),new Uy(4,6,32,32,Oy),new Uy(4,4,16,16,By),new Uy(8,16,32,32,By),new Uy(8,16,128,128,By),new Uy(8,32,128,256,By),new Uy(32,128,258,1024,By),new Uy(32,258,258,4096,By)];function qy(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=my,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,
this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Sy(this.dyn_ltree),
Sy(this.dyn_dtree),Sy(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Sy(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Sy(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const jy=e=>{if(!e||!e.state)return Ay(e,oy);e.total_in=e.total_out=0,e.data_type=yy;const t=e.state
;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:wy,e.adler=2===t.wrap?0:1,t.last_flush=ey,Zb(t),ay},Dy=e=>{const t=jy(e);return t===ay&&(e=>{e.window_size=2*e.w_size,Sy(e.head),e.max_lazy_match=Cy[e.level].max_lazy,e.good_match=Cy[e.level].good_length,e.nice_match=Cy[e.level].nice_length,e.max_chain_length=Cy[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t
},Fy=(e,t,r,n,i,a)=>{if(!e)return oy;let s=1;if(t===dy&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||r!==my||n<8||n>15||t<0||t>9||a<0||a>py)return Ay(e,oy);8===n&&(n=9);const o=new qy;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),
o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=a,o.method=r,Dy(e)};nb.deflateInit=(e,t)=>Fy(e,t,my,15,8,by),nb.deflateInit2=Fy,nb.deflateReset=Dy,nb.deflateResetKeep=jy,nb.deflateSetHeader=(e,t)=>e&&e.state?2!==e.state.wrap?oy:(e.state.gzhead=t,ay):oy,nb.deflate=(e,t)=>{let r,n;if(!e||!e.state||t>iy||t<0)return e?Ay(e,oy):oy;const i=e.state
;if(!e.output||!e.input&&0!==e.avail_in||i.status===xy&&t!==ny)return Ay(e,0===e.avail_out?fy:oy);i.strm=e;const a=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,Iy(i,31),Iy(i,139),Iy(i,8),i.gzhead?(Iy(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Iy(i,255&i.gzhead.time),Iy(i,i.gzhead.time>>8&255),Iy(i,i.gzhead.time>>16&255),Iy(i,i.gzhead.time>>24&255),Iy(i,9===i.level?2:i.strategy>=hy||i.level<2?4:0),
Iy(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Iy(i,255&i.gzhead.extra.length),Iy(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Xb(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Iy(i,0),Iy(i,0),Iy(i,0),Iy(i,0),Iy(i,0),Iy(i,9===i.level?2:i.strategy>=hy||i.level<2?4:0),Iy(i,3),i.status=wy);else{let t=my+(i.w_bits-8<<4)<<8,r=-1;r=i.strategy>=hy||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=r<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=wy,Ny(i,t),
0!==i.strstart&&(Ny(i,e.adler>>>16),Ny(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(e.adler=Xb(e.adler,i.pending_buf,i.pending-r,r)),Ey(e),r=i.pending,i.pending!==i.pending_buf_size));)Iy(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(e.adler=Xb(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,
i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=Xb(e.adler,i.pending_buf,i.pending-r,r)),Ey(e),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Iy(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(e.adler=Xb(e.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91
;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=Xb(e.adler,i.pending_buf,i.pending-r,r)),Ey(e),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Iy(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(e.adler=Xb(e.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=_y)}else i.status=_y
;if(i.status===_y&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Ey(e),i.pending+2<=i.pending_buf_size&&(Iy(i,255&e.adler),Iy(i,e.adler>>8&255),e.adler=0,i.status=wy)):i.status=wy),0!==i.pending){if(Ey(e),0===e.avail_out)return i.last_flush=-1,ay}else if(0===e.avail_in&&ky(t)<=ky(a)&&t!==ny)return Ay(e,fy);if(i.status===xy&&0!==e.avail_in)return Ay(e,fy);if(0!==e.avail_in||0!==i.lookahead||t!==ey&&i.status!==xy){let r=i.strategy===hy?((e,t)=>{let r;for(;;){if(0===e.lookahead&&(Ry(e),
0===e.lookahead)){if(t===ey)return 1;break}if(e.match_length=0,r=Jb(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(zy(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ny?(zy(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(zy(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===ly?((e,t)=>{let r,n,i,a;const s=e.window;for(;;){if(e.lookahead<=vy){if(Ry(e),e.lookahead<=vy&&t===ey)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,
n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=e.strstart+vy;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=vy-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=Jb(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Jb(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(zy(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,
t===ny?(zy(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(zy(e,!1),0===e.strm.avail_out)?1:2})(i,t):Cy[i.level].func(i,t);if(3!==r&&4!==r||(i.status=xy),1===r||3===r)return 0===e.avail_out&&(i.last_flush=-1),ay;if(2===r&&(t===ty?Gb(i):t!==iy&&(Hb(i,0,0,!1),t===ry&&(Sy(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Ey(e),0===e.avail_out))return i.last_flush=-1,ay}return t!==ny?ay:i.wrap<=0?sy:(2===i.wrap?(Iy(i,255&e.adler),Iy(i,e.adler>>8&255),Iy(i,e.adler>>16&255),
Iy(i,e.adler>>24&255),Iy(i,255&e.total_in),Iy(i,e.total_in>>8&255),Iy(i,e.total_in>>16&255),Iy(i,e.total_in>>24&255)):(Ny(i,e.adler>>>16),Ny(i,65535&e.adler)),Ey(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?ay:sy)},nb.deflateEnd=e=>{if(!e||!e.state)return oy;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==_y&&t!==wy&&t!==xy?Ay(e,oy):(e.state=null,t===wy?Ay(e,cy):ay)},nb.deflateSetDictionary=(e,t)=>{let r=t.length;if(!e||!e.state)return oy;const n=e.state,i=n.wrap
;if(2===i||1===i&&42!==n.status||n.lookahead)return oy;if(1===i&&(e.adler=Yb(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Sy(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}const a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Ry(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=My(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t)
;n.strstart=e,n.lookahead=2,Ry(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,n.wrap=i,ay},nb.deflateInfo="pako deflate (from Nodeca project)";var Ly={};const Ky=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);Ly.assign=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){
if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const t in r)Ky(r,t)&&(e[t]=r[t])}}return e},Ly.flattenChunks=e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;const r=new Uint8Array(t);for(let t=0,n=0,i=e.length;t<i;t++){let i=e[t];r.set(i,n),n+=i.length}return r};var Vy={};let Wy=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Wy=!1}const Zy=new Uint8Array(256);for(let e=0;e<256;e++)Zy[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1
;Zy[254]=Zy[254]=1,Vy.string2buf=e=>{let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)r=e.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=e.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)r=e.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=e.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,
t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t};Vy.buf2string=(e,t)=>{let r,n;const i=t||e.length,a=new Array(2*i);for(n=0,r=0;r<i;){let t=e[r++];if(t<128){a[n++]=t;continue}let s=Zy[t];if(s>4)a[n++]=65533,r+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&r<i;)t=t<<6|63&e[r++],s--;s>1?a[n++]=65533:t<65536?a[n++]=t:(t-=65536,a[n++]=55296|t>>10&1023,a[n++]=56320|1023&t)}}return((e,t)=>{
if(t<65534&&e.subarray&&Wy)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r})(a,n)},Vy.utf8border=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+Zy[e[r]]>t?r:t};var Hy=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,
this.data_type=2,this.adler=0};const $y=nb,Jy=Ly,Gy=Vy,Yy=Vb,Xy=Hy,Qy=Object.prototype.toString,{Z_NO_FLUSH:em,Z_SYNC_FLUSH:tm,Z_FULL_FLUSH:rm,Z_FINISH:nm,Z_OK:im,Z_STREAM_END:am,Z_DEFAULT_COMPRESSION:sm,Z_DEFAULT_STRATEGY:om,Z_DEFLATED:cm}=Wb;function fm(e){this.options=Jy.assign({level:sm,method:cm,chunkSize:16384,windowBits:15,memLevel:8,strategy:om},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),
this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xy,this.strm.avail_out=0;let r=$y.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==im)throw new Error(Yy[r]);if(t.header&&$y.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Gy.string2buf(t.dictionary):"[object ArrayBuffer]"===Qy.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,r=$y.deflateSetDictionary(this.strm,e),
r!==im)throw new Error(Yy[r]);this._dict_set=!0}}function dm(e,t){const r=new fm(t);if(r.push(e,!0),r.err)throw r.msg||Yy[r.err];return r.result}fm.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?nm:em,"string"==typeof e?r.input=Gy.string2buf(e):"[object ArrayBuffer]"===Qy.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,
r.avail_out=n),(a===tm||a===rm)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=$y.deflate(r,a),i===am)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=$y.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===im;if(0!==r.avail_out){if(a>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},fm.prototype.onData=function(e){this.chunks.push(e)},
fm.prototype.onEnd=function(e){e===im&&(this.result=Jy.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},rb.Deflate=fm,rb.deflate=dm,rb.deflateRaw=function(e,t){return(t=t||{}).raw=!0,dm(e,t)},rb.gzip=function(e,t){return(t=t||{}).gzip=!0,dm(e,t)},rb.constants=Wb;var um={},hm={}
;const lm=15,pm=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bm=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ym=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),mm=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64])
;var vm=(e,t,r,n,i,a,s,o)=>{const c=o.bits;let f,d,u,h,l,p,b=0,y=0,m=0,v=0,g=0,_=0,w=0,x=0,A=0,k=0,S=null,M=0;const E=new Uint16Array(16),z=new Uint16Array(16);let I,N,T,P=null,R=0;for(b=0;b<=lm;b++)E[b]=0;for(y=0;y<n;y++)E[t[r+y]]++;for(g=c,v=lm;v>=1&&0===E[v];v--);if(g>v&&(g=v),0===v)return i[a++]=20971520,i[a++]=20971520,o.bits=1,0;for(m=1;m<v&&0===E[m];m++);for(g<m&&(g=m),x=1,b=1;b<=lm;b++)if(x<<=1,x-=E[b],x<0)return-1;if(x>0&&(0===e||1!==v))return-1;for(z[1]=0,b=1;b<lm;b++)z[b+1]=z[b]+E[b]
;for(y=0;y<n;y++)0!==t[r+y]&&(s[z[t[r+y]]++]=y);if(0===e?(S=P=s,p=19):1===e?(S=pm,M-=257,P=bm,R-=257,p=256):(S=ym,P=mm,p=-1),k=0,y=0,b=m,l=a,_=g,w=0,u=-1,A=1<<g,h=A-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){I=b-w,s[y]<p?(N=0,T=s[y]):s[y]>p?(N=P[R+s[y]],T=S[M+s[y]]):(N=96,T=0),f=1<<b-w,d=1<<_,m=d;do{d-=f,i[l+(k>>w)+d]=I<<24|N<<16|T|0}while(0!==d);for(f=1<<b-1;k&f;)f>>=1;if(0!==f?(k&=f-1,k+=f):k=0,y++,0==--E[b]){if(b===v)break;b=t[r+s[y]]}if(b>g&&(k&h)!==u){for(0===w&&(w=g),l+=m,_=b-w,
x=1<<_;_+w<v&&(x-=E[_+w],!(x<=0));)_++,x<<=1;if(A+=1<<_,1===e&&A>852||2===e&&A>592)return 1;u=k&h,i[u]=g<<24|_<<16|l-a|0}}return 0!==k&&(i[l+k]=b-w<<24|64<<16|0),o.bits=g,0};const gm=Fb,_m=Kb,wm=function(e,t){let r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_,w,x,A,k,S;const M=e.state;r=e.next_in,k=e.input,n=r+(e.avail_in-5),i=e.next_out,S=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),o=M.dmax,c=M.wsize,f=M.whave,d=M.wnext,u=M.window,h=M.hold,l=M.bits,p=M.lencode,b=M.distcode,y=(1<<M.lenbits)-1,
m=(1<<M.distbits)-1;e:do{l<15&&(h+=k[r++]<<l,l+=8,h+=k[r++]<<l,l+=8),v=p[h&y];t:for(;;){if(g=v>>>24,h>>>=g,l-=g,g=v>>>16&255,0===g)S[i++]=65535&v;else{if(!(16&g)){if(0==(64&g)){v=p[(65535&v)+(h&(1<<g)-1)];continue t}if(32&g){M.mode=12;break e}e.msg="invalid literal/length code",M.mode=30;break e}_=65535&v,g&=15,g&&(l<g&&(h+=k[r++]<<l,l+=8),_+=h&(1<<g)-1,h>>>=g,l-=g),l<15&&(h+=k[r++]<<l,l+=8,h+=k[r++]<<l,l+=8),v=b[h&m];r:for(;;){if(g=v>>>24,h>>>=g,l-=g,g=v>>>16&255,!(16&g)){if(0==(64&g)){
v=b[(65535&v)+(h&(1<<g)-1)];continue r}e.msg="invalid distance code",M.mode=30;break e}if(w=65535&v,g&=15,l<g&&(h+=k[r++]<<l,l+=8,l<g&&(h+=k[r++]<<l,l+=8)),w+=h&(1<<g)-1,w>o){e.msg="invalid distance too far back",M.mode=30;break e}if(h>>>=g,l-=g,g=i-a,w>g){if(g=w-g,g>f&&M.sane){e.msg="invalid distance too far back",M.mode=30;break e}if(x=0,A=u,0===d){if(x+=c-g,g<_){_-=g;do{S[i++]=u[x++]}while(--g);x=i-w,A=S}}else if(d<g){if(x+=c+d-g,g-=d,g<_){_-=g;do{S[i++]=u[x++]}while(--g);if(x=0,d<_){g=d,_-=g
;do{S[i++]=u[x++]}while(--g);x=i-w,A=S}}}else if(x+=d-g,g<_){_-=g;do{S[i++]=u[x++]}while(--g);x=i-w,A=S}for(;_>2;)S[i++]=A[x++],S[i++]=A[x++],S[i++]=A[x++],_-=3;_&&(S[i++]=A[x++],_>1&&(S[i++]=A[x++]))}else{x=i-w;do{S[i++]=S[x++],S[i++]=S[x++],S[i++]=S[x++],_-=3}while(_>2);_&&(S[i++]=S[x++],_>1&&(S[i++]=S[x++]))}break}}break}}while(r<n&&i<s);_=l>>3,r-=_,l-=_<<3,h&=(1<<l)-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=i<s?s-i+257:257-(i-s),M.hold=h,M.bits=l
},xm=vm,{Z_FINISH:Am,Z_BLOCK:km,Z_TREES:Sm,Z_OK:Mm,Z_STREAM_END:Em,Z_NEED_DICT:zm,Z_STREAM_ERROR:Im,Z_DATA_ERROR:Nm,Z_MEM_ERROR:Tm,Z_BUF_ERROR:Pm,Z_DEFLATED:Rm}=Wb,Om=12,Bm=30,Um=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Cm(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,
this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qm=e=>{if(!e||!e.state)return Im;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,
t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Mm},jm=e=>{if(!e||!e.state)return Im;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,qm(e)},Dm=(e,t)=>{let r;if(!e||!e.state)return Im;const n=e.state;return t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Im:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,jm(e))},Fm=(e,t)=>{if(!e)return Im;const r=new Cm;e.state=r,r.window=null;const n=Dm(e,t)
;return n!==Mm&&(e.state=null),n};let Lm,Km,Vm=!0;const Wm=e=>{if(Vm){Lm=new Int32Array(512),Km=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(xm(1,e.lens,0,288,Lm,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;xm(2,e.lens,0,32,Km,0,e.work,{bits:5}),Vm=!1}e.lencode=Lm,e.lenbits=9,e.distcode=Km,e.distbits=5},Zm=(e,t,r,n)=>{let i;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,
a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-=i)?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0};hm.inflateReset=jm,hm.inflateReset2=Dm,hm.inflateResetKeep=qm,hm.inflateInit=e=>Fm(e,15),hm.inflateInit2=Fm,hm.inflate=(e,t)=>{
let r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_,w,x,A,k=0;const S=new Uint8Array(4);let M,E;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Im;r=e.state,r.mode===Om&&(r.mode=13),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,f=r.hold,d=r.bits,u=o,h=c,A=Mm;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;d<16;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(2&r.wrap&&35615===f){
r.check=0,S[0]=255&f,S[1]=f>>>8&255,r.check=_m(r.check,S,2,0),f=0,d=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=Bm;break}if((15&f)!==Rm){e.msg="unknown compression method",r.mode=Bm;break}if(f>>>=4,d-=4,x=8+(15&f),0===r.wbits)r.wbits=x;else if(x>r.wbits){e.msg="invalid window size",r.mode=Bm;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&f?10:Om,f=0,d=0;break;case 2:for(;d<16;){if(0===o)break e;o--,
f+=n[a++]<<d,d+=8}if(r.flags=f,(255&r.flags)!==Rm){e.msg="unknown compression method",r.mode=Bm;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=Bm;break}r.head&&(r.head.text=f>>8&1),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,r.check=_m(r.check,S,2,0)),f=0,d=0,r.mode=3;case 3:for(;d<32;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}r.head&&(r.head.time=f),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,S[2]=f>>>16&255,S[3]=f>>>24&255,r.check=_m(r.check,S,4,0)),f=0,d=0,r.mode=4;case 4:for(;d<16;){
if(0===o)break e;o--,f+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,r.check=_m(r.check,S,2,0)),f=0,d=0,r.mode=5;case 5:if(1024&r.flags){for(;d<16;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,r.check=_m(r.check,S,2,0)),f=0,d=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(l=r.length,l>o&&(l=o),l&&(r.head&&(x=r.head.extra_len-r.length,
r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+l),x)),512&r.flags&&(r.check=_m(r.check,n,l,a)),o-=l,a+=l,r.length-=l),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;l=0;do{x=n[a+l++],r.head&&x&&r.length<65536&&(r.head.name+=String.fromCharCode(x))}while(x&&l<o);if(512&r.flags&&(r.check=_m(r.check,n,l,a)),o-=l,a+=l,x)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e
;l=0;do{x=n[a+l++],r.head&&x&&r.length<65536&&(r.head.comment+=String.fromCharCode(x))}while(x&&l<o);if(512&r.flags&&(r.check=_m(r.check,n,l,a)),o-=l,a+=l,x)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;d<16;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(f!==(65535&r.check)){e.msg="header crc mismatch",r.mode=Bm;break}f=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Om;break;case 10:for(;d<32;){if(0===o)break e;o--,f+=n[a++]<<d,
d+=8}e.adler=r.check=Um(f),f=0,d=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=f,r.bits=d,zm;e.adler=r.check=1,r.mode=Om;case Om:if(t===km||t===Sm)break e;case 13:if(r.last){f>>>=7&d,d-=7&d,r.mode=27;break}for(;d<3;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}switch(r.last=1&f,f>>>=1,d-=1,3&f){case 0:r.mode=14;break;case 1:if(Wm(r),r.mode=20,t===Sm){f>>>=2,d-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=Bm}
f>>>=2,d-=2;break;case 14:for(f>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if((65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Bm;break}if(r.length=65535&f,f=0,d=0,r.mode=15,t===Sm)break e;case 15:r.mode=16;case 16:if(l=r.length,l){if(l>o&&(l=o),l>c&&(l=c),0===l)break e;i.set(n.subarray(a,a+l),s),o-=l,a+=l,c-=l,s+=l,r.length-=l;break}r.mode=Om;break;case 17:for(;d<14;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(r.nlen=257+(31&f),f>>>=5,d-=5,r.ndist=1+(31&f),
f>>>=5,d-=5,r.ncode=4+(15&f),f>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Bm;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;d<3;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}r.lens[z[r.have++]]=7&f,f>>>=3,d-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},A=xm(0,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,A){e.msg="invalid code lengths set",r.mode=Bm;break}r.have=0,r.mode=19;case 19:
for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[f&(1<<r.lenbits)-1],y=k>>>24,m=k>>>16&255,v=65535&k,!(y<=d);){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(v<16)f>>>=y,d-=y,r.lens[r.have++]=v;else{if(16===v){for(E=y+2;d<E;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(f>>>=y,d-=y,0===r.have){e.msg="invalid bit length repeat",r.mode=Bm;break}x=r.lens[r.have-1],l=3+(3&f),f>>>=2,d-=2}else if(17===v){for(E=y+3;d<E;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}f>>>=y,d-=y,x=0,l=3+(7&f),f>>>=3,d-=3}else{
for(E=y+7;d<E;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}f>>>=y,d-=y,x=0,l=11+(127&f),f>>>=7,d-=7}if(r.have+l>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Bm;break}for(;l--;)r.lens[r.have++]=x}}if(r.mode===Bm)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=Bm;break}if(r.lenbits=9,M={bits:r.lenbits},A=xm(1,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,A){e.msg="invalid literal/lengths set",r.mode=Bm;break}if(r.distbits=6,r.distcode=r.distdyn,M={
bits:r.distbits},A=xm(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,A){e.msg="invalid distances set",r.mode=Bm;break}if(r.mode=20,t===Sm)break e;case 20:r.mode=21;case 21:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=f,r.bits=d,wm(e,h),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,f=r.hold,d=r.bits,r.mode===Om&&(r.back=-1);break}for(r.back=0;k=r.lencode[f&(1<<r.lenbits)-1],y=k>>>24,m=k>>>16&255,v=65535&k,!(y<=d);){
if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(m&&0==(240&m)){for(g=y,_=m,w=v;k=r.lencode[w+((f&(1<<g+_)-1)>>g)],y=k>>>24,m=k>>>16&255,v=65535&k,!(g+y<=d);){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}f>>>=g,d-=g,r.back+=g}if(f>>>=y,d-=y,r.back+=y,r.length=v,0===m){r.mode=26;break}if(32&m){r.back=-1,r.mode=Om;break}if(64&m){e.msg="invalid literal/length code",r.mode=Bm;break}r.extra=15&m,r.mode=22;case 22:if(r.extra){for(E=r.extra;d<E;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}r.length+=f&(1<<r.extra)-1,
f>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;k=r.distcode[f&(1<<r.distbits)-1],y=k>>>24,m=k>>>16&255,v=65535&k,!(y<=d);){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(0==(240&m)){for(g=y,_=m,w=v;k=r.distcode[w+((f&(1<<g+_)-1)>>g)],y=k>>>24,m=k>>>16&255,v=65535&k,!(g+y<=d);){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}f>>>=g,d-=g,r.back+=g}if(f>>>=y,d-=y,r.back+=y,64&m){e.msg="invalid distance code",r.mode=Bm;break}r.offset=v,r.extra=15&m,r.mode=24;case 24:if(r.extra){
for(E=r.extra;d<E;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Bm;break}r.mode=25;case 25:if(0===c)break e;if(l=h-c,r.offset>l){if(l=r.offset-l,l>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Bm;break}l>r.wnext?(l-=r.wnext,p=r.wsize-l):p=r.wnext-l,l>r.length&&(l=r.length),b=r.window}else b=i,p=s-r.offset,l=r.length;l>c&&(l=c),c-=l,r.length-=l;do{
i[s++]=b[p++]}while(--l);0===r.length&&(r.mode=21);break;case 26:if(0===c)break e;i[s++]=r.length,c--,r.mode=21;break;case 27:if(r.wrap){for(;d<32;){if(0===o)break e;o--,f|=n[a++]<<d,d+=8}if(h-=c,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?_m(r.check,i,h,s-h):gm(r.check,i,h,s-h)),h=c,(r.flags?f:Um(f))!==r.check){e.msg="incorrect data check",r.mode=Bm;break}f=0,d=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;d<32;){if(0===o)break e;o--,f+=n[a++]<<d,d+=8}if(f!==(4294967295&r.total)){
e.msg="incorrect length check",r.mode=Bm;break}f=0,d=0}r.mode=29;case 29:A=Em;break e;case Bm:A=Nm;break e;case 31:return Tm;default:return Im}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=f,r.bits=d,(r.wsize||h!==e.avail_out&&r.mode<Bm&&(r.mode<27||t!==Am))&&Zm(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,r.total+=h,r.wrap&&h&&(e.adler=r.check=r.flags?_m(r.check,i,h,e.next_out-h):gm(r.check,i,h,e.next_out-h)),
e.data_type=r.bits+(r.last?64:0)+(r.mode===Om?128:0)+(20===r.mode||15===r.mode?256:0),(0===u&&0===h||t===Am)&&A===Mm&&(A=Pm),A},hm.inflateEnd=e=>{if(!e||!e.state)return Im;let t=e.state;return t.window&&(t.window=null),e.state=null,Mm},hm.inflateGetHeader=(e,t)=>{if(!e||!e.state)return Im;const r=e.state;return 0==(2&r.wrap)?Im:(r.head=t,t.done=!1,Mm)},hm.inflateSetDictionary=(e,t)=>{const r=t.length;let n,i,a;return e&&e.state?(n=e.state,0!==n.wrap&&11!==n.mode?Im:11===n.mode&&(i=1,
i=gm(i,t,r,0),i!==n.check)?Nm:(a=Zm(e,t,r,r),a?(n.mode=31,Tm):(n.havedict=1,Mm))):Im},hm.inflateInfo="pako inflate (from Nodeca project)";const Hm=hm,$m=Ly,Jm=Vy,Gm=Vb,Ym=Hy,Xm=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Qm=Object.prototype.toString,{Z_NO_FLUSH:ev,Z_FINISH:tv,Z_OK:rv,Z_STREAM_END:nv,Z_NEED_DICT:iv,Z_STREAM_ERROR:av,Z_DATA_ERROR:sv,Z_MEM_ERROR:ov}=Wb;function cv(e){
this.options=$m.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ym,this.strm.avail_out=0;let r=Hm.inflateInit2(this.strm,t.windowBits)
;if(r!==rv)throw new Error(Gm[r]);if(this.header=new Xm,Hm.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Jm.string2buf(t.dictionary):"[object ArrayBuffer]"===Qm.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Hm.inflateSetDictionary(this.strm,t.dictionary),r!==rv)))throw new Error(Gm[r])}function fv(e,t){const r=new cv(t);if(r.push(e),r.err)throw r.msg||Gm[r.err];return r.result}cv.prototype.push=function(e,t){
const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(s=t===~~t?t:!0===t?tv:ev,"[object ArrayBuffer]"===Qm.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Hm.inflate(r,s),a===iv&&i&&(a=Hm.inflateSetDictionary(r,i),a===rv?a=Hm.inflate(r,s):a===sv&&(a=iv));r.avail_in>0&&a===nv&&r.state.wrap>0&&0!==e[r.next_in];)Hm.inflateReset(r),
a=Hm.inflate(r,s);switch(a){case av:case sv:case iv:case ov:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(0===r.avail_out||a===nv))if("string"===this.options.to){let e=Jm.utf8border(r.output,r.next_out),t=r.next_out-e,i=Jm.buf2string(r.output,e);r.next_out=t,r.avail_out=n-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==rv||0!==o){
if(a===nv)return a=Hm.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},cv.prototype.onData=function(e){this.chunks.push(e)},cv.prototype.onEnd=function(e){e===rv&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=$m.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},um.Inflate=cv,um.inflate=fv,um.inflateRaw=function(e,t){return(t=t||{}).raw=!0,fv(e,t)},um.ungzip=fv,um.constants=Wb
;const{Deflate:dv,deflate:uv,deflateRaw:hv,gzip:lv}=rb,{Inflate:pv,inflate:bv,inflateRaw:yv,ungzip:mv}=um,vv=Wb;tb.Deflate=dv,tb.deflate=uv,tb.deflateRaw=hv,tb.gzip=lv,tb.Inflate=pv,tb.inflate=bv,tb.inflateRaw=yv,tb.ungzip=mv,tb.constants=vv;var gv={exports:{}},_v={},wv={};Object.defineProperty(wv,"__esModule",{value:!0}),wv.default=function(e){var t=e.length,r=t%4;if(!r)return e;var n=t,i=4-r,a=t+i,s=Buffer.alloc(a);for(s.write(e);i--;)s.write("=",n++);return s.toString()},
Object.defineProperty(_v,"__esModule",{value:!0});var xv=wv;function Av(e,t){return void 0===t&&(t="utf8"),Buffer.isBuffer(e)?Sv(e.toString("base64")):Sv(Buffer.from(e,t).toString("base64"))}function kv(e){return e=e.toString(),xv.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function Sv(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var Mv=Av;Mv.encode=Av,Mv.decode=function(e,t){return void 0===t&&(t="utf8"),Buffer.from(kv(e),"base64").toString(t)},Mv.toBase64=kv,
Mv.fromBase64=Sv,Mv.toBuffer=function(e){return Buffer.from(kv(e),"base64")},_v.default=Mv,function(e){e.exports=_v.default,e.exports.default=e.exports}(gv);var Ev=function(){function e(){}return e.get_n_pad_bytes=function(e){return 64-(e+8&63)},e.pad=function(t){var r,n,i=t.byteLength,a=e.get_n_pad_bytes(i),s=(r=i,n=536870912,[Math.floor(r/n),r%n]).map((function(e,t){return t?8*e:e})),o=s[0],c=s[1],f=new Uint8Array(i+a+8);f.set(new Uint8Array(t),0);var d=new DataView(f.buffer)
;return d.setUint8(i,128),d.setUint32(i+a,c,!0),d.setUint32(i+a+4,o,!0),f.buffer},e.f=function(e,t,r,n){return 0<=e&&e<=15?t^r^n:16<=e&&e<=31?t&r|~t&n:32<=e&&e<=47?(t|~r)^n:48<=e&&e<=63?t&n|r&~n:64<=e&&e<=79?t^(r|~n):void 0},e.K=function(e){return 0<=e&&e<=15?0:16<=e&&e<=31?1518500249:32<=e&&e<=47?1859775393:48<=e&&e<=63?2400959708:64<=e&&e<=79?2840853838:void 0},e.KP=function(e){
return 0<=e&&e<=15?1352829926:16<=e&&e<=31?1548603684:32<=e&&e<=47?1836072691:48<=e&&e<=63?2053994217:64<=e&&e<=79?0:void 0},e.add_modulo32=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0|Array.from(e).reduce((function(e,t){return e+t}),0)},e.rol32=function(e,t){return e<<t|e>>>32-t},e.hash=function(t){
for(var r=e.pad(t),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],a=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],s=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],o=r.byteLength/64,c=new Array(o).fill(void 0).map((function(e,t){
return function(e){return new DataView(r,64*t,64).getUint32(4*e,!0)}})),f=[1732584193,4023233417,2562383102,271733878,3285377520],d=0;d<o;++d){for(var u=f[0],h=f[1],l=f[2],p=f[3],b=f[4],y=u,m=h,v=l,g=p,_=b,w=0;w<80;++w){var x=e.add_modulo32(e.rol32(e.add_modulo32(u,e.f(w,h,l,p),c[d](n[w]),e.K(w)),a[w]),b);u=b,b=p,p=e.rol32(l,10),l=h,h=x,x=e.add_modulo32(e.rol32(e.add_modulo32(y,e.f(79-w,m,v,g),c[d](i[w]),e.KP(w)),s[w]),_),y=_,_=g,g=e.rol32(v,10),v=m,m=x}var A=e.add_modulo32(f[1],l,g)
;f[1]=e.add_modulo32(f[2],p,_),f[2]=e.add_modulo32(f[3],b,y),f[3]=e.add_modulo32(f[4],u,m),f[4]=e.add_modulo32(f[0],h,v),f[0]=A}var k=new ArrayBuffer(20),S=new DataView(k);return f.forEach((function(e,t){return S.setUint32(4*t,e,!0)})),k},e}(),zv=pr(Object.freeze({__proto__:null,default:Ev}));!function(e){function t(){}function r(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,
-1===i.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(e){for(var t=0,r=Math.min(65536,e.length+1),n=new Uint16Array(r),i=[],a=0;;){var s=t<e.length;if(!s||a>=r-1){if(i.push(String.fromCharCode.apply(null,n.subarray(0,a))),!s)return i.join("");e=e.subarray(t),a=t=0}
if(0==(128&(s=e[t++])))n[a++]=s;else if(192==(224&s)){var o=63&e[t++];n[a++]=(31&s)<<6|o}else if(224==(240&s)){o=63&e[t++];var c=63&e[t++];n[a++]=(31&s)<<12|o<<6|c}else if(240==(248&s)){65535<(s=(7&s)<<18|(o=63&e[t++])<<12|(c=63&e[t++])<<6|63&e[t++])&&(s-=65536,n[a++]=s>>>10&1023|55296,s=56320|1023&s),n[a++]=s}}}if(e.TextEncoder&&e.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){
if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var r=e.length,n=0,i=Math.max(32,r+(r>>>1)+7),a=new Uint8Array(i>>>3<<3);t<r;){var s=e.charCodeAt(t++);if(55296<=s&&56319>=s){if(t<r){var o=e.charCodeAt(t);56320==(64512&o)&&(++t,s=((1023&s)<<10)+(1023&o)+65536)}if(55296<=s&&56319>=s)continue}if(n+4>a.length&&(i+=8,i=(i*=1+t/e.length*2)>>>3<<3,(o=new Uint8Array(i)).set(a),a=o),0==(4294967168&s))a[n++]=s;else{
if(0==(4294965248&s))a[n++]=s>>>6&31|192;else if(0==(4294901760&s))a[n++]=s>>>12&15|224,a[n++]=s>>>6&63|128;else{if(0!=(4292870144&s))continue;a[n++]=s>>>18&7|240,a[n++]=s>>>12&63|128,a[n++]=s>>>6&63|128}a[n++]=63&s|128}}return a.slice?a.slice(0,n):a.subarray(0,n)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var a=n
;"function"==typeof Buffer&&Buffer.from?a=function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(a=function(e){try{var t=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=UTF-8"})),r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(),r.responseText}catch(t){return n(e)}finally{t&&URL.revokeObjectURL(t)}}),r.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1
}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),a(e)},e.TextEncoder=t,e.TextDecoder=r}("undefined"!=typeof window?window:hr);var Iv={exports:{}};!function(e,t){var r="undefined"!=typeof self?self:hr,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){
var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,s="ArrayBuffer"in e;if(s)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){
return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){
this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function b(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function y(e){
if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,
e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),
this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",
this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob)
;if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var e,t,r,n=l(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=p(t),t.readAsText(e),r
;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=f(e),t=d(t)
;var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[f(e)]},h.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},h.prototype.set=function(e,t){this.map[f(e)]=d(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),u(e)},
h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),u(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var r,n,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),
this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,
("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,
this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308]
;w.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,r){return new Promise((function(n,a){var s=new g(e,r)
;if(s.signal&&s.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function c(){o.abort()}o.onload=function(){var e,t,r={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL")
;var i="response"in o?o.response:o.responseText;n(new w(i,r))},o.onerror=function(){a(new TypeError("Network request failed"))},o.ontimeout=function(){a(new TypeError("Network request failed"))},o.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},o.open(s.method,s.url,!0),"include"===s.credentials?o.withCredentials=!0:"omit"===s.credentials&&(o.withCredentials=!1),"responseType"in o&&i&&(o.responseType="blob"),s.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),
s.signal&&(s.signal.addEventListener("abort",c),o.onreadystatechange=function(){4===o.readyState&&s.signal.removeEventListener("abort",c)}),o.send(void 0===s._bodyInit?null:s._bodyInit)}))}A.polyfill=!0,e.fetch||(e.fetch=A,e.Headers=h,e.Request=g,e.Response=w),t.Headers=h,t.Request=g,t.Response=w,t.fetch=A,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,
t.Request=i.Request,t.Response=i.Response,e.exports=t}(Iv,Iv.exports);var Nv={};function Tv(e,t,...r){if(!e)throw new TypeError(Pv(t,r))}function Pv(e,t){let r=0;return e.replace(/%[os]/gu,(()=>Rv(t[r++])))}function Rv(e){return"object"!=typeof e||null===e?String(e):Object.prototype.toString.call(e)}let Ov;Object.defineProperty(Nv,"__esModule",{value:!0});const Bv="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==hr?hr:"undefined"!=typeof globalThis?globalThis:void 0
;let Uv;class Cv{constructor(e,t){this.code=e,this.message=t}warn(...e){var t;try{if(Uv)return void Uv({...this,args:e});const r=(null!==(t=(new Error).stack)&&void 0!==t?t:"").replace(/^(?:.+?\n){2}/gu,"\n");console.warn(this.message,...e,r)}catch(e){}}}
const qv=new Cv("W01","Unable to initialize event under dispatching."),jv=new Cv("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),Dv=new Cv("W03","Assigning any truthy value to 'returnValue' property has no effect."),Fv=new Cv("W04","Unable to preventDefault on non-cancelable events."),Lv=new Cv("W05","Unable to preventDefault inside passive event listener invocation."),Kv=new Cv("W06","An event listener wasn't added because it has been added already: %o, %o"),Vv=new Cv("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),Wv=new Cv("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),Zv=new Cv("W09","Event attribute handler must be a function: %o")
;class Hv{static get NONE(){return $v}static get CAPTURING_PHASE(){return Jv}static get AT_TARGET(){return Gv}static get BUBBLING_PHASE(){return Yv}constructor(e,t){Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=null!=t?t:{};Xv.set(this,{type:String(e),bubbles:Boolean(r.bubbles),cancelable:Boolean(r.cancelable),composed:Boolean(r.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,
dispatchFlag:!1,timeStamp:Date.now()})}get type(){return Qv(this).type}get target(){return Qv(this).target}get srcElement(){return Qv(this).target}get currentTarget(){return Qv(this).currentTarget}composedPath(){const e=Qv(this).currentTarget;return e?[e]:[]}get NONE(){return $v}get CAPTURING_PHASE(){return Jv}get AT_TARGET(){return Gv}get BUBBLING_PHASE(){return Yv}get eventPhase(){return Qv(this).dispatchFlag?2:0}stopPropagation(){Qv(this).stopPropagationFlag=!0}get cancelBubble(){
return Qv(this).stopPropagationFlag}set cancelBubble(e){e?Qv(this).stopPropagationFlag=!0:jv.warn()}stopImmediatePropagation(){const e=Qv(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0}get bubbles(){return Qv(this).bubbles}get cancelable(){return Qv(this).cancelable}get returnValue(){return!Qv(this).canceledFlag}set returnValue(e){e?Dv.warn():eg(Qv(this))}preventDefault(){eg(Qv(this))}get defaultPrevented(){return Qv(this).canceledFlag}get composed(){return Qv(this).composed}
get isTrusted(){return!1}get timeStamp(){return Qv(this).timeStamp}initEvent(e,t=!1,r=!1){const n=Qv(this);n.dispatchFlag?qv.warn():Xv.set(this,{...n,type:String(e),bubbles:Boolean(t),cancelable:Boolean(r),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1})}}const $v=0,Jv=1,Gv=2,Yv=3,Xv=new WeakMap;function Qv(e,t="this"){const r=Xv.get(e);return Tv(null!=r,"'%s' must be an object that Event constructor created, but got another one: %o",t,e),r}
function eg(e){e.inPassiveListenerFlag?Lv.warn():e.cancelable?e.canceledFlag=!0:Fv.warn()}Object.defineProperty(Hv,"NONE",{enumerable:!0}),Object.defineProperty(Hv,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(Hv,"AT_TARGET",{enumerable:!0}),Object.defineProperty(Hv,"BUBBLING_PHASE",{enumerable:!0});const tg=Object.getOwnPropertyNames(Hv.prototype);for(let e=0;e<tg.length;++e)"constructor"!==tg[e]&&Object.defineProperty(Hv.prototype,tg[e],{enumerable:!0});let rg
;void 0!==Bv&&void 0!==Bv.Event&&Object.setPrototypeOf(Hv.prototype,Bv.Event.prototype);const ng={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,
ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function ig(e){const t=Object.keys(ng);for(let r=0;r<t.length;++r){const n=t[r],i=ng[n];Object.defineProperty(e,n,{get:()=>i,configurable:!0,enumerable:!0})}}class ag extends Hv{static wrap(e){return new(fg(e))(e)}constructor(e){super(e.type,{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}),e.cancelBubble&&super.stopPropagation(),
e.defaultPrevented&&super.preventDefault(),sg.set(this,{original:e});const t=Object.keys(e);for(let r=0;r<t.length;++r){const n=t[r];n in this||Object.defineProperty(this,n,dg(e,n))}}stopPropagation(){super.stopPropagation();const{original:e}=og(this);"stopPropagation"in e&&e.stopPropagation()}get cancelBubble(){return super.cancelBubble}set cancelBubble(e){super.cancelBubble=e;const{original:t}=og(this);"cancelBubble"in t&&(t.cancelBubble=e)}stopImmediatePropagation(){
super.stopImmediatePropagation();const{original:e}=og(this);"stopImmediatePropagation"in e&&e.stopImmediatePropagation()}get returnValue(){return super.returnValue}set returnValue(e){super.returnValue=e;const{original:t}=og(this);"returnValue"in t&&(t.returnValue=e)}preventDefault(){super.preventDefault();const{original:e}=og(this);"preventDefault"in e&&e.preventDefault()}get timeStamp(){const{original:e}=og(this);return"timeStamp"in e?e.timeStamp:super.timeStamp}}const sg=new WeakMap
;function og(e){const t=sg.get(e);return Tv(null!=t,"'this' is expected an Event object, but got",e),t}const cg=new WeakMap;function fg(e){const t=Object.getPrototypeOf(e);if(null==t)return ag;let r=cg.get(t);return null==r&&(r=function(e,t){class r extends e{}const n=Object.keys(t);for(let e=0;e<n.length;++e)Object.defineProperty(r.prototype,n[e],dg(t,n[e]));return r}(fg(t),t),cg.set(t,r)),r}function dg(e,t){const r=Object.getOwnPropertyDescriptor(e,t);return{get(){
const e=og(this).original,r=e[t];return"function"==typeof r?r.bind(e):r},set(e){og(this).original[t]=e},configurable:r.configurable,enumerable:r.enumerable}}function ug(e){return 1==(1&e.flags)}function hg(e){return 2==(2&e.flags)}function lg(e){return 4==(4&e.flags)}function pg(e){return 8==(8&e.flags)}function bg({callback:e},t,r){try{"function"==typeof e?e.call(t,r):"function"==typeof e.handleEvent&&e.handleEvent(r)}catch(e){!function(e){try{const t=e instanceof Error?e:new Error(Rv(e))
;if(Ov)return void Ov(t);if("function"==typeof dispatchEvent&&"function"==typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:t,message:t.message}));else if("undefined"!=typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)}catch(e){}}(e)}}function yg({listeners:e},t,r){for(let n=0;n<e.length;++n)if(e[n].callback===t&&ug(e[n])===r)return n;return-1}function mg(e,t,r,n,i,a){let s;a&&(s=vg.bind(null,e,t,r),
a.addEventListener("abort",s));const o=function(e,t,r,n,i,a){return{callback:e,flags:(t?1:0)|(r?2:0)|(n?4:0),signal:i,signalListener:a}}(t,r,n,i,a,s);return e.cow?(e.cow=!1,e.listeners=[...e.listeners,o]):e.listeners.push(o),o}function vg(e,t,r){const n=yg(e,t,r);return-1!==n&&gg(e,n)}function gg(e,t,r=!1){const n=e.listeners[t];return function(e){e.flags|=8}(n),n.signal&&n.signal.removeEventListener("abort",n.signalListener),e.cow&&!r?(e.cow=!1,e.listeners=e.listeners.filter(((e,r)=>r!==t)),
!1):(e.listeners.splice(t,1),!0)}function _g(e,t){var r;return null!==(r=e[t])&&void 0!==r?r:e[t]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}cg.set(Object.prototype,ag),void 0!==Bv&&void 0!==Bv.Event&&cg.set(Bv.Event.prototype,ag);class wg{constructor(){xg.set(this,Object.create(null))}addEventListener(e,t,r){const n=Ag(this),{callback:i,capture:a,once:s,passive:o,signal:c,type:f}=function(e,t,r){var n;if(kg(t),"object"==typeof r&&null!==r)return{type:String(e),
callback:null!=t?t:void 0,capture:Boolean(r.capture),passive:Boolean(r.passive),once:Boolean(r.once),signal:null!==(n=r.signal)&&void 0!==n?n:void 0};return{type:String(e),callback:null!=t?t:void 0,capture:Boolean(r),passive:!1,once:!1,signal:void 0}}(e,t,r);if(null==i||(null==c?void 0:c.aborted))return;const d=_g(n,f),u=yg(d,i,a);-1===u?mg(d,i,a,o,s,c):function(e,t,r,n){Kv.warn(ug(e)?"capture":"bubble",e.callback),hg(e)!==t&&Vv.warn("passive");lg(e)!==r&&Vv.warn("once")
;e.signal!==n&&Vv.warn("signal")}(d.listeners[u],o,s,c)}removeEventListener(e,t,r){const n=Ag(this),{callback:i,capture:a,type:s}=function(e,t,r){if(kg(t),"object"==typeof r&&null!==r)return{type:String(e),callback:null!=t?t:void 0,capture:Boolean(r.capture)};return{type:String(e),callback:null!=t?t:void 0,capture:Boolean(r)}}(e,t,r),o=n[s];null!=i&&o&&vg(o,i,a)}dispatchEvent(e){const t=Ag(this)[String(e.type)];if(null==t)return!0;const r=e instanceof Hv?e:ag.wrap(e),n=Qv(r,"event")
;if(n.dispatchFlag)throw i="This event has been in dispatching.",Bv.DOMException?new Bv.DOMException(i,"InvalidStateError"):(null==rg&&(rg=class e extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,e)}get code(){return 11}get name(){return"InvalidStateError"}},Object.defineProperties(rg.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),ig(rg),ig(rg.prototype)),new rg(i));var i;if(n.dispatchFlag=!0,n.target=n.currentTarget=this,
!n.stopPropagationFlag){const{cow:e,listeners:i}=t;t.cow=!0;for(let a=0;a<i.length;++a){const s=i[a];if(!pg(s)&&(lg(s)&&gg(t,a,!e)&&(a-=1),n.inPassiveListenerFlag=hg(s),bg(s,this,r),n.inPassiveListenerFlag=!1,n.stopImmediatePropagationFlag))break}e||(t.cow=!1)}return n.target=null,n.currentTarget=null,n.stopImmediatePropagationFlag=!1,n.stopPropagationFlag=!1,n.dispatchFlag=!1,!n.canceledFlag}}const xg=new WeakMap;function Ag(e,t="this"){const r=xg.get(e)
;return Tv(null!=r,"'%s' must be an object that EventTarget constructor created, but got another one: %o",t,e),r}function kg(e){if("function"!=typeof e&&("object"!=typeof e||null===e||"function"!=typeof e.handleEvent)){if(null!=e&&"object"!=typeof e)throw new TypeError(Pv(Wv.message,[e]));Wv.warn(e)}}const Sg=Object.getOwnPropertyNames(wg.prototype);for(let e=0;e<Sg.length;++e)"constructor"!==Sg[e]&&Object.defineProperty(wg.prototype,Sg[e],{enumerable:!0});function Mg(e,t){var r,n
;return null!==(n=null===(r=Ag(e,"target")[t])||void 0===r?void 0:r.attrCallback)&&void 0!==n?n:null}function Eg(e,t,r){null!=r&&"function"!=typeof r&&Zv.warn(r),"function"==typeof r||"object"==typeof r&&null!==r?function(e,t,r){const n=_g(Ag(e,"target"),String(t));n.attrCallback=r,null==n.attrListener&&(n.attrListener=mg(n,function(e){return function(t){const r=e.attrCallback;"function"==typeof r&&r.call(this,t)}}(n),!1,!1,!1,void 0))}(e,t,r):function(e,t){const r=Ag(e,"target")[String(t)]
;r&&r.attrListener&&(vg(r,r.attrListener.callback,!1),r.attrCallback=r.attrListener=void 0)}(e,t)}function zg(e,t,r){Object.defineProperty(e,`on${t}`,{get(){return Mg(this,t)},set(e){Eg(this,t,e)},configurable:!0,enumerable:!0})}function Ig(e){return e&&"object"==typeof e&&"default"in e?e.default:e}void 0!==Bv&&void 0!==Bv.EventTarget&&Object.setPrototypeOf(wg.prototype,Bv.EventTarget.prototype),Nv.Event=Hv,Nv.EventTarget=wg,Nv.default=wg,Nv.defineCustomEventTarget=function(...e){
class t extends wg{}for(let r=0;r<e.length;++r)zg(t.prototype,e[r]);return t},Nv.defineEventAttribute=zg,Nv.getEventAttributeValue=Mg,Nv.setErrorHandler=function(e){Tv("function"==typeof e||void 0===e,"The error handler must be a function or undefined, but got %o.",e),Ov=e},Nv.setEventAttributeValue=Eg,Nv.setWarningHandler=function(e){Tv("function"==typeof e||void 0===e,"The warning handler must be a function or undefined, but got %o.",e),Uv=e},Object.defineProperty(eb,"__esModule",{value:!0})
;var Ng=tb,Tg=Ai,Pg=Ig(gv.exports),Rg=wr,Og=Ig(zv),Bg=Ig(Iv.exports),Ug=Nv;function Cg(){Cg=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function o(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,r){return e[t]=r}}function c(e,t,r,n){
var i=Object.create((t&&t.prototype instanceof u?t:u).prototype),a=new A(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return{value:void 0,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var o=_(s,r);if(o){if(o===d)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){
if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function u(){}function h(){}
function l(){}var p={};o(p,i,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(k([])));y&&y!==t&&r.call(y,i)&&(p=y);var m=l.prototype=u.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var n;this._invoke=function(i,a){function s(){return new t((function(n,s){!function n(i,a,s,o){var c=f(e[i],e,a);if("throw"!==c.type){var d=c.arg,u=d.value
;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(u).then((function(e){d.value=e,s(d)}),(function(e){return n("throw",e,s,o)}))}o(c.arg)}(i,a,n,s)}))}return n=n?n.then(s,s):s()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",
t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),
2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}
function S(){return{value:void 0,done:!0}}return h.prototype=l,o(m,"constructor",l),o(l,"constructor",h),h.displayName=o(l,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,o(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},v(g.prototype),
o(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var s=new g(c(t,r,n,i),a);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},v(m),o(m,s,"Generator"),o(m,i,(function(){return this})),o(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,
r.done=!1,r}return r.done=!0,r}},e.values=k,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e
;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var o=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(o&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{
if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(s)},
complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t]
;if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function qg(e,t,r,n,i,a,s){try{var o=e[a](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,i)}function jg(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r)
;function s(e){qg(a,n,i,s,o,"next",e)}function o(e){qg(a,n,i,s,o,"throw",e)}s(void 0)}))}}function Dg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fg(e,t,r){return t&&Dg(e.prototype,t),r&&Dg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Vg(e,t)}function Kg(e){
return(Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vg(e,t){return(Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wg(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}
}function Zg(e,t,r){return(Zg=Wg()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&Vg(i,r.prototype),i}).apply(null,arguments)}function Hg(e){var t="function"==typeof Map?new Map:void 0;return(Hg=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e)
;t.set(e,r)}function r(){return Zg(e,arguments,Kg(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Vg(r,e)})(e)}function $g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gg(e,t){
var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Jg(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jg(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0
;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Yg,Xg=Og.hash,Qg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",e_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t_=function(){for(var e=Array(256).fill(-1),t=0;t<Qg.length;++t)e[Qg.charCodeAt(t)]=t;return e}(),r_=function(){
for(var e=Array(256).fill(-1),t=0;t<e_.length;++t)e[e_.charCodeAt(t)]=t;return e["=".charCodeAt(0)]=0,e}(),n_=function(e){return 0!=(128&e[e.length-1])},i_=function(e){for(var t=1,r=0;r<e.length;++r){var n=(255&~e[r])+t;e[r]=n,t=n>>8}},a_=function(e,t){for(var r=new Uint8Array(e),n=0;n<t.length;++n){var i=t.charCodeAt(n);if(i<"0".charCodeAt(0)||i>"9".charCodeAt(0))throw new Error("invalid number");for(var a=i-"0".charCodeAt(0),s=0;s<e;++s){var o=10*r[s]+a;r[s]=o,a=o>>8}
if(a)throw new Error("number is out of range")}return r},s_=function(e,t){var r="-"===t[0];r&&(t=t.substr(1));var n=a_(e,t);if(r){if(i_(n),!n_(n))throw new Error("number is out of range")}else if(n_(n))throw new Error("number is out of range");return n},o_=function(e,t){void 0===t&&(t=1);for(var r=Array(t).fill("0".charCodeAt(0)),n=e.length-1;n>=0;--n){for(var i=e[n],a=0;a<r.length;++a){var s=(r[a]-"0".charCodeAt(0)<<8)+i;r[a]="0".charCodeAt(0)+s%10,i=s/10|0}
for(;i;)r.push("0".charCodeAt(0)+i%10),i=i/10|0}return r.reverse(),String.fromCharCode.apply(String,r)},c_=function(e,t){if(void 0===t&&(t=1),n_(e)){var r=e.slice();return i_(r),"-"+o_(r,t)}return o_(e,t)},f_=function(e,t){if(!e)return function(e){for(var t=[],r=0;r<e.length;++r){var n=t_[e.charCodeAt(r)];if(n<0)throw new Error("invalid base-58 value");for(var i=0;i<t.length;++i){var a=58*t[i]+n;t[i]=255&a,n=a>>8}n&&t.push(n)}for(var s,o=Gg(e);!(s=o()).done&&"1"===s.value;)t.push(0)
;return t.reverse(),new Uint8Array(t)}(t);for(var r=new Uint8Array(e),n=0;n<t.length;++n){var i=t_[t.charCodeAt(n)];if(i<0)throw new Error("invalid base-58 value");for(var a=0;a<e;++a){var s=58*r[a]+i;r[a]=s,i=s>>8}if(i)throw new Error("base-58 value is out of range")}return r.reverse(),r},d_=function(e){for(var t,r=[],n=Gg(e);!(t=n()).done;){for(var i=t.value,a=0;a<r.length;++a){var s=(t_[r[a]]<<8)+i;r[a]=Qg.charCodeAt(s%58),i=s/58|0}for(;i;)r.push(Qg.charCodeAt(i%58)),i=i/58|0}
for(var o,c=Gg(e);!(o=c()).done&&!o.value;)r.push("1".charCodeAt(0));return r.reverse(),String.fromCharCode.apply(String,r)},u_=function(e){var t=e.length;if(1==(3&t)&&"="===e[t-1]&&(t-=1),0!=(3&t))throw new Error("base-64 value is not padded correctly");var r=t>>2,n=3*r;t>0&&"="===e[t-1]&&(n-="="===e[t-2]?2:1);for(var i=new Uint8Array(n),a=0;a<r;++a){var s=r_[e.charCodeAt(4*a+0)],o=r_[e.charCodeAt(4*a+1)],c=r_[e.charCodeAt(4*a+2)],f=r_[e.charCodeAt(4*a+3)];i[3*a+0]=s<<2|o>>4,
3*a+1<n&&(i[3*a+1]=(15&o)<<4|c>>2),3*a+2<n&&(i[3*a+2]=(3&c)<<6|f)}return i};!function(e){e[e.k1=0]="k1",e[e.r1=1]="r1",e[e.wa=2]="wa",e[e.rsa=100]="rsa",e[e.eth=101]="eth"}(Yg||(Yg={}));var h_=function(e,t){for(var r=new Uint8Array(e.length+t.length),n=0;n<e.length;++n)r[n]=e[n];for(var i=0;i<t.length;++i)r[e.length+i]=t.charCodeAt(i);return Xg(r)},l_=function(e,t,r,n){var i=f_(r?r+4:0,e),a={type:t,data:new Uint8Array(i.buffer,0,i.length-4)},s=new Uint8Array(h_(a.data,n))
;if(s[0]!==i[i.length-4]||s[1]!==i[i.length-3]||s[2]!==i[i.length-2]||s[3]!==i[i.length-1])throw new Error("checksum doesn't match");return a},p_=function(e,t,r){for(var n=new Uint8Array(h_(e.data,t)),i=new Uint8Array(e.data.length+4),a=0;a<e.data.length;++a)i[a]=e.data[a];for(var s=0;s<4;++s)i[s+e.data.length]=n[s];return r+d_(i)},b_=function(e,t){if(void 0===t&&(t="EOS"),"string"!=typeof e)throw new Error("expected string containing public key");if(e.substr(0,3)===t){
for(var r=f_(37,e.substr(3)),n={type:Yg.k1,data:new Uint8Array(33)},i=0;i<33;++i)n.data[i]=r[i];var a=new Uint8Array(Xg(n.data));if(a[0]!==r[33]||a[1]!==r[34]||a[2]!==r[35]||a[3]!==r[36])throw new Error("checksum doesn't match");return n}if("PUB_K1_"===e.substr(0,7))return l_(e.substr(7),Yg.k1,33,"K1");if("PUB_R1_"===e.substr(0,7))return l_(e.substr(7),Yg.r1,33,"R1");if("PUB_WA_"===e.substr(0,7))return l_(e.substr(7),Yg.wa,0,"WA");throw new Error("unrecognized public key format")
},y_=function(e,t){if(void 0===t&&(t="EOS"),e.type===Yg.k1&&33===e.data.length)return p_(e,"",t);throw e.type===Yg.r1||e.type===Yg.wa?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},m_=function(e){if(e.type===Yg.k1&&33===e.data.length)return p_(e,"K1","PUB_K1_");if(e.type===Yg.r1&&33===e.data.length)return p_(e,"R1","PUB_R1_");if(e.type===Yg.wa)return p_(e,"WA","PUB_WA_");throw new Error("unrecognized public key format")},v_=function(e,t){
return void 0===t&&(t="EOS"),e.substr(0,3)===t?m_(b_(e,t)):e},g_=function(e,t){return void 0===t&&(t="EOS"),e.map((function(e){return v_(e,t)}))},__=function(e){if("string"!=typeof e)throw new Error("expected string containing private key");if("PVT_R1_"===e.substr(0,7))return l_(e.substr(7),Yg.r1,32,"R1");if("PVT_K1_"===e.substr(0,7))return l_(e.substr(7),Yg.k1,32,"K1");var t=f_(37,e),r={type:Yg.k1,data:new Uint8Array(32)};if(128!==t[0])throw new Error("unrecognized private key type")
;for(var n=0;n<32;++n)r.data[n]=t[n+1];return r},w_=function(e){if(e.type===Yg.k1&&32===e.data.length){var t=[];t.push(128),e.data.forEach((function(e){return t.push(e)}));for(var r=new Uint8Array(Rg.sha256().update(Rg.sha256().update(t).digest()).digest()),n=new Uint8Array(37),i=0;i<t.length;i++)n[i]=t[i];for(var a=0;a<4;a++)n[a+t.length]=r[a];return d_(n)}throw e.type===Yg.r1||e.type===Yg.wa?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")
},x_=function(e){if(e.type===Yg.r1)return p_(e,"R1","PVT_R1_");if(e.type===Yg.k1)return p_(e,"K1","PVT_K1_");throw new Error("unrecognized private key format")},A_=function(e){if("string"!=typeof e)throw new Error("expected string containing signature");if("SIG_K1_"===e.substr(0,7))return l_(e.substr(7),Yg.k1,65,"K1");if("SIG_R1_"===e.substr(0,7))return l_(e.substr(7),Yg.r1,65,"R1");if("SIG_WA_"===e.substr(0,7))return l_(e.substr(7),Yg.wa,0,"WA");throw new Error("unrecognized signature format")
},k_=function(e){if(e.type===Yg.k1)return p_(e,"K1","SIG_K1_");if(e.type===Yg.r1)return p_(e,"R1","SIG_R1_");if(e.type===Yg.wa)return p_(e,"WA","SIG_WA_");throw new Error("unrecognized signature format")},S_={__proto__:null,isNegative:n_,negate:i_,decimalToBinary:a_,signedDecimalToBinary:s_,binaryToDecimal:o_,signedBinaryToDecimal:c_,base58ToBinary:f_,binaryToBase58:d_,base64ToBinary:u_,get KeyType(){return Yg},publicKeyDataSize:33,privateKeyDataSize:32,signatureDataSize:65,stringToPublicKey:b_,
publicKeyToLegacyString:y_,publicKeyToString:m_,convertLegacyPublicKey:v_,convertLegacyPublicKeys:g_,stringToPrivateKey:__,privateKeyToLegacyString:w_,privateKeyToString:x_,stringToSignature:A_,signatureToString:k_},M_=function(e){void 0===e&&(e={}),this.options=void 0,this.skippedBinaryExtension=!1,this.options=e},E_=function(){function e(e){var t=void 0===e?{}:e,r=t.array,n=t.textEncoder,i=t.textDecoder;this.length=void 0,this.array=void 0,this.readPos=0,this.textEncoder=void 0,
this.textDecoder=void 0,this.array=r||new Uint8Array(1024),this.length=r?r.length:0,this.textEncoder=n||new TextEncoder,this.textDecoder=i||new TextDecoder("utf-8")}var t=e.prototype;return t.reserve=function(e){if(!(this.length+e<=this.array.length)){for(var t=this.array.length;this.length+e>t;)t=Math.ceil(1.5*t);var r=new Uint8Array(t);r.set(this.array),this.array=r}},t.haveReadData=function(){return this.readPos<this.length},t.restartRead=function(){this.readPos=0},t.asUint8Array=function(){
return new Uint8Array(this.array.buffer,this.array.byteOffset,this.length)},t.pushArray=function(e){this.reserve(e.length),this.array.set(e,this.length),this.length+=e.length},t.push=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.pushArray(t)},t.get=function(){if(this.readPos<this.length)return this.array[this.readPos++];throw new Error("Read past end of buffer")},t.pushUint8ArrayChecked=function(e,t){
if(e.length!==t)throw new Error("Binary data has incorrect size");this.pushArray(e)},t.getUint8Array=function(e){if(this.readPos+e>this.length)throw new Error("Read past end of buffer");var t=new Uint8Array(this.array.buffer,this.array.byteOffset+this.readPos,e);return this.readPos+=e,t},t.skip=function(e){if(this.readPos+e>this.length)throw new Error("Read past end of buffer");this.readPos+=e},t.pushUint16=function(e){this.push(e>>0&255,e>>8&255)},t.getUint16=function(){var e=0
;return(e|=this.get()<<0)|this.get()<<8},t.pushUint32=function(e){this.push(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},t.getUint32=function(){var e=0;return e|=this.get()<<0,e|=this.get()<<8,e|=this.get()<<16,(e|=this.get()<<24)>>>0},t.pushNumberAsUint64=function(e){this.pushUint32(e>>>0),this.pushUint32(Math.floor(e/4294967296)>>>0)},t.getUint64AsNumber=function(){var e=this.getUint32();return 4294967296*(this.getUint32()>>>0)+(e>>>0)},t.pushVaruint32=function(e){for(;;){if(!(e>>>7)){this.push(e)
;break}this.push(128|127&e),e>>>=7}},t.getVaruint32=function(){for(var e=0,t=0;;){var r=this.get();if(e|=(127&r)<<t,t+=7,!(128&r))break}return e>>>0},t.pushVarint32=function(e){this.pushVaruint32(e<<1^e>>31)},t.getVarint32=function(){var e=this.getVaruint32();return 1&e?~e>>1|2147483648:e>>>1},t.pushFloat32=function(e){this.pushArray(new Uint8Array(new Float32Array([e]).buffer))},t.getFloat32=function(){return new Float32Array(this.getUint8Array(4).slice().buffer)[0]},t.pushFloat64=function(e){
this.pushArray(new Uint8Array(new Float64Array([e]).buffer))},t.getFloat64=function(){return new Float64Array(this.getUint8Array(8).slice().buffer)[0]},t.pushName=function(e){if("string"!=typeof e)throw new Error("Expected string containing name");if(!new RegExp(/^[.1-5a-z]{0,12}[.1-5a-j]?$/).test(e))throw new Error("Name should be less than 13 characters, or less than 14 if last character is between 1-5 or a-j, and only contain the following symbols .12345abcdefghijklmnopqrstuvwxyz")
;for(var t=function(e){return e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)?e-"a".charCodeAt(0)+6:e>="1".charCodeAt(0)&&e<="5".charCodeAt(0)?e-"1".charCodeAt(0)+1:0},r=new Uint8Array(8),n=63,i=0;i<e.length;++i){var a=t(e.charCodeAt(i));n<5&&(a<<=1);for(var s=4;s>=0;--s)n>=0&&(r[Math.floor(n/8)]|=(a>>s&1)<<n%8,--n)}this.pushArray(r)},t.getName=function(){for(var e=this.getUint8Array(8),t="",r=63;r>=0;){for(var n=0,i=0;i<5;++i)r>=0&&(n=n<<1|e[Math.floor(r/8)]>>r%8&1,--r)
;t+=n>=6?String.fromCharCode(n+"a".charCodeAt(0)-6):n>=1?String.fromCharCode(n+"1".charCodeAt(0)-1):"."}for(;t.endsWith(".");)t=t.substr(0,t.length-1);return t},t.pushBytes=function(e){this.pushVaruint32(e.length),this.pushArray(e)},t.getBytes=function(){return this.getUint8Array(this.getVaruint32())},t.pushString=function(e){this.pushBytes(this.textEncoder.encode(e))},t.getString=function(){return this.textDecoder.decode(this.getBytes())},t.pushSymbolCode=function(e){
if("string"!=typeof e)throw new Error("Expected string containing symbol_code");var t=[];for(t.push.apply(t,this.textEncoder.encode(e));t.length<8;)t.push(0);this.pushArray(t.slice(0,8))},t.getSymbolCode=function(){var e,t=this.getUint8Array(8);for(e=0;e<t.length&&t[e];++e);return this.textDecoder.decode(new Uint8Array(t.buffer,t.byteOffset,e))},t.pushSymbol=function(e){var t=e.name,r=e.precision
;if(!/^[A-Z]{1,7}$/.test(t))throw new Error("Expected symbol to be A-Z and between one and seven characters");var n=[255&r];for(n.push.apply(n,this.textEncoder.encode(t));n.length<8;)n.push(0);this.pushArray(n.slice(0,8))},t.getSymbol=function(){var e,t=this.get(),r=this.getUint8Array(7);for(e=0;e<r.length&&r[e];++e);return{name:this.textDecoder.decode(new Uint8Array(r.buffer,r.byteOffset,e)),precision:t}},t.pushAsset=function(e){
if("string"!=typeof e)throw new Error("Expected string containing asset");var t=0,r="",n=0;"-"===(e=e.trim())[t]&&(r+="-",++t);for(var i=!1;t<e.length&&e.charCodeAt(t)>="0".charCodeAt(0)&&e.charCodeAt(t)<="9".charCodeAt(0);)i=!0,r+=e[t],++t;if(!i)throw new Error("Asset must begin with a number");if("."===e[t])for(++t;t<e.length&&e.charCodeAt(t)>="0".charCodeAt(0)&&e.charCodeAt(t)<="9".charCodeAt(0);)r+=e[t],++n,++t;var a=e.substr(t).trim();this.pushArray(s_(8,r)),this.pushSymbol({name:a,
precision:n})},t.getAsset=function(){var e=this.getUint8Array(8),t=this.getSymbol(),r=t.name,n=t.precision,i=c_(e,n+1);return n&&(i=i.substr(0,i.length-n)+"."+i.substr(i.length-n)),i+" "+r},t.pushPublicKey=function(e){var t=b_(e);this.push(t.type),this.pushArray(t.data)},t.getPublicKey=function(){var e,t=this.get();if(t===Yg.wa){var r=this.readPos;this.skip(34),this.skip(this.getVaruint32()),e=new Uint8Array(this.array.buffer,this.array.byteOffset+r,this.readPos-r)}else e=this.getUint8Array(33)
;return m_({type:t,data:e})},t.pushPrivateKey=function(e){var t=__(e);this.push(t.type),this.pushArray(t.data)},t.getPrivateKey=function(){var e=this.get(),t=this.getUint8Array(32);return x_({type:e,data:t})},t.pushSignature=function(e){var t=A_(e);this.push(t.type),this.pushArray(t.data)},t.getSignature=function(){var e,t=this.get();if(t===Yg.wa){var r=this.readPos;this.skip(65),this.skip(this.getVaruint32()),this.skip(this.getVaruint32()),
e=new Uint8Array(this.array.buffer,this.array.byteOffset+r,this.readPos-r)}else e=this.getUint8Array(65);return k_({type:t,data:e})},e}(),z_=function(e){return e.startsWith("eosio::abi/1.")},I_=function(e){var t=Date.parse(e);if(Number.isNaN(t))throw new Error("Invalid time format");return t},N_=function(e){return Math.round(1e3*I_(e+"Z"))},T_=function(e){var t=new Date(e/1e3).toISOString();return t.substr(0,t.length-1)},P_=function(e){return Math.round(I_(e+"Z")/1e3)},R_=function(e){
var t=new Date(1e3*e).toISOString();return t.substr(0,t.length-1)},O_=function(e){return Math.round((I_(e+"Z")-9466848e5)/500)},B_=function(e){var t=new Date(500*e+9466848e5).toISOString();return t.substr(0,t.length-1)},U_=function(e){if("string"!=typeof e)throw new Error("Expected string containing symbol");var t=e.match(/^([0-9]+),([A-Z]+)$/);if(!t)throw new Error("Invalid symbol");return{name:t[2],precision:+t[1]}},C_=function(e){return e.precision+","+e.name},q_=function(e){
for(var t,r="",n=Gg(e);!(t=n()).done;)r+=("00"+t.value.toString(16)).slice(-2);return r.toUpperCase()},j_=function(e){if("string"!=typeof e)throw new Error("Expected string containing hex digits");if(e.length%2)throw new Error("Odd number of hex digits");for(var t=e.length/2,r=new Uint8Array(t),n=0;n<t;++n){var i=parseInt(e.substr(2*n,2),16);if(Number.isNaN(i))throw new Error("Expected hex string");r[n]=i}return r};function D_(e,t){throw new Error("Don't know how to serialize "+this.name)}
function F_(e){throw new Error("Don't know how to deserialize "+this.name)}function L_(e,t,r,n){if(void 0===r&&(r=new M_),void 0===n&&(n=!0),"object"!=typeof t)throw new Error("expected object containing data: "+JSON.stringify(t));this.base&&this.base.serialize(e,t,r,n);for(var i,a=Gg(this.fields);!(i=a()).done;){var s=i.value;if(s.name in t){if(r.skippedBinaryExtension)throw new Error("unexpected "+this.name+"."+s.name);s.type.serialize(e,t[s.name],r,n&&s===this.fields[this.fields.length-1])
}else{if(!n||!s.type.extensionOf)throw new Error("missing "+this.name+"."+s.name+" (type="+s.type.name+")");r.skippedBinaryExtension=!0}}}function K_(e,t,r){var n;void 0===t&&(t=new M_),void 0===r&&(r=!0),n=this.base?this.base.deserialize(e,t,r):{};for(var i,a=Gg(this.fields);!(i=a()).done;){var s=i.value;r&&s.type.extensionOf&&!e.haveReadData()?t.skippedBinaryExtension=!0:n[s.name]=s.type.deserialize(e,t,r)}return n}function V_(e,t,r,n){
if(!Array.isArray(t)||2!==t.length||"string"!=typeof t[0])throw new Error('expected variant: ["type", value]');var i=this.fields.findIndex((function(e){return e.name===t[0]}));if(i<0)throw new Error('type "'+t[0]+'" is not valid for variant');e.pushVaruint32(i),this.fields[i].type.serialize(e,t[1],r,n)}function W_(e,t,r){var n=e.getVaruint32();if(n>=this.fields.length)throw new Error("type index "+n+" is not valid for variant");var i=this.fields[n];return[i.name,i.type.deserialize(e,t,r)]}
function Z_(e,t,r,n){e.pushVaruint32(t.length);for(var i,a=Gg(t);!(i=a()).done;)this.arrayOf.serialize(e,i.value,r,!1)}function H_(e,t,r){for(var n=e.getVaruint32(),i=[],a=0;a<n;++a)i.push(this.arrayOf.deserialize(e,t,!1));return i}function $_(e,t,r,n){null==t?e.push(0):(e.push(1),this.optionalOf.serialize(e,t,r,n))}function J_(e,t,r){return e.get()?this.optionalOf.deserialize(e,t,r):null}function G_(e,t,r,n){this.extensionOf.serialize(e,t,r,n)}function Y_(e,t,r){
return this.extensionOf.deserialize(e,t,r)}function X_(e,t,r,n){var i=Object.entries(t);e.pushVaruint32(i.length);for(var a=0,s=i;a<s.length;a++){var o=s[a],c=o[1],f=this.fields[1].type;this.fields[0].type.serialize(e,o[0],r,n),f.serialize(e,c,r,n)}}function Q_(e,t,r){for(var n=e.getVaruint32(),i={},a=0;a<n;++a){var s=this.fields[1].type;i[this.fields[0].type.deserialize(e,t,r)]=s.deserialize(e,t,r)}return i}function ew(e,t,r,n){var i=this;e.pushVaruint32(t.length),t.forEach((function(t){
i.fields[0].type.serialize(e,t[0],r,n),i.fields[1].type.serialize(e,t[1],r,n)}))}function tw(e,t,r){for(var n=[],i=e.getVaruint32(),a=0;a<i;++a)n.push(this.fields[0].type.deserialize(e,t,r)),n.push(this.fields[1].type.deserialize(e,t,r));return n}var rw=function(e){return Object.assign({name:"<missing name>",aliasOfName:"",arrayOf:void 0,optionalOf:void 0,extensionOf:void 0,baseName:"",base:void 0,fields:[],serialize:D_,deserialize:F_},e)},nw=function(e,t){
if(Number.isNaN(+e)||Number.isNaN(+t)||"number"!=typeof e&&"string"!=typeof e)throw new Error("Expected number");if(+e!=+t)throw new Error("Number is out of range");return+e},iw=function(){var e=new Map(Object.entries({bool:rw({name:"bool",serialize:function(e,t){if("boolean"!=typeof t&&("number"!=typeof t||1!==t&&0!==t))throw new Error("Expected boolean or number equal to 1 or 0");e.push(t?1:0)},deserialize:function(e){return!!e.get()}}),uint8:rw({name:"uint8",serialize:function(e,t){
e.push(nw(t,255&t))},deserialize:function(e){return e.get()}}),int8:rw({name:"int8",serialize:function(e,t){e.push(nw(t,t<<24>>24))},deserialize:function(e){return e.get()<<24>>24}}),uint16:rw({name:"uint16",serialize:function(e,t){e.pushUint16(nw(t,65535&t))},deserialize:function(e){return e.getUint16()}}),int16:rw({name:"int16",serialize:function(e,t){e.pushUint16(nw(t,t<<16>>16))},deserialize:function(e){return e.getUint16()<<16>>16}}),uint32:rw({name:"uint32",serialize:function(e,t){
e.pushUint32(nw(t,t>>>0))},deserialize:function(e){return e.getUint32()}}),uint64:rw({name:"uint64",serialize:function(e,t){e.pushArray(a_(8,""+t))},deserialize:function(e){return o_(e.getUint8Array(8))}}),int64:rw({name:"int64",serialize:function(e,t){e.pushArray(s_(8,""+t))},deserialize:function(e){return c_(e.getUint8Array(8))}}),int32:rw({name:"int32",serialize:function(e,t){e.pushUint32(nw(t,0|t))},deserialize:function(e){return 0|e.getUint32()}}),varuint32:rw({name:"varuint32",
serialize:function(e,t){e.pushVaruint32(nw(t,t>>>0))},deserialize:function(e){return e.getVaruint32()}}),varint32:rw({name:"varint32",serialize:function(e,t){e.pushVarint32(nw(t,0|t))},deserialize:function(e){return e.getVarint32()}}),uint128:rw({name:"uint128",serialize:function(e,t){e.pushArray(a_(16,""+t))},deserialize:function(e){return o_(e.getUint8Array(16))}}),int128:rw({name:"int128",serialize:function(e,t){e.pushArray(s_(16,""+t))},deserialize:function(e){return c_(e.getUint8Array(16))}
}),float32:rw({name:"float32",serialize:function(e,t){e.pushFloat32(t)},deserialize:function(e){return e.getFloat32()}}),float64:rw({name:"float64",serialize:function(e,t){e.pushFloat64(t)},deserialize:function(e){return e.getFloat64()}}),float128:rw({name:"float128",serialize:function(e,t){e.pushUint8ArrayChecked(j_(t),16)},deserialize:function(e){return q_(e.getUint8Array(16))}}),bytes:rw({name:"bytes",serialize:function(e,t){
t instanceof Uint8Array||Array.isArray(t)?e.pushBytes(t):e.pushBytes(j_(t))},deserialize:function(e,t){return t&&t.options.bytesAsUint8Array?e.getBytes():q_(e.getBytes())}}),string:rw({name:"string",serialize:function(e,t){e.pushString(t)},deserialize:function(e){return e.getString()}}),name:rw({name:"name",serialize:function(e,t){e.pushName(t)},deserialize:function(e){return e.getName()}}),time_point:rw({name:"time_point",serialize:function(e,t){e.pushNumberAsUint64(N_(t))},
deserialize:function(e){return T_(e.getUint64AsNumber())}}),time_point_sec:rw({name:"time_point_sec",serialize:function(e,t){e.pushUint32(P_(t))},deserialize:function(e){return R_(e.getUint32())}}),block_timestamp_type:rw({name:"block_timestamp_type",serialize:function(e,t){e.pushUint32(O_(t))},deserialize:function(e){return B_(e.getUint32())}}),symbol_code:rw({name:"symbol_code",serialize:function(e,t){e.pushSymbolCode(t)},deserialize:function(e){return e.getSymbolCode()}}),symbol:rw({
name:"symbol",serialize:function(e,t){e.pushSymbol(U_(t))},deserialize:function(e){return C_(e.getSymbol())}}),asset:rw({name:"asset",serialize:function(e,t){e.pushAsset(t)},deserialize:function(e){return e.getAsset()}}),checksum160:rw({name:"checksum160",serialize:function(e,t){e.pushUint8ArrayChecked(j_(t),20)},deserialize:function(e){return q_(e.getUint8Array(20))}}),checksum256:rw({name:"checksum256",serialize:function(e,t){e.pushUint8ArrayChecked(j_(t),32)},deserialize:function(e){
return q_(e.getUint8Array(32))}}),checksum512:rw({name:"checksum512",serialize:function(e,t){e.pushUint8ArrayChecked(j_(t),64)},deserialize:function(e){return q_(e.getUint8Array(64))}}),public_key:rw({name:"public_key",serialize:function(e,t){e.pushPublicKey(t)},deserialize:function(e){return e.getPublicKey()}}),private_key:rw({name:"private_key",serialize:function(e,t){e.pushPrivateKey(t)},deserialize:function(e){return e.getPrivateKey()}}),signature:rw({name:"signature",
serialize:function(e,t){e.pushSignature(t)},deserialize:function(e){return e.getSignature()}})}));return e.set("extended_asset",rw({name:"extended_asset",baseName:"",fields:[{name:"quantity",typeName:"asset",type:e.get("asset")},{name:"contract",typeName:"name",type:e.get("name")}],serialize:L_,deserialize:K_})),e},aw=function(){var e=iw();return e.set("extensions_entry",rw({name:"extensions_entry",baseName:"",fields:[{name:"tag",typeName:"uint16",type:void 0},{name:"value",typeName:"bytes",
type:void 0}],serialize:L_,deserialize:K_})),e.set("type_def",rw({name:"type_def",baseName:"",fields:[{name:"new_type_name",typeName:"string",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:L_,deserialize:K_})),e.set("field_def",rw({name:"field_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:L_,deserialize:K_})),e.set("struct_def",rw({name:"struct_def",baseName:"",fields:[{name:"name",
typeName:"string",type:void 0},{name:"base",typeName:"string",type:void 0},{name:"fields",typeName:"field_def[]",type:void 0}],serialize:L_,deserialize:K_})),e.set("action_def",rw({name:"action_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"type",typeName:"string",type:void 0},{name:"ricardian_contract",typeName:"string",type:void 0}],serialize:L_,deserialize:K_})),e.set("table_def",rw({name:"table_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{
name:"index_type",typeName:"string",type:void 0},{name:"key_names",typeName:"string[]",type:void 0},{name:"key_types",typeName:"string[]",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:L_,deserialize:K_})),e.set("clause_pair",rw({name:"clause_pair",baseName:"",fields:[{name:"id",typeName:"string",type:void 0},{name:"body",typeName:"string",type:void 0}],serialize:L_,deserialize:K_})),e.set("error_message",rw({name:"error_message",baseName:"",fields:[{name:"error_code",
typeName:"uint64",type:void 0},{name:"error_msg",typeName:"string",type:void 0}],serialize:L_,deserialize:K_})),e.set("variant_def",rw({name:"variant_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"types",typeName:"string[]",type:void 0}],serialize:L_,deserialize:K_})),e.set("action_result",rw({name:"action_result",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"result_type",typeName:"string",type:void 0}],serialize:L_,deserialize:K_})),
e.set("primary_key_index_def",rw({name:"primary_key_index_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:L_,deserialize:K_})),e.set("secondary_index_def",rw({name:"secondary_index_def",baseName:"",fields:[{name:"type",typeName:"string",type:void 0}],serialize:L_,deserialize:K_})),e.set("secondary_indices",rw({name:"secondary_indices",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{
name:"secondary_index_def",typeName:"secondary_index_def",type:void 0}],serialize:X_,deserialize:Q_})),e.set("kv_table_entry_def",rw({name:"kv_table_entry_def",baseName:"",fields:[{name:"type",typeName:"string",type:void 0},{name:"primary_index",typeName:"primary_key_index_def",type:void 0},{name:"secondary_indices",typeName:"secondary_indices",type:void 0}],serialize:L_,deserialize:K_})),e.set("kv_table",rw({name:"kv_table",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{
name:"kv_table_entry_def",typeName:"kv_table_entry_def",type:void 0}],serialize:X_,deserialize:Q_})),e.set("abi_def",rw({name:"abi_def",baseName:"",fields:[{name:"version",typeName:"string",type:void 0},{name:"types",typeName:"type_def[]",type:void 0},{name:"structs",typeName:"struct_def[]",type:void 0},{name:"actions",typeName:"action_def[]",type:void 0},{name:"tables",typeName:"table_def[]",type:void 0},{name:"ricardian_clauses",typeName:"clause_pair[]",type:void 0},{name:"error_messages",
typeName:"error_message[]",type:void 0},{name:"abi_extensions",typeName:"extensions_entry[]",type:void 0},{name:"variants",typeName:"variant_def[]$",type:void 0},{name:"action_results",typeName:"action_result[]$",type:void 0},{name:"kv_tables",typeName:"kv_table$",type:void 0}],serialize:L_,deserialize:K_})),e},sw=function(){var e=iw();return e.set("resource_payer",rw({name:"resource_payer",baseName:"",fields:[{name:"payer",typeName:"name",type:void 0},{name:"max_net_bytes",typeName:"uint64",
type:void 0},{name:"max_cpu_us",typeName:"uint64",type:void 0},{name:"max_memory_bytes",typeName:"uint64",type:void 0}],serialize:L_,deserialize:K_})),e},ow=function(){var e=iw();return e.set("permission_level",rw({name:"permission_level",baseName:"",fields:[{name:"actor",typeName:"name",type:void 0},{name:"permission",typeName:"name",type:void 0}],serialize:L_,deserialize:K_})),e.set("action",rw({name:"action",baseName:"",fields:[{name:"account",typeName:"name",type:void 0},{name:"name",
typeName:"name",type:void 0},{name:"authorization",typeName:"permission_level[]",type:void 0},{name:"data",typeName:"bytes",type:void 0}],serialize:L_,deserialize:K_})),e.set("extension",rw({name:"extension",baseName:"",fields:[{name:"type",typeName:"uint16",type:void 0},{name:"data",typeName:"bytes",type:void 0}],serialize:ew,deserialize:tw})),e.set("transaction_header",rw({name:"transaction_header",baseName:"",fields:[{name:"expiration",typeName:"time_point_sec",type:void 0},{
name:"ref_block_num",typeName:"uint16",type:void 0},{name:"ref_block_prefix",typeName:"uint32",type:void 0},{name:"max_net_usage_words",typeName:"varuint32",type:void 0},{name:"max_cpu_usage_ms",typeName:"uint8",type:void 0},{name:"delay_sec",typeName:"varuint32",type:void 0}],serialize:L_,deserialize:K_})),e.set("transaction",rw({name:"transaction",baseName:"transaction_header",fields:[{name:"context_free_actions",typeName:"action[]",type:void 0},{name:"actions",typeName:"action[]",type:void 0
},{name:"transaction_extensions",typeName:"extension",type:void 0}],serialize:L_,deserialize:K_})),e},cw=function e(t,r){var n=t.get(r);if(n&&n.aliasOfName)return e(t,n.aliasOfName);if(n)return n;if(r.endsWith("[]"))return rw({name:r,arrayOf:e(t,r.substr(0,r.length-2)),serialize:Z_,deserialize:H_});if(r.endsWith("?"))return rw({name:r,optionalOf:e(t,r.substr(0,r.length-1)),serialize:$_,deserialize:J_});if(r.endsWith("$"))return rw({name:r,extensionOf:e(t,r.substr(0,r.length-1)),serialize:G_,
deserialize:Y_});throw new Error("Unknown type: "+r)},fw=function(e,t){var r=new Map(e);if(t&&t.types)for(var n,i=Gg(t.types);!(n=i()).done;){var a=n.value,s=a.new_type_name;r.set(s,rw({name:s,aliasOfName:a.type}))}if(t&&t.structs)for(var o,c=Gg(t.structs);!(o=c()).done;){var f=o.value,d=f.name;r.set(d,rw({name:d,baseName:f.base,fields:f.fields.map((function(e){return{name:e.name,typeName:e.type,type:void 0}})),serialize:L_,deserialize:K_}))}
if(t&&t.variants)for(var u,h=Gg(t.variants);!(u=h()).done;){var l=u.value,p=l.name;r.set(p,rw({name:p,fields:l.types.map((function(e){return{name:e,typeName:e,type:void 0}})),serialize:V_,deserialize:W_}))}for(var b,y=Gg(r);!(b=y()).done;){var m=b.value[1];m.baseName&&(m.base=cw(r,m.baseName));for(var v,g=Gg(m.fields);!(v=g()).done;){var _=v.value;_.type=cw(r,_.typeName)}}return r},dw=function(e,t){
var r,n=e.header?e.header.timestamp:e.timestamp,i=parseInt((r=e.id.substr(16,8)).substr(6,2)+r.substr(4,2)+r.substr(2,2)+r.substr(0,2),16);return{expiration:R_(P_(n)+t),ref_block_num:65535&e.block_num,ref_block_prefix:i}},uw=function(e,t,r,n){var i=e.actions.get(r);if(!i)throw new Error("Unknown action "+r+" in contract "+t);var a=new E_;return i.serialize(a,n),q_(a.asUint8Array())},hw=function(e,t,r,n,i){return{account:t,name:r,authorization:n,data:uw(e,t,r,i)}},lw=function(e,t,r,n){
var i=e.actions.get(r);if("string"==typeof n&&(n=j_(n)),!i)throw new Error("Unknown action "+r+" in contract "+t);var a=new E_;return a.pushArray(n),i.deserialize(a)},pw=function(e,t,r,n,i){return{account:t,name:r,authorization:n,data:lw(e,t,r,i)}},bw=function(e,t){var r,n;if(null===t){var i=[Aw.null_t,t];r=i[0],n=i[1]}else if("string"==typeof t){var a=[Aw.string,t];r=a[0],n=a[1]}else if("number"==typeof t){var s=[Aw.int32,t];r=s[0],n=s[1]}else if(t instanceof Uint8Array){var o=[Aw.bytes,t]
;r=o[0],n=o[1]}else if(Array.isArray(t)){var c=[Aw.any_array,t];r=c[0],n=c[1]}else if(2===Object.keys(t).length&&t.hasOwnProperty("type")&&t.hasOwnProperty("value")){var f=[Aw[t.type],t.value];r=f[0],n=f[1]}else{var d=[Aw.any_object,t];r=d[0],n=d[1]}e.pushVaruint32(r.index),r.type.serialize(e,n)},yw=function(e,t){var r=e.getVaruint32();if(r>=kw.length)throw new Error("Tried to deserialize unknown anyvar type");var n=kw[r],i=n.type.deserialize(e,t)
;return t&&t.options.useShortForm||n.useShortForm?i:{type:n.type.name,value:i}},mw=function(e){return yw(e,new M_({useShortForm:!0}))},vw=function(e,t){var r=Object.entries(t);e.pushVaruint32(r.length);for(var n=0,i=r;n<i.length;n++){var a=i[n],s=a[1];e.pushString(a[0]),bw(e,s)}},gw=function(e,t){for(var r=e.getVaruint32(),n={},i=0;i<r;++i){var a=e.getString();if(a in n){for(var s=1;a+"_"+s in n;)++s;a=a+"_"+s}n[a]=yw(e,t)}return n},_w=function(e,t){e.pushVaruint32(t.length)
;for(var r,n=Gg(t);!(r=n()).done;)bw(e,r.value)},ww=function(e,t){for(var r=e.getVaruint32(),n=[],i=0;i<r;++i)n.push(yw(e,t));return n},xw=function(){var e=iw();return e.set("null_t",rw({name:"null_t",serialize:function(e,t){},deserialize:function(e,t){}})),e.set("any_object",rw({name:"any_object",serialize:vw,deserialize:gw})),e.set("any_array",rw({name:"any_array",serialize:_w,deserialize:ww})),e}(),Aw={null_t:{index:0,useShortForm:!0,type:xw.get("null_t")},int64:{index:1,useShortForm:!1,
type:xw.get("int64")},uint64:{index:2,useShortForm:!1,type:xw.get("uint64")},int32:{index:3,useShortForm:!0,type:xw.get("int32")},uint32:{index:4,useShortForm:!1,type:xw.get("uint32")},int16:{index:5,useShortForm:!1,type:xw.get("int16")},uint16:{index:6,useShortForm:!1,type:xw.get("uint16")},int8:{index:7,useShortForm:!1,type:xw.get("int8")},uint8:{index:8,useShortForm:!1,type:xw.get("uint8")},time_point:{index:9,useShortForm:!1,type:xw.get("time_point")},checksum256:{index:10,useShortForm:!1,
type:xw.get("checksum256")},float64:{index:11,useShortForm:!1,type:xw.get("float64")},string:{index:12,useShortForm:!0,type:xw.get("string")},any_object:{index:13,useShortForm:!0,type:xw.get("any_object")},any_array:{index:14,useShortForm:!0,type:xw.get("any_array")},bytes:{index:15,useShortForm:!1,type:xw.get("bytes")},symbol:{index:16,useShortForm:!1,type:xw.get("symbol")},symbol_code:{index:17,useShortForm:!1,type:xw.get("symbol_code")},asset:{index:18,useShortForm:!1,type:xw.get("asset")}
},kw=[Aw.null_t,Aw.int64,Aw.uint64,Aw.int32,Aw.uint32,Aw.int16,Aw.uint16,Aw.int8,Aw.uint8,Aw.time_point,Aw.checksum256,Aw.float64,Aw.string,Aw.any_object,Aw.any_array,Aw.bytes,Aw.symbol,Aw.symbol_code,Aw.asset],Sw=function e(t,r){var n,i,a;if("string"==typeof r)n=r;else if(Array.isArray(r)&&2===r.length)n=r[0],a=r[1];else if(Array.isArray(r)&&3===r.length)n=r[0],i=r[1],a=r[2];else{var s=[r.method,r.arg,r.filter];n=s[0],i=s[1],a=s[2]}if(t.pushString(n),void 0===i?t.push(0):(t.push(1),bw(t,i)),
void 0===a)t.push(0);else{t.pushVaruint32(a.length);for(var o,c=Gg(a);!(o=c()).done;)e(t,o.value)}};function Mw(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}var Ew={__proto__:null,SerializerState:M_,SerialBuffer:E_,supportedAbiVersion:z_,dateToTimePoint:N_,timePointToDate:T_,dateToTimePointSec:P_,timePointSecToDate:R_,dateToBlockTimestamp:O_,blockTimestampToDate:B_,stringToSymbol:U_,symbolToString:C_,arrayToHex:q_,hexToUint8Array:j_,createInitialTypes:iw,
createAbiTypes:aw,createTransactionExtensionTypes:sw,createTransactionTypes:ow,getType:cw,getTypesFromAbi:fw,transactionHeader:dw,serializeActionData:uw,serializeAction:hw,deserializeActionData:lw,deserializeAction:pw,serializeAnyvar:bw,deserializeAnyvar:yw,deserializeAnyvarShort:mw,serializeAnyObject:vw,deserializeAnyObject:gw,serializeAnyArray:_w,deserializeAnyArray:ww,serializeQuery:Sw,b64tob64u:Mw,createBaseResolvedTransaction:function(){return{
expiration:(new Date).toISOString().slice(0,-1),ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:[],transaction_extensions:[]}}},zw=function(e){return new Tg.ec(e===Yg.k1?"secp256k1":"p256")},Iw=function(e){return Rg.sha256().update(e).digest("hex")},Nw=function(){function e(e,t){this.key=void 0,this.ec=void 0,this.key=e,this.ec=t}e.fromString=function(t,r){var n=b_(t);return r||(r=zw(n.type)),new e(n,r)},
e.fromElliptic=function(t,r,n){var i=t.getPublic().getX().toArray("be",32),a=t.getPublic().getY().toArray("be",32);return n||(n=zw(r)),new e({type:r,data:new Uint8Array([1&a[31]?3:2].concat(i))},n)};var t=e.prototype;return t.toString=function(){return m_(this.key)},t.toLegacyString=function(e){return y_(this.key,e)},t.toElliptic=function(){return this.ec.keyPair({pub:Buffer.from(this.key.data)})},t.getType=function(){return this.key.type},t.isValid=function(){try{
return this.toElliptic().validate().result}catch(e){return!1}},e}(),Tw=wi.exports,Pw=function(){function e(e,t){this.signature=void 0,this.ec=void 0,this.signature=e,this.ec=t}e.fromString=function(t,r){var n=A_(t);return r||(r=zw(n.type)),new e(n,r)},e.fromElliptic=function(t,r,n){t.recoveryParam||(t.recoveryParam=0);var i,a=t.r.toArray("be",32),s=t.s.toArray("be",32);r===Yg.k1||r===Yg.r1?(i=t.recoveryParam+27,t.recoveryParam<=3&&(i+=4)):r===Yg.wa&&(i=t.recoveryParam)
;var o=new Uint8Array([i].concat(a,s));return n||(n=zw(r)),new e({type:r,data:o},n)};var t=e.prototype;return t.toElliptic=function(){var e,t=new Tw(this.signature.data.slice(1,33)),r=new Tw(this.signature.data.slice(33,65));return this.signature.type===Yg.k1||this.signature.type===Yg.r1?(e=this.signature.data[0]-27)>3&&(e-=4):e=this.signature.type===Yg.wa?this.signature.data[0]:0,{r:t,s:r,recoveryParam:3&e}},t.toString=function(){return k_(this.signature)},t.toBinary=function(){
return this.signature.data},t.getType=function(){return this.signature.type},t.verify=function(e,t,r,n){void 0===r&&(r=!0),void 0===n&&(n="utf8"),r&&("string"==typeof e&&(e=Buffer.from(e,n)),e=this.ec.hash().update(e).digest());var i=this.toElliptic(),a=t.toElliptic();return this.ec.verify(e,i,a,n)},t.recover=function(e,t,r){void 0===t&&(t=!0),void 0===r&&(r="utf8"),t&&("string"==typeof e&&(e=Buffer.from(e,r)),e=this.ec.hash().update(e).digest())
;var n=this.toElliptic(),i=this.ec.recoverPubKey(e,n,n.recoveryParam,r),a=this.ec.keyFromPublic(i);return Nw.fromElliptic(a,this.getType(),this.ec)},e}(),Rw=function(){function e(e,t){this.key=void 0,this.ec=void 0,this.key=e,this.ec=t}e.fromElliptic=function(t,r,n){return n||(n=zw(r)),new e({type:r,data:t.getPrivate().toArrayLike(Buffer,"be",32)},n)},e.fromString=function(t,r){var n=__(t);return r||(r=zw(n.type)),new e(n,r)};var t=e.prototype;return t.toElliptic=function(){
return this.ec.keyFromPrivate(this.key.data)},t.toLegacyString=function(){return w_(this.key)},t.toString=function(){return x_(this.key)},t.getType=function(){return this.key.type},t.getPublicKey=function(){var e=this.toElliptic();return Nw.fromElliptic(e,this.getType(),this.ec)},t.sign=function(e,t,r){var n=this;void 0===t&&(t=!0),void 0===r&&(r="utf8"),t&&("string"==typeof e&&(e=Buffer.from(e,r)),e=this.ec.hash().update(e).digest());var i,a,s=0,o=function(t){var r=n.toElliptic().sign(e,t)
;return Pw.fromElliptic(r,n.getType(),n.ec)};if(this.key.type===Yg.k1)do{i=o({canonical:!0,pers:[++s]})}while(128&(a=i.toBinary())[1]||0===a[1]&&!(128&a[2])||128&a[33]||!(0!==a[33]||128&a[34]));else i=o({canonical:!0});return i},t.isValid=function(){try{return this.toElliptic().validate().result}catch(e){return!1}},e}(),Ow={__proto__:null,generateKeyPair:function(e,t){if(void 0===t&&(t={}),
!t.secureEnv)throw new Error("Key generation is completely INSECURE in production environments in the browser. If you are absolutely certain this does NOT describe your environment, set `secureEnv` in your options to `true`.  If this does describe your environment and you set `secureEnv` to `true`, YOU DO SO AT YOUR OWN RISK AND THE RISK OF YOUR USERS.");var r,n=(r=new Tg.ec(e===Yg.k1?"secp256k1":"p256")).genKeyPair(t.ecOptions);return{publicKey:Nw.fromElliptic(n,e,r),
privateKey:Rw.fromElliptic(n,e,r)}},PrivateKey:Rw,PublicKey:Nw,Signature:Pw,constructElliptic:zw},Bw=new Tg.ec("secp256k1"),Uw=function(e,t,r,n){void 0===n&&(n=Bw);var i=Buffer.concat([Buffer.from(e,"hex"),Buffer.from(t),Buffer.from(r?new Uint8Array(n.hash().update(r).digest()):new Uint8Array(32))]);return n.hash().update(i).digest()},Cw=function(){function e(e){this.keys=new Map,this.availableKeys=[];for(var t,r=Gg(e);!(t=r()).done;){
var n=Rw.fromString(t.value),i=n.toElliptic(),a=n.getPublicKey().toString();this.keys.set(a,i),this.availableKeys.push(a)}}var t=e.prototype;return t.getAvailableKeys=function(){var e=jg(Cg().mark((function e(){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.availableKeys);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.sign=function(){var e=jg(Cg().mark((function e(t){
var r,n,i,a,s,o,c,f,d,u,h,l;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.requiredKeys,a=Uw(t.chainId,n=t.serializedTransaction,i=t.serializedContextFreeData,Bw),s=[],o=Gg(r);!(c=o()).done;)d=Nw.fromString(f=c.value),(u=this.keys.get(v_(f)))&&(h=Rw.fromElliptic(u,d.getType()),l=h.sign(a,!1),s.push(l.toString()));return e.abrupt("return",{signatures:s,serializedTransaction:n,serializedContextFreeData:i});case 5:case"end":return e.stop()}}),e,this)})))
;return function(t){return e.apply(this,arguments)}}(),e}(),qw=function(){function e(e){this.rpc=void 0,this.authorityProvider=void 0,this.abiProvider=void 0,this.signatureProvider=void 0,this.abiTypes=void 0,this.transactionTypes=void 0,this.contracts=new Map,this.cachedAbis=new Map,this.crypto=void 0,this.recoverPersonalSignature=void 0,this.transactionExtensions=[{id:1,type:"resource_payer",keys:["payer","max_net_bytes","max_cpu_us","max_memory_bytes"]}],this.rpc=e.rpc,
this.authorityProvider=e.authorityProvider||e.rpc,this.abiProvider=e.abiProvider||e.rpc,e.signatureProvider&&(this.signatureProvider=e.signatureProvider),this.abiTypes=fw(aw()),this.transactionTypes=fw(ow()),this.crypto=e.crypto||"undefined"!=typeof window&&window&&window.crypto||hr&&hr.crypto,this.recoverPersonalSignature=e.recoverPersonalSignature}var t=e.prototype;return t.getCrypto=function(){
if(!this.crypto)throw new Error("No 'crypto' module found. On nodejs, do const { Crypto } = require('@peculiar/webcrypto'); const crypto = new Crypto; new Api({ rpc, crypto });");return this.crypto},t.getRecoverPersonalSignature=function(){if(!this.recoverPersonalSignature)throw new Error("No 'recoverPersonalSignature' function found. Do const { recoverPersonalSignature } = require('eth-sig-util'); new Api({ rpc, recoverPersonalSignature });");return this.recoverPersonalSignature},
t.rawAbiToJson=function(e){var t=new E_({array:e});if(!z_(t.getString()))throw new Error("Unsupported abi version");return t.restartRead(),this.abiTypes.get("abi_def").deserialize(t)},t.jsonToRawAbi=function(e){var t=new E_;if(this.abiTypes.get("abi_def").serialize(t,e),!z_(t.getString()))throw new Error("Unsupported abi version");return t.asUint8Array()},t.getCachedAbi=function(){var e=jg(Cg().mark((function e(t,r){var n,i,a;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
if(void 0===r&&(r=!1),r||!this.cachedAbis.get(t)){e.next=3;break}return e.abrupt("return",this.cachedAbis.get(t));case 3:return e.prev=3,e.next=6,this.abiProvider.getRawAbi(t);case 6:a=this.rawAbiToJson(i=e.sent.abi),n={rawAbi:i,abi:a},e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(3),e.t0.message="fetching abi for "+t+": "+e.t0.message,e.t0;case 15:if(n){e.next=17;break}throw new Error("Missing abi for "+t);case 17:return this.cachedAbis.set(t,n),e.abrupt("return",n);case 19:case"end":
return e.stop()}}),e,this,[[3,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getAbi=function(){var e=jg(Cg().mark((function e(t,r){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,this.getCachedAbi(t,r);case 3:return e.abrupt("return",e.sent.abi);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.getTransactionAbis=function(){var e=jg(Cg().mark((function e(t,r){
var n,i,a,s,o=this;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),n=(t.context_free_actions||[]).concat(t.actions),i=n.map((function(e){return e.account})),a=new Set(i),s=Array.from(a).map(function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getCachedAbi(t,r);case 2:return e.abrupt("return",{accountName:t,abi:e.sent.rawAbi});case 5:case"end":return e.stop()}}),e)})))
;return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(s));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getContract=function(){var e=jg(Cg().mark((function e(t,r){var n,i,a,s,o,c,f;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=!1),r||!this.contracts.get(t)){e.next=3;break}return e.abrupt("return",this.contracts.get(t));case 3:return e.next=5,this.getAbi(t,r);case 5:
for(n=e.sent,i=fw(iw(),n),a=new Map,s=Gg(n.actions);!(o=s()).done;)a.set((c=o.value).name,cw(i,c.type));return this.contracts.set(t,f={types:i,actions:a}),e.abrupt("return",f);case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.serialize=function(e,t,r){this.transactionTypes.get(t).serialize(e,r)},t.deserialize=function(e,t){return this.transactionTypes.get(t).deserialize(e)},t.serializeTransaction=function(e){var t=new E_
;return this.serialize(t,"transaction",Object.assign({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],transaction_extensions:[]},e)),t.asUint8Array()},t.serializeContextFreeData=function(e){if(e&&e.length){var t=new E_;t.pushVaruint32(e.length);for(var r,n=Gg(e);!(r=n()).done;)t.pushBytes(r.value);return t.asUint8Array()}},t.deserializeTransaction=function(e){var t=new E_;return t.pushArray(e),this.deserialize(t,"transaction")},
t.serializeTransactionExtensions=function(e){var t=[];if(e.resource_payer){var r=new E_;fw(sw()).get("resource_payer").serialize(r,e.resource_payer),t=[].concat(t,[[1,q_(r.asUint8Array())]])}return t},t.deserializeTransactionExtensions=function(e){var t=this,r={};return e.forEach((function(e){var n=t.transactionExtensions.find((function(t){return t.id===e[0]}));if(void 0===n)throw new Error("Transaction Extension could not be determined: "+e);var i=fw(sw()),a=new E_;a.pushArray(j_(e[1]))
;var s=i.get(n.type).deserialize(a);1===e[0]&&(s.max_net_bytes=Number(s.max_net_bytes),s.max_cpu_us=Number(s.max_cpu_us),s.max_memory_bytes=Number(s.max_memory_bytes),r.resource_payer=s)})),r},t.deleteTransactionExtensionObjects=function(e){return delete e.resource_payer,e},t.serializeActions=function(){var e=jg(Cg().mark((function e(t){var r=this;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=jg(Cg().mark((function e(t){
var n,i,a,s,o;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,i=t.name,a=t.authorization,s=t.data,e.next=3,r.getContract(n);case 3:if(o=e.sent,"object"==typeof s){e.next=6;break}return e.abrupt("return",t);case 6:return e.abrupt("return",hw(o,n,i,a,s));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){
return e.apply(this,arguments)}}(),t.deserializeActions=function(){var e=jg(Cg().mark((function e(t){var r=this;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=jg(Cg().mark((function e(t){var n,i,a,s;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,i=t.name,a=t.authorization,s=t.data,e.next=3,r.getContract(n);case 3:return e.abrupt("return",pw(e.sent,n,i,a,s));case 5:case"end":return e.stop()
}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deserializeActionsSync=function(){var e=jg(Cg().mark((function e(t){var r,n,i,a,s,o,c,f;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===t&&(t=[]),r=[],n=Gg(t);case 3:if((i=n()).done){e.next=11;break}return s=(a=i.value).account,o=a.name,c=a.authorization,f=a.data,
e.next=7,this.getContract(s);case 7:r.push(pw(e.sent,s,o,c,f));case 9:e.next=3;break;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.deserializeTransactionWithActions=function(){var e=jg(Cg().mark((function e(t){var r,n;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t=j_(t)),r=this.deserializeTransaction(t),e.next=4,
this.deserializeActionsSync(r.context_free_actions);case 4:return n=e.sent,e.next=7,this.deserializeActionsSync(r.actions);case 7:return e.abrupt("return",Object.assign({},r,{context_free_actions:n,actions:e.sent}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.deflateSerializedArray=function(e){return Ng.deflate(e,{level:9})},t.inflateSerializedArray=function(e){return Ng.inflate(e)},t.transact=function(){
var e=jg(Cg().mark((function e(t,r){var n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_,w;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(i=(n=void 0===r?{}:r).broadcast)||i,o=void 0===(s=n.sign)||s,c=n.readOnlyTrx,f=n.returnFailureTraces,d=n.requiredKeys,u=n.compression,h=n.blocksBehind,l=n.useLastIrreversible,p=n.expireSeconds,b=n.transactionHeader,e.next=3,this.rpc.get_info();case 3:if(y=e.sent,b){e.next=24;break}if("number"!=typeof h||!l){e.next=10;break}
throw new Error("Use either blocksBehind or useLastIrreversible");case 10:if("number"==typeof h||l){e.next=14;break}throw new Error("Must provide one blocksBehind or useLastIrreversible");case 14:if(p){e.next=18;break}throw new Error("Must provide expireSeconds");case 18:return e.next=20,this.generateTapos(y,t,h,l,p);case 20:b=e.sent;case 22:if(this.hasRequiredTaposFields(b)){e.next=24;break}throw new Error("Required configuration or TAPOS fields are not present");case 24:return e.next=26,
this.getTransactionAbis(t);case 26:return m=e.sent,e.t0=Object,e.t1={},e.t2=b,e.next=32,this.serializeTransactionExtensions(t);case 32:return e.t3=e.sent,e.next=35,this.serializeActions(t.context_free_actions||[]);case 35:return e.t4=e.sent,e.next=38,this.serializeActions(t.actions);case 38:if(e.t5=e.sent,e.t6={transaction_extensions:e.t3,context_free_actions:e.t4,actions:e.t5},t=e.t0.assign.call(e.t0,e.t1,e.t2,e.t6),t=this.deleteTransactionExtensionObjects(t),v=this.serializeTransaction(t),
g=this.serializeContextFreeData(t.context_free_data),_={serializedTransaction:v,serializedContextFreeData:g,signatures:[]},!o){e.next=58;break}if(this.signatureProvider){e.next=48;break}throw new Error("No signature provider available");case 48:if(d){e.next=55;break}return e.next=51,this.signatureProvider.getAvailableKeys();case 51:return w=e.sent,e.next=54,this.authorityProvider.getRequiredKeys({transaction:t,availableKeys:w});case 54:d=e.sent;case 55:return e.next=57,
this.signatureProvider.sign({chainId:y.chain_id,requiredKeys:d,serializedTransaction:v,serializedContextFreeData:g,abis:m});case 57:_=e.sent;case 58:if(!a){e.next=62;break}if(!u){e.next=61;break}return e.abrupt("return",this.pushCompressedSignedTransaction(_,c,f));case 61:return e.abrupt("return",this.pushSignedTransaction(_,c,f));case 62:return e.abrupt("return",Object.assign({},_,{transactionHeader:b}));case 63:case"end":return e.stop()}}),e,this)})));return function(t,r){
return e.apply(this,arguments)}}(),t.transactWithDelay=function(){var e=jg(Cg().mark((function e(t,r,n){var i,a,s;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return(a=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e){return a.apply(this,arguments)},
void 0===r&&(r={}),e.next=5,this.transact(t,r);case 5:return s=e.sent,e.next=8,i(n);case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.query=function(){var e=jg(Cg().mark((function e(t,r,n,i){var a,s,o,c,f,d,u,h,l,p,b,y,m;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.sign,s=i.requiredKeys,c=void 0===(o=i.authorization)?[]:o,e.next=3,this.rpc.get_info();case 3:
return f=e.sent,e.next=6,this.tryRefBlockFromGetInfo(f);case 6:if(d=e.sent,u=new E_,Sw(u,n),h=Object.assign({},dw(d,1800),{context_free_actions:[],actions:[{account:t,name:"queryit",authorization:c,data:q_(u.asUint8Array())}]}),l=this.serializeTransaction(h),p=[],!a){e.next=29;break}if(this.signatureProvider){e.next=15;break}throw new Error("No signature provider available");case 15:return e.next=17,this.getTransactionAbis(h);case 17:if(b=e.sent,s){e.next=25;break}return e.next=21,
this.signatureProvider.getAvailableKeys();case 21:return y=e.sent,e.next=24,this.authorityProvider.getRequiredKeys({transaction:h,availableKeys:y});case 24:s=e.sent;case 25:return e.next=27,this.signatureProvider.sign({chainId:f.chain_id,requiredKeys:s,serializedTransaction:l,serializedContextFreeData:void 0,abis:b});case 27:p=e.sent.signatures;case 29:return e.next=31,this.rpc.send_transaction({signatures:p,compression:0,serializedTransaction:l});case 31:if(m=new E_({
array:j_(e.sent.processed.action_traces[0][1].return_value)}),!r){e.next=37;break}return e.abrupt("return",mw(m));case 37:return e.abrupt("return",yw(m));case 38:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),t.pushSignedTransaction=function(){var e=jg(Cg().mark((function e(t,r,n){var i,a,s;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.signatures,a=t.serializedTransaction,s=t.serializedContextFreeData,
void 0===r&&(r=!1),void 0===n&&(n=!1),!r){e.next=5;break}return e.abrupt("return",this.rpc.push_ro_transaction({signatures:i,serializedTransaction:a,serializedContextFreeData:s},n));case 5:return e.abrupt("return",this.rpc.push_transaction({signatures:i,serializedTransaction:a,serializedContextFreeData:s}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.pushCompressedSignedTransaction=function(){var e=jg(Cg().mark((function e(t,r,n){
var i,a,s,o;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.signatures,a=t.serializedContextFreeData,void 0===r&&(r=!1),void 0===n&&(n=!1),s=this.deflateSerializedArray(t.serializedTransaction),o=this.deflateSerializedArray(a||new Uint8Array(0)),!r){e.next=7;break}return e.abrupt("return",this.rpc.push_ro_transaction({signatures:i,compression:1,serializedTransaction:s,serializedContextFreeData:o},n));case 7:return e.abrupt("return",this.rpc.push_transaction({
signatures:i,compression:1,serializedTransaction:s,serializedContextFreeData:o}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.generateTapos=function(){var e=jg(Cg().mark((function e(t,r,n,i,a){var s;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=3),t){e.next=5;break}return e.next=4,this.rpc.get_info();case 4:t=e.sent;case 5:if(!i){e.next=10;break}return e.next=8,this.tryRefBlockFromGetInfo(t)
;case 8:return e.abrupt("return",Object.assign({},dw(e.sent,a),r));case 10:if(!((s=t.head_block_num-n)<=t.last_irreversible_block_num)){e.next=17;break}return e.next=14,this.tryGetBlockInfo(s);case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,this.tryGetBlockHeaderState(s);case 19:e.t0=e.sent;case 20:return e.abrupt("return",Object.assign({},dw(e.t0,a),r));case 22:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),
t.hasRequiredTaposFields=function(e){return!(!e.expiration||"number"!=typeof e.ref_block_num||"number"!=typeof e.ref_block_prefix)},t.tryGetBlockHeaderState=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpc.get_block_header_state(t);case 3:case 10:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,this.tryGetBlockInfo(t);case 11:case"end":return e.stop()}
}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.tryGetBlockInfo=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpc.get_block_info(t);case 3:case 10:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,this.rpc.get_block(t);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),
t.tryRefBlockFromGetInfo=function(){var e=jg(Cg().mark((function e(t){var r;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.hasOwnProperty("last_irreversible_block_id")&&t.hasOwnProperty("last_irreversible_block_num")&&t.hasOwnProperty("last_irreversible_block_time"))){e.next=4;break}return e.abrupt("return",{block_num:t.last_irreversible_block_num,id:t.last_irreversible_block_id,timestamp:t.last_irreversible_block_time});case 4:return e.next=6,
this.tryGetBlockInfo(t.last_irreversible_block_num);case 6:return e.abrupt("return",{block_num:(r=e.sent).block_num,id:r.id,timestamp:r.timestamp});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.with=function(e){return new Dw(this,e)},t.buildTransaction=function(e){var t=new jw(this);return e?e(t):t},t.getAccountKeys=function(){var e=jg(Cg().mark((function e(t,r){var n;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
return e.prev=0,e.next=3,this.rpc.get_account(t);case 3:if(!(n=e.sent.permissions.find((function(e){return e.perm_name===r})))){e.next=8;break}return e.abrupt("return",n.required_auth.keys.map((function(e){return Nw.fromString(e.key).toString()})));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),
t.sha256Digest=function(){var e=jg(Cg().mark((function e(t){var r;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t instanceof Uint8Array?t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength):t,e.t0=Uint8Array,e.next=4,this.getCrypto().subtle.digest("SHA-256",r);case 4:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.matchRsaKeyToSignature=function(){
var e=jg(Cg().mark((function e(t){var r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_,w;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.actor,i=(n=t.transaction.actions[0].data).signature,a=n.nonce,s=n.trx,e.next=4,this.rpc.fetchCredentials(r);case 4:o=(o=e.sent).filter((function(e){return"rsa_public_key"===e.key.key[0]})),c=Gg(o);case 7:if((f=c()).done){e.next=36;break}return d=f.value.key.key[1],u=Mw(Buffer.from(d.exponent,"hex").toString("base64")),
h=Mw(Buffer.from(d.modulus,"hex").toString("base64")),l=JSON.parse(i.client_json),p=new Uint8Array(Pg.toBuffer(l.challenge).buffer),b=new E_,y=this.serializeTransaction(s),b.pushArray(y),b.pushNumberAsUint64(a),e.next=20,this.sha256Digest(b.asUint8Array().slice());case 20:if(m=e.sent,q_(p)===q_(m)){e.next=23;break}return e.abrupt("continue",34);case 23:return e.next=25,this.getCrypto().subtle.importKey("jwk",{kty:"RSA",e:u,n:h,alg:"RS256",ext:!1},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}
},!1,["verify"]);case 25:return v=e.sent,g=j_(i.auth_data),_=j_(Iw(i.client_json)),w=new Uint8Array([].concat(g,_)),e.next=31,this.getCrypto().subtle.verify("RSASSA-PKCS1-v1_5",v,j_(i.signature),w);case 31:if(!e.sent){e.next=34;break}return e.abrupt("return",!0);case 34:e.next=7;break;case 36:return e.abrupt("return",!1);case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.matchEthKeyToSignature=function(){var e=jg(Cg().mark((function e(t){
var r,n,i,a,s,o,c,f,d,u,h,l,p;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.actor,i=(n=t.transaction.actions[0].data).signature,a=n.nonce,s=n.trx,e.next=4,this.rpc.fetchCredentials(r);case 4:o=(o=e.sent).filter((function(e){return"eth_public_key"===e.key.key[0]})),c=Gg(o);case 7:if((f=c()).done){e.next=24;break}return d="0x"+f.value.key.key[1],u=new E_,h=this.serializeTransaction(s),u.pushArray(h),u.pushNumberAsUint64(a),e.next=16,
this.sha256Digest(u.asUint8Array().slice());case 16:if(l=q_(e.sent),p="0x"+i.signature,this.getRecoverPersonalSignature()({data:l,sig:p})!==d){e.next=22;break}return e.abrupt("return",!0);case 22:e.next=7;break;case 24:return e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.matchWaKeyToSignature=function(){var e=jg(Cg().mark((function e(t){var r,n,i,a,s,o,c,f,d,u,h,l,p;return Cg().wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:return r=t.signature,n=t.key,i=t.digest,e.prev=1,a=A_(r),s=new E_({array:a.data}),o=new Pw({type:Yg.r1,data:s.getUint8Array(65)},new Tg.ec("p256")),c=s.getBytes().slice(),f=s.getBytes().slice(),(d=new E_).pushArray(c),e.t0=d,e.next=12,this.sha256Digest(f);case 12:return e.t1=e.sent,e.t0.pushArray.call(e.t0,e.t1),u=o.recover(d.asUint8Array()),h=Nw.fromString(n),l=new E_({array:h.key.data.slice(0,33)}),p=m_({type:Yg.r1,data:l.asUint8Array()}),
e.abrupt("return",u.toString()===p&&o.verify(i,u,!1));case 21:return e.prev=21,e.t2=e.catch(1),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,this,[[1,21]])})));return function(t){return e.apply(this,arguments)}}(),t.checkIfKeysMatchTransaction=function(){var e=jg(Cg().mark((function e(t){var r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_,w,x,A,k,S=this;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.actor,n=t.permission,i=t.transaction,a=t.signatures,s=t.chainId,
i=JSON.parse(JSON.stringify(i)),a=JSON.parse(JSON.stringify(a)),1!==i.actions.length||"webauthn"!==i.actions[0].account||"exec"!==i.actions[0].name||"active"!==n){e.next=32;break}if(1===(o=i.actions[0].data.trx).actions.length){e.next=7;break}return e.abrupt("return",!1);case 7:c=Gg(o.actions);case 8:if((f=c()).done){e.next=19;break}d=Gg(f.value.authorization);case 11:if((u=d()).done){e.next=17;break}if((h=u.value).actor===r&&h.permission===n){e.next=15;break}return e.abrupt("return",!1)
;case 15:e.next=11;break;case 17:e.next=8;break;case 19:if("eth_public_key"!==(l=i.actions[0].data.key.key[0])){e.next=24;break}return e.abrupt("return",this.matchEthKeyToSignature({transaction:i,actor:r}));case 24:if("rsa_public_key"!==l){e.next=28;break}return e.abrupt("return",this.matchRsaKeyToSignature({transaction:i,actor:r}));case 28:return console.log("Key type "+l+" not supported"),e.abrupt("return",!1);case 30:e.next=65;break;case 32:p=Gg(i.actions);case 33:if((b=p()).done){e.next=44
;break}y=Gg(b.value.authorization);case 36:if((m=y()).done){e.next=42;break}if((v=m.value).actor===r&&v.permission===n){e.next=40;break}return e.abrupt("return",!1);case 40:e.next=36;break;case 42:e.next=33;break;case 44:if(s){e.next=49;break}return e.next=47,this.rpc.get_info();case 47:s=e.sent.chain_id;case 49:return e.next=51,this.serializeActions(i.context_free_actions||[]);case 51:return i.context_free_actions=e.sent,e.next=54,this.serializeActions(i.actions);case 54:
return i.actions=e.sent,g=this.serializeTransaction(i),_=this.serializeContextFreeData(i.context_free_data),w=Pw.fromString(a[0]),x=w.getType(),A=Uw(s,g,_),e.next=62,this.getAccountKeys(r,n);case 62:return k=e.sent.some((function(e){var t=Nw.fromString(e);return x===Yg.wa?S.matchWaKeyToSignature({signature:w.toString(),key:t.toString(),digest:A}):[Yg.k1,Yg.r1].includes(x)?w.verify(A,t,!1):(console.log("Key type "+x+" not supported"),!1)})),e.abrupt("return",k);case 65:case"end":return e.stop()}
}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),jw=function(){function e(e){this.api=void 0,this.actions=[],this.contextFreeGroups=[],this.api=e}var t=e.prototype;return t.with=function(e){var t=new Dw(this.api,e);return this.actions.push(t),t},t.associateContextFree=function(e){return this.contextFreeGroups.push(e),this},t.send=function(){var e=jg(Cg().mark((function e(t){var r,n,i;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n=[],
i=this.actions.map((function(e){return e.serializedData})),e.next=5,Promise.all(this.contextFreeGroups.map(function(){var e=jg(Cg().mark((function e(t){var a,s,o,c;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t({cfd:r.length,cfa:n.length}),o=a.contextFreeAction,c=a.contextFreeData,(s=a.action)&&i.push(s),o&&n.push(o),c&&r.push(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return this.contextFreeGroups=[],
this.actions=[],e.next=9,this.api.transact({context_free_data:r,context_free_actions:n,actions:i},t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),Dw=function(){function e(e,t){this.api=void 0,this.accountName=void 0,this.serializedData=void 0,this.api=e,this.accountName=t}return e.prototype.as=function(e){return void 0===e&&(e=[]),new Fw(this,this.api,this.accountName,e&&"string"==typeof e?[{
actor:e,permission:"active"}]:e)},e}(),Fw=function(e,t,r,n){var i=this,a=t.cachedAbis.get(r);if(!a)throw new Error("ABI must be cached before using ActionBuilder, run api.getAbi()");for(var s,o=fw(iw(),a.abi),c=new Map,f=Gg(a.abi.actions);!(s=f()).done;){var d=s.value;c.set(d.name,cw(o,d.type))}c.forEach((function(t,a){var s;Object.assign(i,((s={})[a]=function(){for(var i={},s=arguments.length,f=new Array(s),d=0;d<s;d++)f[d]=arguments[d];f.forEach((function(e,r){i[t.fields[r].name]=e}))
;var u=hw({types:o,actions:c},r,a,n,i);return e.serializedData=u,u},s))}))},Lw={__proto__:null},Kw=function(e){function t(r){var n;return r&&r.error&&r.error.details&&r.error.details.length&&r.error.details[0].message?((n=e.call(this,r.error.details[0].message)||this).json=void 0,n.details=void 0,n.details=r.error.details):r&&r.processed&&r.processed.except&&r.processed.except.message?((n=e.call(this,r.processed.except.message)||this).json=void 0,n.details=void 0,
n.details=r.processed.except):r&&r.result&&r.result.except&&r.result.except.message?((n=e.call(this,r.result.except.message)||this).json=void 0,n.details=void 0,n.details=r.result.except):r?((n=e.call(this,r.message)||this).json=void 0,n.details=void 0):((n=e.call(this,r)||this).json=void 0,n.details=void 0),Object.setPrototypeOf($g(n),t.prototype),n.json=r,$g(n)}return Lg(t,e),t}(Hg(Error));function Vw(){return Ww.apply(this,arguments)}function Ww(){return(Ww=jg(Cg().mark((function e(){
return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.get_table_rows({code:"eosio.proton",table:"kycproviders",scope:"eosio.proton"});case 3:this.validKycProviders=e.sent.rows.reduce((function(e,t){return t.blisted||e.push(t.kyc_provider),e}),[]),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Unable to get KYC Providers.");case 11:case"end":return e.stop()}}),e,this,[[0,8]])})))).apply(this,arguments)}function Zw(e){
return Hw.apply(this,arguments)}function Hw(){return(Hw=jg(Cg().mark((function e(t){var r,n,i,a,s=this;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=["firstname","lastname","birthdate","address"],n=["selfie","frontofid","backofid"],0!==t.length){e.next=4;break}throw new Error("Please enter an account.");case 4:if(0!==this.validKycProviders.length){e.next=7;break}return e.next=7,this.getValidKycProviders();case 7:if(i=[],!Array.isArray(t)){e.next=12;break}i=t,e.next=24
;break;case 12:if("string"!=typeof t){e.next=24;break}return e.prev=13,e.next=16,this.get_table_rows({code:"eosio.proton",table:"usersinfo",scope:"eosio.proton",lower_bound:t,upper_bound:t});case 16:i=e.sent.rows,e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(13),new Error("Account not found!");case 24:return a=i.map((function(e){var t=e.kyc.reduce((function(e,t){return s.validKycProviders.indexOf(t.kyc_provider)>=0&&(e=t.kyc_level.split(",").map((function(e){return e.split(":")[1]
})).concat(e)),e}),[]);return e.isTier1KYCVerified=r.every((function(e){return t.includes(e)})),e.isTier2KYCVerified=e.isTier1KYCVerified&&n.every((function(e){return t.includes(e)})),e.isTier3KYCVerified=!1,e.isLightKYCVerified=e.isTier1KYCVerified,e})),e.abrupt("return",a);case 26:case"end":return e.stop()}}),e,this,[[13,21]])})))).apply(this,arguments)}function $w(e){return Jw.apply(this,arguments)}function Jw(){return(Jw=jg(Cg().mark((function e(t){return Cg().wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get_table_rows({code:"webauthn",scope:"webauthn",table:"credentials",lower_bound:t,upper_bound:t,key_type:"name",index_position:2});case 2:return e.abrupt("return",e.sent.rows);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Gw=function(e){function t(){throw e.call(this),new TypeError("AbortSignal cannot be constructed directly")}return Lg(t,e),Fg(t,[{key:"aborted",get:function(){var e=Yw.get(this)
;if("boolean"!=typeof e)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return e}}]),t}(Ug.EventTarget);Ug.defineEventAttribute(Gw.prototype,"abort");var Yw=new WeakMap;Object.defineProperties(Gw.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Gw.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var Xw=function(){function e(){var e
;Qw.set(this,(e=Object.create(Gw.prototype),Ug.EventTarget.call(e),Yw.set(e,!1),e))}return e.prototype.abort=function(){var e;e=ex(this),!1===Yw.get(e)&&(Yw.set(e,!0),e.dispatchEvent({type:"abort"}))},Fg(e,[{key:"signal",get:function(){return ex(this)}}]),e}(),Qw=new WeakMap;function ex(e){var t=Qw.get(e);if(null==t)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===e?"null":typeof e));return t}Object.defineProperties(Xw.prototype,{signal:{enumerable:!0},
abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Xw.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});var tx="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==hr?hr:void 0;tx&&(void 0===tx.AbortController&&(tx.AbortController=Xw),void 0===tx.AbortSignal&&(tx.AbortSignal=Gw));var rx=function(e){for(var t,r="",n=Gg(e);!(t=n()).done;)r+=("00"+t.value.toString(16)).slice(-2);return r}
;function nx(e,t){return ix.apply(this,arguments)}function ix(){return(ix=jg(Cg().mark((function e(t,r){var n,i,a,s;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timeout,i=new AbortController,a=setTimeout((function(){return i.abort()}),n),e.next=5,Bg(t,Object.assign({},r||{},{signal:i.signal}));case 5:return s=e.sent,clearTimeout(a),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ax=function(){function e(e,t){
void 0===e&&(e=[]),void 0===t&&(t={}),this.initialEndpoints=void 0,this.endpoints=void 0,this.currentEndpoint=void 0,this.validKycProviders=[],this.timeout=5e3,this.isLightKYCVerified=Zw,this.getValidKycProviders=Vw,this.fetchCredentials=$w,t.timeout&&(this.timeout=t.timeout),e=Array.isArray(e)?e:[e],this.initialEndpoints=e.map((function(e){return e.replace(/\/$/,"")})),this.endpoints=this.initialEndpoints.slice(0),this.currentEndpoint="",this.nextEndpoint()}var t=e.prototype
;return t.nextEndpoint=function(){if(this.endpoints.length&&this.currentEndpoint){var e=this.endpoints.shift();this.endpoints=this.endpoints.concat(e||[])}else this.endpoints=this.initialEndpoints;this.currentEndpoint=this.endpoints[0]},t.fetch=function(){var e=jg(Cg().mark((function e(t,r,n,i){var a,s,o;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),void 0===i&&(i=!0),e.prev=2,e.next=5,nx(this.currentEndpoint+t,{body:JSON.stringify(r),method:"POST",
timeout:this.timeout});case 5:return a=e.sent,e.next=8,a.json();case 8:if(!((s=e.sent).processed&&s.processed.except||s.result&&s.result.except||404===s.code)){e.next=11;break}throw new Kw(s);case 11:e.next=24;break;case 13:if(e.prev=13,e.t0=e.catch(2),i&&console.log(e.t0),!(this.endpoints.length>1)){e.next=24;break}if(this.nextEndpoint(),!(n<this.initialEndpoints.length)){e.next=22;break}return e.abrupt("return",this.fetch(t,r,++n));case 22:throw e.t0.isFetchError=!0,new Kw(e.t0);case 24:
if(a&&a.ok){e.next=26;break}throw new Kw(s);case 26:if(!s||!s.head_block_time){e.next=34;break}if(o=new Date(s.head_block_time+"Z").getTime(),!(((new Date).getTime()-o)/1e3>30&&this.endpoints.length>1)){e.next=34;break}if(this.nextEndpoint(),!(n<this.initialEndpoints.length)){e.next=34;break}return e.abrupt("return",this.fetch(t,r,++n));case 34:return e.abrupt("return",s);case 35:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t,r,n,i){return e.apply(this,arguments)}}(),
t.get=function(){var e=jg(Cg().mark((function e(t){var r;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bg(t);case 2:if(!((r=e.sent).status>=400)){e.next=5;break}throw new Error("Bad response from server "+r.status);case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.abi_bin_to_json=function(){var e=jg(Cg().mark((function e(t,r,n){
return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/abi_bin_to_json",{code:t,action:r,binargs:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.abi_json_to_bin=function(){var e=jg(Cg().mark((function e(t,r,n){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/abi_json_to_bin",{code:t,
action:r,args:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.get_abi=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_abi",{account_name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),
t.get_account=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_account",{account_name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_accounts_by_authorizers=function(){var e=jg(Cg().mark((function e(t,r){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,
this.fetch("/v1/chain/get_accounts_by_authorizers",{accounts:t,keys:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.get_activated_protocol_features=function(){var e=jg(Cg().mark((function e(t){var r,n,i,a,s,o;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=void 0===t?{limit:50,search_by_block_num:!1,reverse:!1}:t).limit,i=r.search_by_block_num,a=r.reverse,
s=r.lower_bound,o=r.upper_bound,e.next=3,this.fetch("/v1/chain/get_activated_protocol_features",{lower_bound:s,upper_bound:o,limit:n,search_by_block_num:i,reverse:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_block_header_state=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,
this.fetch("/v1/chain/get_block_header_state",{block_num_or_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_block_info=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_block_info",{block_num:t},0,!1);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))
;return function(t){return e.apply(this,arguments)}}(),t.get_block=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_block",{block_num_or_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_code=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_code",{account_name:t,code_as_wasm:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_code_hash=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_code_hash",{account_name:t});case 2:return e.abrupt("return",e.sent)
;case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_currency_balance=function(){var e=jg(Cg().mark((function e(t,r,n){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_currency_balance",{code:t,account:r,symbol:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),
t.get_currency_stats=function(){var e=jg(Cg().mark((function e(t,r){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_currency_stats",{code:t,symbol:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.get_info=function(){var e=jg(Cg().mark((function e(){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,
this.fetch("/v1/chain/get_info",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.get_producer_schedule=function(){var e=jg(Cg().mark((function e(){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_producer_schedule",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){
return e.apply(this,arguments)}}(),t.get_producers=function(){var e=jg(Cg().mark((function e(t,r,n){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),void 0===r&&(r=""),void 0===n&&(n=50),e.next=5,this.fetch("/v1/chain/get_producers",{json:t,lower_bound:r,limit:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.get_raw_code_and_abi=function(){
var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_raw_code_and_abi",{account_name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getRawAbi=function(){var e=jg(Cg().mark((function e(t){var r,n;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get_raw_abi(t);case 2:
return n=u_((r=e.sent).abi),e.abrupt("return",{accountName:r.account_name,abi:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_raw_abi=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_raw_abi",{account_name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){
return e.apply(this,arguments)}}(),t.get_scheduled_transactions=function(){var e=jg(Cg().mark((function e(t,r,n){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),void 0===r&&(r=""),void 0===n&&(n=50),e.next=5,this.fetch("/v1/chain/get_scheduled_transactions",{json:t,lower_bound:r,limit:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),
t.get_table_rows=function(){var e=jg(Cg().mark((function e(t){var r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=t.json)||r,i=t.code,a=t.scope,s=t.table,c=void 0===(o=t.lower_bound)?"":o,d=void 0===(f=t.upper_bound)?"":f,h=void 0===(u=t.index_position)?1:u,p=void 0===(l=t.key_type)?"":l,y=void 0===(b=t.limit)?10:b,v=void 0!==(m=t.reverse)&&m,_=void 0!==(g=t.show_payer)&&g,e.next=3,
this.fetch("/v1/chain/get_table_rows",{json:n,code:i,scope:a,table:s,lower_bound:c,upper_bound:d,index_position:h,key_type:p,limit:y,reverse:v,show_payer:_});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_kv_table_rows=function(){var e=jg(Cg().mark((function e(t){var r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=t.json)||r,
i=t.code,a=t.table,s=t.index_name,c=void 0===(o=t.encode_type)?"bytes":o,f=t.index_value,d=t.lower_bound,u=t.upper_bound,l=void 0===(h=t.limit)?10:h,b=void 0!==(p=t.reverse)&&p,m=void 0!==(y=t.show_payer)&&y,e.next=3,this.fetch("/v1/chain/get_kv_table_rows",{json:n,code:i,table:a,index_name:s,encode_type:c,index_value:f,lower_bound:d,upper_bound:u,limit:l,reverse:b,show_payer:m});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){
return e.apply(this,arguments)}}(),t.get_table_by_scope=function(){var e=jg(Cg().mark((function e(t){var r,n,i,a,s,o,c,f;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.code,n=t.table,a=void 0===(i=t.lower_bound)?"":i,o=void 0===(s=t.upper_bound)?"":s,f=void 0===(c=t.limit)?10:c,e.next=3,this.fetch("/v1/chain/get_table_by_scope",{code:r,table:n,lower_bound:a,upper_bound:o,limit:f});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)
})));return function(t){return e.apply(this,arguments)}}(),t.getRequiredKeys=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_required_keys",{transaction:t.transaction,available_keys:t.availableKeys});case 2:return e.abrupt("return",g_(e.sent.required_keys));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.push_transaction=function(){
var e=jg(Cg().mark((function e(t){var r,n,i,a,s;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.signatures,i=void 0===(n=t.compression)?0:n,a=t.serializedTransaction,s=t.serializedContextFreeData,e.prev=1,e.next=4,this.fetch("/v1/chain/push_transaction",{signatures:r,compression:i,packed_context_free_data:rx(s||new Uint8Array(0)),packed_trx:rx(a)});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),
e.t0&&e.t0.json&&e.t0.json.error&&"expired_tx_exception"===e.t0.json.error.name&&(e.t0.json.error.message="Transaction Expired: Try Again",this.nextEndpoint()),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),t.push_ro_transaction=function(){var e=jg(Cg().mark((function e(t,r){var n,i,a,s;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signatures,a=void 0===(i=t.compression)?0:i,
s=t.serializedTransaction,void 0===r&&(r=!1),e.next=4,this.fetch("/v1/chain/push_ro_transaction",{transaction:{signatures:n,compression:a,packed_context_free_data:rx(new Uint8Array(0)),packed_trx:rx(s)},return_failure_traces:r});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.push_transactions=function(){var e=jg(Cg().mark((function e(t){var r;return Cg().wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:return r=t.map((function(e){var t=e.compression,r=e.serializedTransaction;return{signatures:e.signatures,compression:void 0===t?0:t,packed_context_free_data:rx(e.serializedContextFreeData||new Uint8Array(0)),packed_trx:rx(r)}})),e.next=3,this.fetch("/v1/chain/push_transactions",r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.send_transaction=function(){
var e=jg(Cg().mark((function e(t){var r,n,i,a,s;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.signatures,i=void 0===(n=t.compression)?0:n,a=t.serializedTransaction,s=t.serializedContextFreeData,e.next=3,this.fetch("/v1/chain/send_transaction",{signatures:r,compression:i,packed_context_free_data:rx(s||new Uint8Array(0)),packed_trx:rx(a)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){
return e.apply(this,arguments)}}(),t.db_size_get=function(){var e=jg(Cg().mark((function e(){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/db_size/get",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.trace_get_block=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,
this.fetch("/v1/trace_api/get_block",{block_num:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.history_get_actions=function(){var e=jg(Cg().mark((function e(t,r,n){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=null),void 0===n&&(n=null),e.next=4,this.fetch("/v1/history/get_actions",{account_name:t,pos:r,offset:n});case 4:return e.abrupt("return",e.sent)
;case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.history_get_transaction=function(){var e=jg(Cg().mark((function e(t,r){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=null),e.next=3,this.fetch("/v1/history/get_transaction",{id:t,block_num_hint:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),
t.history_get_key_accounts=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/history/get_key_accounts",{public_key:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.history_get_controlled_accounts=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
return e.next=2,this.fetch("/v1/history/get_controlled_accounts",{controlling_account:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_nfts_fio_address=function(){var e=jg(Cg().mark((function e(t){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_nfts_fio_address",{fio_address:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":
return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),sx={__proto__:null},ox=function(){function e(){this.keys=new Map}var t=e.prototype;return t.getAvailableKeys=function(){var e=jg(Cg().mark((function e(){return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Array.from(this.keys.keys()));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.sign=function(){
var e=jg(Cg().mark((function e(t){var r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_,w,x,A,k;return Cg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.chainId,n=t.requiredKeys,i=t.serializedTransaction,a=t.serializedContextFreeData,(s=new E_).pushArray(j_(r)),s.pushArray(i),!a){e.next=14;break}return e.t0=s,e.t1=Uint8Array,e.next=9,crypto.subtle.digest("SHA-256",a.buffer);case 9:e.t2=e.sent,e.t3=new e.t1(e.t2),e.t0.pushArray.call(e.t0,e.t3),e.next=15;break;case 14:
s.pushArray(new Uint8Array(32));case 15:return e.t4=Uint8Array,e.next=18,crypto.subtle.digest("SHA-256",s.asUint8Array().slice().buffer);case 18:e.t5=e.sent,o=new e.t4(e.t5),c=[],f=Gg(n);case 22:if((d=f()).done){e.next=67;break}return h=j_(this.keys.get(u=d.value)),e.next=27,navigator.credentials.get({publicKey:{timeout:6e4,allowCredentials:[{id:h,type:"public-key"}],challenge:o.buffer}});case 27:if(l=e.sent,p=new Tg.ec("p256"),b=p.keyFromPublic(b_(u).data.subarray(0,33)).getPublic(),
y=function(e){for(var t=Array.from(e);t.length<32;)t.unshift(0);for(;t.length>32;)if(0!==t.shift())throw new Error("Signature has an r or s that is too big");return new Uint8Array(t)},48===(m=new E_({array:new Uint8Array(l.response.signature)})).get()){e.next=34;break}throw new Error("Signature missing DER prefix");case 34:if(m.get()===m.array.length-2){e.next=36;break}throw new Error("Signature has bad length");case 36:if(2===m.get()){e.next=38;break}
throw new Error("Signature has bad r marker");case 38:if(v=y(m.getUint8Array(m.get())),2===m.get()){e.next=41;break}throw new Error("Signature has bad s marker");case 41:return g=y(m.getUint8Array(m.get())),(_=new E_).pushArray(new Uint8Array(l.response.authenticatorData)),e.t6=_,e.t7=Uint8Array,e.next=48,crypto.subtle.digest("SHA-256",l.response.clientDataJSON);case 48:return e.t8=e.sent,e.t9=new e.t7(e.t8),e.t6.pushArray.call(e.t6,e.t9),e.t10=Uint8Array,e.next=54,
crypto.subtle.digest("SHA-256",_.asUint8Array().slice());case 54:e.t11=e.sent,w=new e.t10(e.t11),x=p.getKeyRecoveryParam(w,new Uint8Array(l.response.signature),b),(A=new E_).push(x+27+4),A.pushArray(v),A.pushArray(g),A.pushBytes(new Uint8Array(l.response.authenticatorData)),A.pushBytes(new Uint8Array(l.response.clientDataJSON)),k=k_({type:Yg.wa,data:A.asUint8Array().slice()}),c.push(k);case 65:e.next=22;break;case 67:return e.abrupt("return",{signatures:c,serializedTransaction:i,
serializedContextFreeData:a});case 68:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),cx={Api:qw,ApiInterfaces:Lw,JsonRpc:ax,Numeric:S_,RpcInterfaces:sx,RpcError:Kw,Serialize:Ew,JsSignatureProvider:Cw,Key:Ow,sha256:Iw,WebAuthnSignatureProvider:ox};eb.Api=qw,eb.ApiInterfaces=Lw,eb.JsSignatureProvider=Cw,eb.JsonRpc=ax,eb.Key=Ow,eb.Numeric=S_,eb.RpcError=Kw,eb.RpcInterfaces=sx,eb.Serialize=Ew,eb.WebAuthnSignatureProvider=ox,eb.default=cx,
eb.digestFromSerializedData=Uw,eb.sha256=Iw;var fx={};function dx(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(fx,"__esModule",{value:!0});var ux=tb,hx=Ai,lx=dx(gv.exports),px=wr,bx=dx(zv),yx=dx(Iv.exports),mx=Nv;function vx(){vx=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function o(e,t,r){
return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof u?t:u,a=Object.create(i.prototype),s=new A(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return S()}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){
var o=_(s,r);if(o){if(o===d)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,s),a}function f(e,t,r){try{return{
type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function u(){}function h(){}function l(){}var p={};o(p,i,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(k([])));y&&y!==t&&r.call(y,i)&&(p=y);var m=l.prototype=u.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(i,a,s,o){var c=f(e[i],e,a);if("throw"!==c.type){var d=c.arg,u=d.value
;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(u).then((function(e){d.value=e,s(d)}),(function(e){return n("throw",e,s,o)}))}o(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",
t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){
var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,
t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=l,o(m,"constructor",l),o(l,"constructor",h),h.displayName=o(l,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,o(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},
e.awrap=function(e){return{__await:e}},v(g.prototype),o(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var s=new g(c(t,r,n,i),a);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},v(m),o(m,s,"Generator"),o(m,i,(function(){return this})),o(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){
for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg
;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var o=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(o&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(o){
if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",
this.next=a.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(e){
for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function gx(e,t,r,n,i,a,s){try{var o=e[a](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,i)}function _x(e){return function(){
var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){gx(a,n,i,s,o,"next",e)}function o(e){gx(a,n,i,s,o,"throw",e)}s(void 0)}))}}function wx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xx(e,t,r){return t&&wx(e.prototype,t),r&&wx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ax(e,t){e.prototype=Object.create(t.prototype),
e.prototype.constructor=e,Sx(e,t)}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kx(e)}function Sx(e,t){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sx(e,t)}function Mx(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ex(e,t,r){return Ex=Mx()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&Sx(i,r.prototype),i},Ex.apply(null,arguments)}function zx(e){var t="function"==typeof Map?new Map:void 0;return zx=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r
;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ex(e,arguments,kx(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Sx(n,e)},zx(e)}function Ix(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nx(e,t){
(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tx(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Nx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),
"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nx(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}
var Px,Rx=bx.hash,Ox="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Bx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ux=function(){for(var e=Array(256).fill(-1),t=0;t<Ox.length;++t)e[Ox.charCodeAt(t)]=t;return e},Cx=Ux(),qx=function(){for(var e=Array(256).fill(-1),t=0;t<Bx.length;++t)e[Bx.charCodeAt(t)]=t;return e["=".charCodeAt(0)]=0,e},jx=qx(),Dx=function(e){return 0!=(128&e[e.length-1])},Fx=function(e){for(var t=1,r=0;r<e.length;++r){var n=(255&~e[r])+t
;e[r]=n,t=n>>8}},Lx=function(e,t){for(var r=new Uint8Array(e),n=0;n<t.length;++n){var i=t.charCodeAt(n);if(i<"0".charCodeAt(0)||i>"9".charCodeAt(0))throw new Error("invalid number");for(var a=i-"0".charCodeAt(0),s=0;s<e;++s){var o=10*r[s]+a;r[s]=o,a=o>>8}if(a)throw new Error("number is out of range")}return r},Kx=function(e,t){var r="-"===t[0];r&&(t=t.substr(1));var n=Lx(e,t);if(r){if(Fx(n),!Dx(n))throw new Error("number is out of range")}else if(Dx(n))throw new Error("number is out of range")
;return n},Vx=function(e,t){void 0===t&&(t=1);for(var r=Array(t).fill("0".charCodeAt(0)),n=e.length-1;n>=0;--n){for(var i=e[n],a=0;a<r.length;++a){var s=(r[a]-"0".charCodeAt(0)<<8)+i;r[a]="0".charCodeAt(0)+s%10,i=s/10|0}for(;i;)r.push("0".charCodeAt(0)+i%10),i=i/10|0}return r.reverse(),String.fromCharCode.apply(String,r)},Wx=function(e,t){if(void 0===t&&(t=1),Dx(e)){var r=e.slice();return Fx(r),"-"+Vx(r,t)}return Vx(e,t)},Zx=function(e,t){if(!e)return function(e){
for(var t=[],r=0;r<e.length;++r){var n=Cx[e.charCodeAt(r)];if(n<0)throw new Error("invalid base-58 value");for(var i=0;i<t.length;++i){var a=58*t[i]+n;t[i]=255&a,n=a>>8}n&&t.push(n)}for(var s,o=Tx(e);!(s=o()).done&&"1"===s.value;)t.push(0);return t.reverse(),new Uint8Array(t)}(t);for(var r=new Uint8Array(e),n=0;n<t.length;++n){var i=Cx[t.charCodeAt(n)];if(i<0)throw new Error("invalid base-58 value");for(var a=0;a<e;++a){var s=58*r[a]+i;r[a]=s,i=s>>8}
if(i)throw new Error("base-58 value is out of range")}return r.reverse(),r},Hx=function(e){for(var t,r=[],n=Tx(e);!(t=n()).done;){for(var i=t.value,a=0;a<r.length;++a){var s=(Cx[r[a]]<<8)+i;r[a]=Ox.charCodeAt(s%58),i=s/58|0}for(;i;)r.push(Ox.charCodeAt(i%58)),i=i/58|0}for(var o,c=Tx(e);!(o=c()).done;){if(o.value)break;r.push("1".charCodeAt(0))}return r.reverse(),String.fromCharCode.apply(String,r)},$x=function(e){var t=e.length;if(1==(3&t)&&"="===e[t-1]&&(t-=1),
0!=(3&t))throw new Error("base-64 value is not padded correctly");var r=t>>2,n=3*r;t>0&&"="===e[t-1]&&("="===e[t-2]?n-=2:n-=1);for(var i=new Uint8Array(n),a=0;a<r;++a){var s=jx[e.charCodeAt(4*a+0)],o=jx[e.charCodeAt(4*a+1)],c=jx[e.charCodeAt(4*a+2)],f=jx[e.charCodeAt(4*a+3)];i[3*a+0]=s<<2|o>>4,3*a+1<n&&(i[3*a+1]=(15&o)<<4|c>>2),3*a+2<n&&(i[3*a+2]=(3&c)<<6|f)}return i};!function(e){e[e.k1=0]="k1",e[e.r1=1]="r1",e[e.wa=2]="wa",e[e.rsa=100]="rsa",e[e.eth=101]="eth"}(Px||(Px={}))
;var Jx=33,Gx=32,Yx=function(e,t){for(var r=new Uint8Array(e.length+t.length),n=0;n<e.length;++n)r[n]=e[n];for(var i=0;i<t.length;++i)r[e.length+i]=t.charCodeAt(i);return Rx(r)},Xx=function(e,t,r,n){var i=Zx(r?r+4:0,e),a={type:t,data:new Uint8Array(i.buffer,0,i.length-4)},s=new Uint8Array(Yx(a.data,n));if(s[0]!==i[i.length-4]||s[1]!==i[i.length-3]||s[2]!==i[i.length-2]||s[3]!==i[i.length-1])throw new Error("checksum doesn't match");return a},Qx=function(e,t,r){
for(var n=new Uint8Array(Yx(e.data,t)),i=new Uint8Array(e.data.length+4),a=0;a<e.data.length;++a)i[a]=e.data[a];for(var s=0;s<4;++s)i[s+e.data.length]=n[s];return r+Hx(i)},eA=function(e,t){if(void 0===t&&(t="EOS"),"string"!=typeof e)throw new Error("expected string containing public key");if(e.substr(0,3)===t){for(var r=Zx(37,e.substr(3)),n={type:Px.k1,data:new Uint8Array(Jx)},i=0;i<Jx;++i)n.data[i]=r[i];var a=new Uint8Array(Rx(n.data))
;if(a[0]!==r[33]||a[1]!==r[34]||a[2]!==r[35]||a[3]!==r[36])throw new Error("checksum doesn't match");return n}if("PUB_K1_"===e.substr(0,7))return Xx(e.substr(7),Px.k1,Jx,"K1");if("PUB_R1_"===e.substr(0,7))return Xx(e.substr(7),Px.r1,Jx,"R1");if("PUB_WA_"===e.substr(0,7))return Xx(e.substr(7),Px.wa,0,"WA");throw new Error("unrecognized public key format")},tA=function(e,t){if(void 0===t&&(t="EOS"),e.type===Px.k1&&e.data.length===Jx)return Qx(e,"",t)
;throw e.type===Px.r1||e.type===Px.wa?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},rA=function(e){if(e.type===Px.k1&&e.data.length===Jx)return Qx(e,"K1","PUB_K1_");if(e.type===Px.r1&&e.data.length===Jx)return Qx(e,"R1","PUB_R1_");if(e.type===Px.wa)return Qx(e,"WA","PUB_WA_");throw new Error("unrecognized public key format")},nA=function(e,t){return void 0===t&&(t="EOS"),e.substr(0,3)===t?rA(eA(e,t)):e},iA=function(e,t){
return void 0===t&&(t="EOS"),e.map((function(e){return nA(e,t)}))},aA=function(e){if("string"!=typeof e)throw new Error("expected string containing private key");if("PVT_R1_"===e.substr(0,7))return Xx(e.substr(7),Px.r1,Gx,"R1");if("PVT_K1_"===e.substr(0,7))return Xx(e.substr(7),Px.k1,Gx,"K1");var t=Zx(37,e),r={type:Px.k1,data:new Uint8Array(Gx)};if(128!==t[0])throw new Error("unrecognized private key type");for(var n=0;n<Gx;++n)r.data[n]=t[n+1];return r},sA=function(e){
if(e.type===Px.k1&&e.data.length===Gx){var t=[];t.push(128),e.data.forEach((function(e){return t.push(e)}));for(var r=new Uint8Array(px.sha256().update(px.sha256().update(t).digest()).digest()),n=new Uint8Array(37),i=0;i<t.length;i++)n[i]=t[i];for(var a=0;a<4;a++)n[a+t.length]=r[a];return Hx(n)}throw e.type===Px.r1||e.type===Px.wa?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},oA=function(e){if(e.type===Px.r1)return Qx(e,"R1","PVT_R1_")
;if(e.type===Px.k1)return Qx(e,"K1","PVT_K1_");throw new Error("unrecognized private key format")},cA=function(e){if("string"!=typeof e)throw new Error("expected string containing signature");if("SIG_K1_"===e.substr(0,7))return Xx(e.substr(7),Px.k1,65,"K1");if("SIG_R1_"===e.substr(0,7))return Xx(e.substr(7),Px.r1,65,"R1");if("SIG_WA_"===e.substr(0,7))return Xx(e.substr(7),Px.wa,0,"WA");throw new Error("unrecognized signature format")},fA=function(e){if(e.type===Px.k1)return Qx(e,"K1","SIG_K1_")
;if(e.type===Px.r1)return Qx(e,"R1","SIG_R1_");if(e.type===Px.wa)return Qx(e,"WA","SIG_WA_");throw new Error("unrecognized signature format")},dA={__proto__:null,isNegative:Dx,negate:Fx,decimalToBinary:Lx,signedDecimalToBinary:Kx,binaryToDecimal:Vx,signedBinaryToDecimal:Wx,base58ToBinary:Zx,binaryToBase58:Hx,base64ToBinary:$x,get KeyType(){return Px},publicKeyDataSize:Jx,privateKeyDataSize:Gx,signatureDataSize:65,stringToPublicKey:eA,publicKeyToLegacyString:tA,publicKeyToString:rA,
convertLegacyPublicKey:nA,convertLegacyPublicKeys:iA,stringToPrivateKey:aA,privateKeyToLegacyString:sA,privateKeyToString:oA,stringToSignature:cA,signatureToString:fA},uA=function(e){void 0===e&&(e={}),this.options=void 0,this.skippedBinaryExtension=!1,this.options=e},hA=function(){function e(e){var t=void 0===e?{}:e,r=t.array,n=t.textEncoder,i=t.textDecoder;this.length=void 0,this.array=void 0,this.readPos=0,this.textEncoder=void 0,this.textDecoder=void 0,this.array=r||new Uint8Array(1024),
this.length=r?r.length:0,this.textEncoder=n||new TextEncoder,this.textDecoder=i||new TextDecoder("utf-8")}var t=e.prototype;return t.reserve=function(e){if(!(this.length+e<=this.array.length)){for(var t=this.array.length;this.length+e>t;)t=Math.ceil(1.5*t);var r=new Uint8Array(t);r.set(this.array),this.array=r}},t.haveReadData=function(){return this.readPos<this.length},t.restartRead=function(){this.readPos=0},t.asUint8Array=function(){
return new Uint8Array(this.array.buffer,this.array.byteOffset,this.length)},t.pushArray=function(e){this.reserve(e.length),this.array.set(e,this.length),this.length+=e.length},t.push=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.pushArray(t)},t.get=function(){if(this.readPos<this.length)return this.array[this.readPos++];throw new Error("Read past end of buffer")},t.pushUint8ArrayChecked=function(e,t){
if(e.length!==t)throw new Error("Binary data has incorrect size");this.pushArray(e)},t.getUint8Array=function(e){if(this.readPos+e>this.length)throw new Error("Read past end of buffer");var t=new Uint8Array(this.array.buffer,this.array.byteOffset+this.readPos,e);return this.readPos+=e,t},t.skip=function(e){if(this.readPos+e>this.length)throw new Error("Read past end of buffer");this.readPos+=e},t.pushUint16=function(e){this.push(e>>0&255,e>>8&255)},t.getUint16=function(){var e=0
;return e|=this.get()<<0,e|=this.get()<<8},t.pushUint32=function(e){this.push(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},t.getUint32=function(){var e=0;return e|=this.get()<<0,e|=this.get()<<8,e|=this.get()<<16,(e|=this.get()<<24)>>>0},t.pushNumberAsUint64=function(e){this.pushUint32(e>>>0),this.pushUint32(Math.floor(e/4294967296)>>>0)},t.getUint64AsNumber=function(){var e=this.getUint32();return 4294967296*(this.getUint32()>>>0)+(e>>>0)},t.pushVaruint32=function(e){for(;;){if(!(e>>>7)){
this.push(e);break}this.push(128|127&e),e>>>=7}},t.getVaruint32=function(){for(var e=0,t=0;;){var r=this.get();if(e|=(127&r)<<t,t+=7,!(128&r))break}return e>>>0},t.pushVarint32=function(e){this.pushVaruint32(e<<1^e>>31)},t.getVarint32=function(){var e=this.getVaruint32();return 1&e?~e>>1|2147483648:e>>>1},t.pushFloat32=function(e){this.pushArray(new Uint8Array(new Float32Array([e]).buffer))},t.getFloat32=function(){return new Float32Array(this.getUint8Array(4).slice().buffer)[0]},
t.pushFloat64=function(e){this.pushArray(new Uint8Array(new Float64Array([e]).buffer))},t.getFloat64=function(){return new Float64Array(this.getUint8Array(8).slice().buffer)[0]},t.pushName=function(e){if("string"!=typeof e)throw new Error("Expected string containing name")
;if(!new RegExp(/^[.1-5a-z]{0,12}[.1-5a-j]?$/).test(e))throw new Error("Name should be less than 13 characters, or less than 14 if last character is between 1-5 or a-j, and only contain the following symbols .12345abcdefghijklmnopqrstuvwxyz");for(var t=function(e){return e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)?e-"a".charCodeAt(0)+6:e>="1".charCodeAt(0)&&e<="5".charCodeAt(0)?e-"1".charCodeAt(0)+1:0},r=new Uint8Array(8),n=63,i=0;i<e.length;++i){var a=t(e.charCodeAt(i));n<5&&(a<<=1)
;for(var s=4;s>=0;--s)n>=0&&(r[Math.floor(n/8)]|=(a>>s&1)<<n%8,--n)}this.pushArray(r)},t.getName=function(){for(var e=this.getUint8Array(8),t="",r=63;r>=0;){for(var n=0,i=0;i<5;++i)r>=0&&(n=n<<1|e[Math.floor(r/8)]>>r%8&1,--r);t+=n>=6?String.fromCharCode(n+"a".charCodeAt(0)-6):n>=1?String.fromCharCode(n+"1".charCodeAt(0)-1):"."}for(;t.endsWith(".");)t=t.substr(0,t.length-1);return t},t.pushBytes=function(e){this.pushVaruint32(e.length),this.pushArray(e)},t.getBytes=function(){
return this.getUint8Array(this.getVaruint32())},t.pushString=function(e){this.pushBytes(this.textEncoder.encode(e))},t.getString=function(){return this.textDecoder.decode(this.getBytes())},t.pushSymbolCode=function(e){if("string"!=typeof e)throw new Error("Expected string containing symbol_code");var t=[];for(t.push.apply(t,this.textEncoder.encode(e));t.length<8;)t.push(0);this.pushArray(t.slice(0,8))},t.getSymbolCode=function(){var e,t=this.getUint8Array(8);for(e=0;e<t.length&&t[e];++e);
return this.textDecoder.decode(new Uint8Array(t.buffer,t.byteOffset,e))},t.pushSymbol=function(e){var t=e.name,r=e.precision;if(!/^[A-Z]{1,7}$/.test(t))throw new Error("Expected symbol to be A-Z and between one and seven characters");var n=[255&r];for(n.push.apply(n,this.textEncoder.encode(t));n.length<8;)n.push(0);this.pushArray(n.slice(0,8))},t.getSymbol=function(){var e,t=this.get(),r=this.getUint8Array(7);for(e=0;e<r.length&&r[e];++e);return{
name:this.textDecoder.decode(new Uint8Array(r.buffer,r.byteOffset,e)),precision:t}},t.pushAsset=function(e){if("string"!=typeof e)throw new Error("Expected string containing asset");var t=0,r="",n=0;"-"===(e=e.trim())[t]&&(r+="-",++t);for(var i=!1;t<e.length&&e.charCodeAt(t)>="0".charCodeAt(0)&&e.charCodeAt(t)<="9".charCodeAt(0);)i=!0,r+=e[t],++t;if(!i)throw new Error("Asset must begin with a number")
;if("."===e[t])for(++t;t<e.length&&e.charCodeAt(t)>="0".charCodeAt(0)&&e.charCodeAt(t)<="9".charCodeAt(0);)r+=e[t],++n,++t;var a=e.substr(t).trim();this.pushArray(Kx(8,r)),this.pushSymbol({name:a,precision:n})},t.getAsset=function(){var e=this.getUint8Array(8),t=this.getSymbol(),r=t.name,n=t.precision,i=Wx(e,n+1);return n&&(i=i.substr(0,i.length-n)+"."+i.substr(i.length-n)),i+" "+r},t.pushPublicKey=function(e){var t=eA(e);this.push(t.type),this.pushArray(t.data)},t.getPublicKey=function(){
var e,t=this.get();if(t===Px.wa){var r=this.readPos;this.skip(34),this.skip(this.getVaruint32()),e=new Uint8Array(this.array.buffer,this.array.byteOffset+r,this.readPos-r)}else e=this.getUint8Array(Jx);return rA({type:t,data:e})},t.pushPrivateKey=function(e){var t=aA(e);this.push(t.type),this.pushArray(t.data)},t.getPrivateKey=function(){var e=this.get(),t=this.getUint8Array(Gx);return oA({type:e,data:t})},t.pushSignature=function(e){var t=cA(e);this.push(t.type),this.pushArray(t.data)},
t.getSignature=function(){var e,t=this.get();if(t===Px.wa){var r=this.readPos;this.skip(65),this.skip(this.getVaruint32()),this.skip(this.getVaruint32()),e=new Uint8Array(this.array.buffer,this.array.byteOffset+r,this.readPos-r)}else e=this.getUint8Array(65);return fA({type:t,data:e})},e}(),lA=function(e){return e.startsWith("eosio::abi/1.")},pA=function(e){var t=Date.parse(e);if(Number.isNaN(t))throw new Error("Invalid time format");return t},bA=function(e){return Math.round(1e3*pA(e+"Z"))
},yA=function(e){var t=new Date(e/1e3).toISOString();return t.substr(0,t.length-1)},mA=function(e){return Math.round(pA(e+"Z")/1e3)},vA=function(e){var t=new Date(1e3*e).toISOString();return t.substr(0,t.length-1)},gA=function(e){return Math.round((pA(e+"Z")-9466848e5)/500)},_A=function(e){var t=new Date(500*e+9466848e5).toISOString();return t.substr(0,t.length-1)},wA=function(e){if("string"!=typeof e)throw new Error("Expected string containing symbol");var t=e.match(/^([0-9]+),([A-Z]+)$/)
;if(!t)throw new Error("Invalid symbol");return{name:t[2],precision:+t[1]}},xA=function(e){var t=e.name;return e.precision+","+t},AA=function(e){for(var t,r="",n=Tx(e);!(t=n()).done;){r+=("00"+t.value.toString(16)).slice(-2)}return r.toUpperCase()},kA=function(e){if("string"!=typeof e)throw new Error("Expected string containing hex digits");if(e.length%2)throw new Error("Odd number of hex digits");for(var t=e.length/2,r=new Uint8Array(t),n=0;n<t;++n){var i=parseInt(e.substr(2*n,2),16)
;if(Number.isNaN(i))throw new Error("Expected hex string");r[n]=i}return r};function SA(e,t){throw new Error("Don't know how to serialize "+this.name)}function MA(e){throw new Error("Don't know how to deserialize "+this.name)}function EA(e,t,r,n){if(void 0===r&&(r=new uA),void 0===n&&(n=!0),"object"!=typeof t)throw new Error("expected object containing data: "+JSON.stringify(t));this.base&&this.base.serialize(e,t,r,n);for(var i,a=Tx(this.fields);!(i=a()).done;){var s=i.value;if(s.name in t){
if(r.skippedBinaryExtension)throw new Error("unexpected "+this.name+"."+s.name);s.type.serialize(e,t[s.name],r,n&&s===this.fields[this.fields.length-1])}else{if(!n||!s.type.extensionOf)throw new Error("missing "+this.name+"."+s.name+" (type="+s.type.name+")");r.skippedBinaryExtension=!0}}}function zA(e,t,r){var n;void 0===t&&(t=new uA),void 0===r&&(r=!0),n=this.base?this.base.deserialize(e,t,r):{};for(var i,a=Tx(this.fields);!(i=a()).done;){var s=i.value
;r&&s.type.extensionOf&&!e.haveReadData()?t.skippedBinaryExtension=!0:n[s.name]=s.type.deserialize(e,t,r)}return n}function IA(e,t,r,n){if(!Array.isArray(t)||2!==t.length||"string"!=typeof t[0])throw new Error('expected variant: ["type", value]');var i=this.fields.findIndex((function(e){return e.name===t[0]}));if(i<0)throw new Error('type "'+t[0]+'" is not valid for variant');e.pushVaruint32(i),this.fields[i].type.serialize(e,t[1],r,n)}function NA(e,t,r){var n=e.getVaruint32()
;if(n>=this.fields.length)throw new Error("type index "+n+" is not valid for variant");var i=this.fields[n];return[i.name,i.type.deserialize(e,t,r)]}function TA(e,t,r,n){e.pushVaruint32(t.length);for(var i,a=Tx(t);!(i=a()).done;){var s=i.value;this.arrayOf.serialize(e,s,r,!1)}}function PA(e,t,r){for(var n=e.getVaruint32(),i=[],a=0;a<n;++a)i.push(this.arrayOf.deserialize(e,t,!1));return i}function RA(e,t,r,n){null==t?e.push(0):(e.push(1),this.optionalOf.serialize(e,t,r,n))}function OA(e,t,r){
return e.get()?this.optionalOf.deserialize(e,t,r):null}function BA(e,t,r,n){this.extensionOf.serialize(e,t,r,n)}function UA(e,t,r){return this.extensionOf.deserialize(e,t,r)}function CA(e,t,r,n){var i=Object.entries(t);e.pushVaruint32(i.length);for(var a=0,s=i;a<s.length;a++){var o=s[a],c=o[0],f=o[1],d=this.fields[0].type,u=this.fields[1].type;d.serialize(e,c,r,n),u.serialize(e,f,r,n)}}function qA(e,t,r){for(var n=e.getVaruint32(),i={},a=0;a<n;++a){var s=this.fields[0].type,o=this.fields[1].type
;i[s.deserialize(e,t,r)]=o.deserialize(e,t,r)}return i}function jA(e,t,r,n){var i=this;e.pushVaruint32(t.length),t.forEach((function(t){i.fields[0].type.serialize(e,t[0],r,n),i.fields[1].type.serialize(e,t[1],r,n)}))}function DA(e,t,r){for(var n=[],i=e.getVaruint32(),a=0;a<i;++a)n.push(this.fields[0].type.deserialize(e,t,r)),n.push(this.fields[1].type.deserialize(e,t,r));return n}var FA=function(e){return Object.assign({name:"<missing name>",aliasOfName:"",arrayOf:void 0,optionalOf:void 0,
extensionOf:void 0,baseName:"",base:void 0,fields:[],serialize:SA,deserialize:MA},e)},LA=function(e,t){if(Number.isNaN(+e)||Number.isNaN(+t)||"number"!=typeof e&&"string"!=typeof e)throw new Error("Expected number");if(+e!=+t)throw new Error("Number is out of range");return+e},KA=function(){var e=new Map(Object.entries({bool:FA({name:"bool",serialize:function(e,t){if("boolean"!=typeof t&&("number"!=typeof t||1!==t&&0!==t))throw new Error("Expected boolean or number equal to 1 or 0")
;e.push(t?1:0)},deserialize:function(e){return!!e.get()}}),uint8:FA({name:"uint8",serialize:function(e,t){e.push(LA(t,255&t))},deserialize:function(e){return e.get()}}),int8:FA({name:"int8",serialize:function(e,t){e.push(LA(t,t<<24>>24))},deserialize:function(e){return e.get()<<24>>24}}),uint16:FA({name:"uint16",serialize:function(e,t){e.pushUint16(LA(t,65535&t))},deserialize:function(e){return e.getUint16()}}),int16:FA({name:"int16",serialize:function(e,t){e.pushUint16(LA(t,t<<16>>16))},
deserialize:function(e){return e.getUint16()<<16>>16}}),uint32:FA({name:"uint32",serialize:function(e,t){e.pushUint32(LA(t,t>>>0))},deserialize:function(e){return e.getUint32()}}),uint64:FA({name:"uint64",serialize:function(e,t){e.pushArray(Lx(8,""+t))},deserialize:function(e){return Vx(e.getUint8Array(8))}}),int64:FA({name:"int64",serialize:function(e,t){e.pushArray(Kx(8,""+t))},deserialize:function(e){return Wx(e.getUint8Array(8))}}),int32:FA({name:"int32",serialize:function(e,t){
e.pushUint32(LA(t,0|t))},deserialize:function(e){return 0|e.getUint32()}}),varuint32:FA({name:"varuint32",serialize:function(e,t){e.pushVaruint32(LA(t,t>>>0))},deserialize:function(e){return e.getVaruint32()}}),varint32:FA({name:"varint32",serialize:function(e,t){e.pushVarint32(LA(t,0|t))},deserialize:function(e){return e.getVarint32()}}),uint128:FA({name:"uint128",serialize:function(e,t){e.pushArray(Lx(16,""+t))},deserialize:function(e){return Vx(e.getUint8Array(16))}}),int128:FA({
name:"int128",serialize:function(e,t){e.pushArray(Kx(16,""+t))},deserialize:function(e){return Wx(e.getUint8Array(16))}}),float32:FA({name:"float32",serialize:function(e,t){e.pushFloat32(t)},deserialize:function(e){return e.getFloat32()}}),float64:FA({name:"float64",serialize:function(e,t){e.pushFloat64(t)},deserialize:function(e){return e.getFloat64()}}),float128:FA({name:"float128",serialize:function(e,t){e.pushUint8ArrayChecked(kA(t),16)},deserialize:function(e){return AA(e.getUint8Array(16))
}}),bytes:FA({name:"bytes",serialize:function(e,t){t instanceof Uint8Array||Array.isArray(t)?e.pushBytes(t):e.pushBytes(kA(t))},deserialize:function(e,t){return t&&t.options.bytesAsUint8Array?e.getBytes():AA(e.getBytes())}}),string:FA({name:"string",serialize:function(e,t){e.pushString(t)},deserialize:function(e){return e.getString()}}),name:FA({name:"name",serialize:function(e,t){e.pushName(t)},deserialize:function(e){return e.getName()}}),time_point:FA({name:"time_point",
serialize:function(e,t){e.pushNumberAsUint64(bA(t))},deserialize:function(e){return yA(e.getUint64AsNumber())}}),time_point_sec:FA({name:"time_point_sec",serialize:function(e,t){e.pushUint32(mA(t))},deserialize:function(e){return vA(e.getUint32())}}),block_timestamp_type:FA({name:"block_timestamp_type",serialize:function(e,t){e.pushUint32(gA(t))},deserialize:function(e){return _A(e.getUint32())}}),symbol_code:FA({name:"symbol_code",serialize:function(e,t){e.pushSymbolCode(t)},
deserialize:function(e){return e.getSymbolCode()}}),symbol:FA({name:"symbol",serialize:function(e,t){e.pushSymbol(wA(t))},deserialize:function(e){return xA(e.getSymbol())}}),asset:FA({name:"asset",serialize:function(e,t){e.pushAsset(t)},deserialize:function(e){return e.getAsset()}}),checksum160:FA({name:"checksum160",serialize:function(e,t){e.pushUint8ArrayChecked(kA(t),20)},deserialize:function(e){return AA(e.getUint8Array(20))}}),checksum256:FA({name:"checksum256",serialize:function(e,t){
e.pushUint8ArrayChecked(kA(t),32)},deserialize:function(e){return AA(e.getUint8Array(32))}}),checksum512:FA({name:"checksum512",serialize:function(e,t){e.pushUint8ArrayChecked(kA(t),64)},deserialize:function(e){return AA(e.getUint8Array(64))}}),public_key:FA({name:"public_key",serialize:function(e,t){e.pushPublicKey(t)},deserialize:function(e){return e.getPublicKey()}}),private_key:FA({name:"private_key",serialize:function(e,t){e.pushPrivateKey(t)},deserialize:function(e){
return e.getPrivateKey()}}),signature:FA({name:"signature",serialize:function(e,t){e.pushSignature(t)},deserialize:function(e){return e.getSignature()}})}));return e.set("extended_asset",FA({name:"extended_asset",baseName:"",fields:[{name:"quantity",typeName:"asset",type:e.get("asset")},{name:"contract",typeName:"name",type:e.get("name")}],serialize:EA,deserialize:zA})),e},VA=function(){var e=KA();return e.set("extensions_entry",FA({name:"extensions_entry",baseName:"",fields:[{name:"tag",
typeName:"uint16",type:void 0},{name:"value",typeName:"bytes",type:void 0}],serialize:EA,deserialize:zA})),e.set("type_def",FA({name:"type_def",baseName:"",fields:[{name:"new_type_name",typeName:"string",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:EA,deserialize:zA})),e.set("field_def",FA({name:"field_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:EA,deserialize:zA})),e.set("struct_def",FA({
name:"struct_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"base",typeName:"string",type:void 0},{name:"fields",typeName:"field_def[]",type:void 0}],serialize:EA,deserialize:zA})),e.set("action_def",FA({name:"action_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"type",typeName:"string",type:void 0},{name:"ricardian_contract",typeName:"string",type:void 0}],serialize:EA,deserialize:zA})),e.set("table_def",FA({name:"table_def",baseName:"",
fields:[{name:"name",typeName:"name",type:void 0},{name:"index_type",typeName:"string",type:void 0},{name:"key_names",typeName:"string[]",type:void 0},{name:"key_types",typeName:"string[]",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:EA,deserialize:zA})),e.set("clause_pair",FA({name:"clause_pair",baseName:"",fields:[{name:"id",typeName:"string",type:void 0},{name:"body",typeName:"string",type:void 0}],serialize:EA,deserialize:zA})),e.set("error_message",FA({
name:"error_message",baseName:"",fields:[{name:"error_code",typeName:"uint64",type:void 0},{name:"error_msg",typeName:"string",type:void 0}],serialize:EA,deserialize:zA})),e.set("variant_def",FA({name:"variant_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"types",typeName:"string[]",type:void 0}],serialize:EA,deserialize:zA})),e.set("action_result",FA({name:"action_result",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"result_type",
typeName:"string",type:void 0}],serialize:EA,deserialize:zA})),e.set("primary_key_index_def",FA({name:"primary_key_index_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:EA,deserialize:zA})),e.set("secondary_index_def",FA({name:"secondary_index_def",baseName:"",fields:[{name:"type",typeName:"string",type:void 0}],serialize:EA,deserialize:zA})),e.set("secondary_indices",FA({name:"secondary_indices",baseName:"",fields:[{
name:"name",typeName:"name",type:void 0},{name:"secondary_index_def",typeName:"secondary_index_def",type:void 0}],serialize:CA,deserialize:qA})),e.set("kv_table_entry_def",FA({name:"kv_table_entry_def",baseName:"",fields:[{name:"type",typeName:"string",type:void 0},{name:"primary_index",typeName:"primary_key_index_def",type:void 0},{name:"secondary_indices",typeName:"secondary_indices",type:void 0}],serialize:EA,deserialize:zA})),e.set("kv_table",FA({name:"kv_table",baseName:"",fields:[{
name:"name",typeName:"name",type:void 0},{name:"kv_table_entry_def",typeName:"kv_table_entry_def",type:void 0}],serialize:CA,deserialize:qA})),e.set("abi_def",FA({name:"abi_def",baseName:"",fields:[{name:"version",typeName:"string",type:void 0},{name:"types",typeName:"type_def[]",type:void 0},{name:"structs",typeName:"struct_def[]",type:void 0},{name:"actions",typeName:"action_def[]",type:void 0},{name:"tables",typeName:"table_def[]",type:void 0},{name:"ricardian_clauses",
typeName:"clause_pair[]",type:void 0},{name:"error_messages",typeName:"error_message[]",type:void 0},{name:"abi_extensions",typeName:"extensions_entry[]",type:void 0},{name:"variants",typeName:"variant_def[]$",type:void 0},{name:"action_results",typeName:"action_result[]$",type:void 0},{name:"kv_tables",typeName:"kv_table$",type:void 0}],serialize:EA,deserialize:zA})),e},WA=function(){var e=KA();return e.set("resource_payer",FA({name:"resource_payer",baseName:"",fields:[{name:"payer",
typeName:"name",type:void 0},{name:"max_net_bytes",typeName:"uint64",type:void 0},{name:"max_cpu_us",typeName:"uint64",type:void 0},{name:"max_memory_bytes",typeName:"uint64",type:void 0}],serialize:EA,deserialize:zA})),e},ZA=function(){var e=KA();return e.set("permission_level",FA({name:"permission_level",baseName:"",fields:[{name:"actor",typeName:"name",type:void 0},{name:"permission",typeName:"name",type:void 0}],serialize:EA,deserialize:zA})),e.set("action",FA({name:"action",baseName:"",
fields:[{name:"account",typeName:"name",type:void 0},{name:"name",typeName:"name",type:void 0},{name:"authorization",typeName:"permission_level[]",type:void 0},{name:"data",typeName:"bytes",type:void 0}],serialize:EA,deserialize:zA})),e.set("extension",FA({name:"extension",baseName:"",fields:[{name:"type",typeName:"uint16",type:void 0},{name:"data",typeName:"bytes",type:void 0}],serialize:jA,deserialize:DA})),e.set("transaction_header",FA({name:"transaction_header",baseName:"",fields:[{
name:"expiration",typeName:"time_point_sec",type:void 0},{name:"ref_block_num",typeName:"uint16",type:void 0},{name:"ref_block_prefix",typeName:"uint32",type:void 0},{name:"max_net_usage_words",typeName:"varuint32",type:void 0},{name:"max_cpu_usage_ms",typeName:"uint8",type:void 0},{name:"delay_sec",typeName:"varuint32",type:void 0}],serialize:EA,deserialize:zA})),e.set("transaction",FA({name:"transaction",baseName:"transaction_header",fields:[{name:"context_free_actions",typeName:"action[]",
type:void 0},{name:"actions",typeName:"action[]",type:void 0},{name:"transaction_extensions",typeName:"extension",type:void 0}],serialize:EA,deserialize:zA})),e},HA=function e(t,r){var n=t.get(r);if(n&&n.aliasOfName)return e(t,n.aliasOfName);if(n)return n;if(r.endsWith("[]"))return FA({name:r,arrayOf:e(t,r.substr(0,r.length-2)),serialize:TA,deserialize:PA});if(r.endsWith("?"))return FA({name:r,optionalOf:e(t,r.substr(0,r.length-1)),serialize:RA,deserialize:OA});if(r.endsWith("$"))return FA({
name:r,extensionOf:e(t,r.substr(0,r.length-1)),serialize:BA,deserialize:UA});throw new Error("Unknown type: "+r)},$A=function(e,t){var r=new Map(e);if(t&&t.types)for(var n,i=Tx(t.types);!(n=i()).done;){var a=n.value,s=a.new_type_name,o=a.type;r.set(s,FA({name:s,aliasOfName:o}))}if(t&&t.structs)for(var c,f=Tx(t.structs);!(c=f()).done;){var d=c.value,u=d.name,h=d.base,l=d.fields;r.set(u,FA({name:u,baseName:h,fields:l.map((function(e){return{name:e.name,typeName:e.type,type:void 0}})),serialize:EA,
deserialize:zA}))}if(t&&t.variants)for(var p,b=Tx(t.variants);!(p=b()).done;){var y=p.value,m=y.name,v=y.types;r.set(m,FA({name:m,fields:v.map((function(e){return{name:e,typeName:e,type:void 0}})),serialize:IA,deserialize:NA}))}for(var g,_=Tx(r);!(g=_()).done;){var w=g.value[1];w.baseName&&(w.base=HA(r,w.baseName));for(var x,A=Tx(w.fields);!(x=A()).done;){var k=x.value;k.type=HA(r,k.typeName)}}return r},JA=function(e,t){var r=e.header?e.header.timestamp:e.timestamp,n=parseInt(function(e){
return e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}(e.id.substr(16,8)),16);return{expiration:vA(mA(r)+t),ref_block_num:65535&e.block_num,ref_block_prefix:n}},GA=function(e,t,r,n){var i=e.actions.get(r);if(!i)throw new Error("Unknown action "+r+" in contract "+t);var a=new hA;return i.serialize(a,n),AA(a.asUint8Array())},YA=function(e,t,r,n,i){return{account:t,name:r,authorization:n,data:GA(e,t,r,i)}},XA=function(e,t,r,n){var i=e.actions.get(r);if("string"==typeof n&&(n=kA(n)),
!i)throw new Error("Unknown action "+r+" in contract "+t);var a=new hA;return a.pushArray(n),i.deserialize(a)},QA=function(e,t,r,n,i){return{account:t,name:r,authorization:n,data:XA(e,t,r,i)}},ek=function(e,t){var r,n;if(null===t){var i=[ck.null_t,t];r=i[0],n=i[1]}else if("string"==typeof t){var a=[ck.string,t];r=a[0],n=a[1]}else if("number"==typeof t){var s=[ck.int32,t];r=s[0],n=s[1]}else if(t instanceof Uint8Array){var o=[ck.bytes,t];r=o[0],n=o[1]}else if(Array.isArray(t)){
var c=[ck.any_array,t];r=c[0],n=c[1]}else if(2===Object.keys(t).length&&t.hasOwnProperty("type")&&t.hasOwnProperty("value")){var f=[ck[t.type],t.value];r=f[0],n=f[1]}else{var d=[ck.any_object,t];r=d[0],n=d[1]}e.pushVaruint32(r.index),r.type.serialize(e,n)},tk=function(e,t){var r=e.getVaruint32();if(r>=fk.length)throw new Error("Tried to deserialize unknown anyvar type");var n=fk[r],i=n.type.deserialize(e,t);return t&&t.options.useShortForm||n.useShortForm?i:{type:n.type.name,value:i}
},rk=function(e){return tk(e,new uA({useShortForm:!0}))},nk=function(e,t){var r=Object.entries(t);e.pushVaruint32(r.length);for(var n=0,i=r;n<i.length;n++){var a=i[n],s=a[0],o=a[1];e.pushString(s),ek(e,o)}},ik=function(e,t){for(var r=e.getVaruint32(),n={},i=0;i<r;++i){var a=e.getString();if(a in n){for(var s=1;a+"_"+s in n;)++s;a=a+"_"+s}n[a]=tk(e,t)}return n},ak=function(e,t){e.pushVaruint32(t.length);for(var r,n=Tx(t);!(r=n()).done;){var i=r.value;ek(e,i)}},sk=function(e,t){
for(var r=e.getVaruint32(),n=[],i=0;i<r;++i)n.push(tk(e,t));return n},ok=function(){var e=KA();return e.set("null_t",FA({name:"null_t",serialize:function(e,t){},deserialize:function(e,t){}})),e.set("any_object",FA({name:"any_object",serialize:nk,deserialize:ik})),e.set("any_array",FA({name:"any_array",serialize:ak,deserialize:sk})),e}(),ck={null_t:{index:0,useShortForm:!0,type:ok.get("null_t")},int64:{index:1,useShortForm:!1,type:ok.get("int64")},uint64:{index:2,useShortForm:!1,
type:ok.get("uint64")},int32:{index:3,useShortForm:!0,type:ok.get("int32")},uint32:{index:4,useShortForm:!1,type:ok.get("uint32")},int16:{index:5,useShortForm:!1,type:ok.get("int16")},uint16:{index:6,useShortForm:!1,type:ok.get("uint16")},int8:{index:7,useShortForm:!1,type:ok.get("int8")},uint8:{index:8,useShortForm:!1,type:ok.get("uint8")},time_point:{index:9,useShortForm:!1,type:ok.get("time_point")},checksum256:{index:10,useShortForm:!1,type:ok.get("checksum256")},float64:{index:11,
useShortForm:!1,type:ok.get("float64")},string:{index:12,useShortForm:!0,type:ok.get("string")},any_object:{index:13,useShortForm:!0,type:ok.get("any_object")},any_array:{index:14,useShortForm:!0,type:ok.get("any_array")},bytes:{index:15,useShortForm:!1,type:ok.get("bytes")},symbol:{index:16,useShortForm:!1,type:ok.get("symbol")},symbol_code:{index:17,useShortForm:!1,type:ok.get("symbol_code")},asset:{index:18,useShortForm:!1,type:ok.get("asset")}
},fk=[ck.null_t,ck.int64,ck.uint64,ck.int32,ck.uint32,ck.int16,ck.uint16,ck.int8,ck.uint8,ck.time_point,ck.checksum256,ck.float64,ck.string,ck.any_object,ck.any_array,ck.bytes,ck.symbol,ck.symbol_code,ck.asset],dk=function e(t,r){var n,i,a;if("string"==typeof r)n=r;else if(Array.isArray(r)&&2===r.length)n=r[0],a=r[1];else if(Array.isArray(r)&&3===r.length)n=r[0],i=r[1],a=r[2];else{var s=[r.method,r.arg,r.filter];n=s[0],i=s[1],a=s[2]}if(t.pushString(n),void 0===i?t.push(0):(t.push(1),ek(t,i)),
void 0===a)t.push(0);else{t.pushVaruint32(a.length);for(var o,c=Tx(a);!(o=c()).done;){e(t,o.value)}}};function uk(e){return e=(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}var hk={__proto__:null,SerializerState:uA,SerialBuffer:hA,supportedAbiVersion:lA,dateToTimePoint:bA,timePointToDate:yA,dateToTimePointSec:mA,timePointSecToDate:vA,dateToBlockTimestamp:gA,blockTimestampToDate:_A,stringToSymbol:wA,symbolToString:xA,arrayToHex:AA,hexToUint8Array:kA,createInitialTypes:KA,
createAbiTypes:VA,createTransactionExtensionTypes:WA,createTransactionTypes:ZA,getType:HA,getTypesFromAbi:$A,transactionHeader:JA,serializeActionData:GA,serializeAction:YA,deserializeActionData:XA,deserializeAction:QA,serializeAnyvar:ek,deserializeAnyvar:tk,deserializeAnyvarShort:rk,serializeAnyObject:nk,deserializeAnyObject:ik,serializeAnyArray:ak,deserializeAnyArray:sk,serializeQuery:dk,b64tob64u:uk,createBaseResolvedTransaction:function(){return{
expiration:(new Date).toISOString().slice(0,-1),ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:[],transaction_extensions:[]}}},lk=function(e){return e===Px.k1?new hx.ec("secp256k1"):new hx.ec("p256")},pk=function(e){return px.sha256().update(e).digest("hex")},bk=function(){function e(e,t){this.key=void 0,this.ec=void 0,this.key=e,this.ec=t}e.fromString=function(t,r){var n=eA(t);return r||(r=lk(n.type)),new e(n,r)},
e.fromElliptic=function(t,r,n){var i=t.getPublic().getX().toArray("be",32),a=t.getPublic().getY().toArray("be",32);return n||(n=lk(r)),new e({type:r,data:new Uint8Array([1&a[31]?3:2].concat(i))},n)};var t=e.prototype;return t.toString=function(){return rA(this.key)},t.toLegacyString=function(e){return tA(this.key,e)},t.toElliptic=function(){return this.ec.keyPair({pub:Buffer.from(this.key.data)})},t.getType=function(){return this.key.type},t.isValid=function(){try{
return this.toElliptic().validate().result}catch(e){return!1}},e}(),yk=wi.exports,mk=function(){function e(e,t){this.signature=void 0,this.ec=void 0,this.signature=e,this.ec=t}e.fromString=function(t,r){var n=cA(t);return r||(r=lk(n.type)),new e(n,r)},e.fromElliptic=function(t,r,n){t.recoveryParam||(t.recoveryParam=0);var i,a=t.r.toArray("be",32),s=t.s.toArray("be",32);r===Px.k1||r===Px.r1?(i=t.recoveryParam+27,t.recoveryParam<=3&&(i+=4)):r===Px.wa&&(i=t.recoveryParam)
;var o=new Uint8Array([i].concat(a,s));return n||(n=lk(r)),new e({type:r,data:o},n)};var t=e.prototype;return t.toElliptic=function(){var e,t=new yk(this.signature.data.slice(1,33)),r=new yk(this.signature.data.slice(33,65));return this.signature.type===Px.k1||this.signature.type===Px.r1?(e=this.signature.data[0]-27)>3&&(e-=4):e=this.signature.type===Px.wa?this.signature.data[0]:0,{r:t,s:r,recoveryParam:3&e}},t.toString=function(){return fA(this.signature)},t.toBinary=function(){
return this.signature.data},t.getType=function(){return this.signature.type},t.verify=function(e,t,r,n){void 0===r&&(r=!0),void 0===n&&(n="utf8"),r&&("string"==typeof e&&(e=Buffer.from(e,n)),e=this.ec.hash().update(e).digest());var i=this.toElliptic(),a=t.toElliptic();return this.ec.verify(e,i,a,n)},t.recover=function(e,t,r){void 0===t&&(t=!0),void 0===r&&(r="utf8"),t&&("string"==typeof e&&(e=Buffer.from(e,r)),e=this.ec.hash().update(e).digest())
;var n=this.toElliptic(),i=this.ec.recoverPubKey(e,n,n.recoveryParam,r),a=this.ec.keyFromPublic(i);return bk.fromElliptic(a,this.getType(),this.ec)},e}(),vk=function(){function e(e,t){this.key=void 0,this.ec=void 0,this.key=e,this.ec=t}e.fromElliptic=function(t,r,n){return n||(n=lk(r)),new e({type:r,data:t.getPrivate().toArrayLike(Buffer,"be",32)},n)},e.fromString=function(t,r){var n=aA(t);return r||(r=lk(n.type)),new e(n,r)};var t=e.prototype;return t.toElliptic=function(){
return this.ec.keyFromPrivate(this.key.data)},t.toLegacyString=function(){return sA(this.key)},t.toString=function(){return oA(this.key)},t.getType=function(){return this.key.type},t.getPublicKey=function(){var e=this.toElliptic();return bk.fromElliptic(e,this.getType(),this.ec)},t.sign=function(e,t,r){var n=this;void 0===t&&(t=!0),void 0===r&&(r="utf8"),t&&("string"==typeof e&&(e=Buffer.from(e,r)),e=this.ec.hash().update(e).digest());var i,a,s=0,o=function(t){var r=n.toElliptic().sign(e,t)
;return mk.fromElliptic(r,n.getType(),n.ec)};if(this.key.type===Px.k1)do{i=o({canonical:!0,pers:[++s]})}while(128&(a=i.toBinary())[1]||0===a[1]&&!(128&a[2])||128&a[33]||!(0!==a[33]||128&a[34]));else i=o({canonical:!0});return i},t.isValid=function(){try{return this.toElliptic().validate().result}catch(e){return!1}},e}(),gk={__proto__:null,generateKeyPair:function(e,t){if(void 0===t&&(t={}),
!t.secureEnv)throw new Error("Key generation is completely INSECURE in production environments in the browser. If you are absolutely certain this does NOT describe your environment, set `secureEnv` in your options to `true`.  If this does describe your environment and you set `secureEnv` to `true`, YOU DO SO AT YOUR OWN RISK AND THE RISK OF YOUR USERS.");var r,n=(r=e===Px.k1?new hx.ec("secp256k1"):new hx.ec("p256")).genKeyPair(t.ecOptions);return{publicKey:bk.fromElliptic(n,e,r),
privateKey:vk.fromElliptic(n,e,r)}},PrivateKey:vk,PublicKey:bk,Signature:mk,constructElliptic:lk},_k=new hx.ec("secp256k1"),wk=function(e,t,r,n){void 0===n&&(n=_k);var i=Buffer.concat([Buffer.from(e,"hex"),Buffer.from(t),Buffer.from(r?new Uint8Array(n.hash().update(r).digest()):new Uint8Array(32))]);return n.hash().update(i).digest()},xk=function(){function e(e){this.keys=new Map,this.availableKeys=[];for(var t,r=Tx(e);!(t=r()).done;){
var n=t.value,i=vk.fromString(n),a=i.toElliptic(),s=i.getPublicKey().toString();this.keys.set(s,a),this.availableKeys.push(s)}}var t=e.prototype;return t.getAvailableKeys=function(){var e=_x(vx().mark((function e(){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.availableKeys);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.sign=function(){var e=_x(vx().mark((function e(t){
var r,n,i,a,s,o,c,f,d,u,h,l,p;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.chainId,n=t.requiredKeys,i=t.serializedTransaction,a=t.serializedContextFreeData,s=wk(r,i,a,_k),o=[],c=Tx(n);!(f=c()).done;)d=f.value,u=bk.fromString(d),(h=this.keys.get(nA(d)))&&(l=vk.fromElliptic(h,u.getType()),p=l.sign(s,!1),o.push(p.toString()));return e.abrupt("return",{signatures:o,serializedTransaction:i,serializedContextFreeData:a});case 5:case"end":return e.stop()}}),e,this)})))
;return function(t){return e.apply(this,arguments)}}(),e}(),Ak=function(){function e(e){this.rpc=void 0,this.authorityProvider=void 0,this.abiProvider=void 0,this.signatureProvider=void 0,this.abiTypes=void 0,this.transactionTypes=void 0,this.contracts=new Map,this.cachedAbis=new Map,this.crypto=void 0,this.recoverPersonalSignature=void 0,this.transactionExtensions=[{id:1,type:"resource_payer",keys:["payer","max_net_bytes","max_cpu_us","max_memory_bytes"]}],this.rpc=e.rpc,
this.authorityProvider=e.authorityProvider||e.rpc,this.abiProvider=e.abiProvider||e.rpc,e.signatureProvider&&(this.signatureProvider=e.signatureProvider),this.abiTypes=$A(VA()),this.transactionTypes=$A(ZA()),this.crypto=e.crypto||"undefined"!=typeof window&&window&&window.crypto||hr&&hr.crypto,this.recoverPersonalSignature=e.recoverPersonalSignature}var t=e.prototype;return t.getCrypto=function(){
if(!this.crypto)throw new Error("No 'crypto' module found. On nodejs, do const { Crypto } = require('@peculiar/webcrypto'); const crypto = new Crypto; new Api({ rpc, crypto });");return this.crypto},t.getRecoverPersonalSignature=function(){if(!this.recoverPersonalSignature)throw new Error("No 'recoverPersonalSignature' function found. Do const { recoverPersonalSignature } = require('eth-sig-util'); new Api({ rpc, recoverPersonalSignature });");return this.recoverPersonalSignature},
t.rawAbiToJson=function(e){var t=new hA({array:e});if(!lA(t.getString()))throw new Error("Unsupported abi version");return t.restartRead(),this.abiTypes.get("abi_def").deserialize(t)},t.jsonToRawAbi=function(e){var t=new hA;if(this.abiTypes.get("abi_def").serialize(t,e),!lA(t.getString()))throw new Error("Unsupported abi version");return t.asUint8Array()},t.getCachedAbi=function(){var e=_x(vx().mark((function e(t,r){var n,i,a;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
if(void 0===r&&(r=!1),r||!this.cachedAbis.get(t)){e.next=3;break}return e.abrupt("return",this.cachedAbis.get(t));case 3:return e.prev=3,e.next=6,this.abiProvider.getRawAbi(t);case 6:i=e.sent.abi,a=this.rawAbiToJson(i),n={rawAbi:i,abi:a},e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(3),e.t0.message="fetching abi for "+t+": "+e.t0.message,e.t0;case 15:if(n){e.next=17;break}throw new Error("Missing abi for "+t);case 17:return this.cachedAbis.set(t,n),e.abrupt("return",n);case 19:case"end":
return e.stop()}}),e,this,[[3,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getAbi=function(){var e=_x(vx().mark((function e(t,r){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,this.getCachedAbi(t,r);case 3:return e.abrupt("return",e.sent.abi);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.getTransactionAbis=function(){var e=_x(vx().mark((function e(t,r){
var n,i,a,s,o=this;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),n=(t.context_free_actions||[]).concat(t.actions),i=n.map((function(e){return e.account})),a=new Set(i),s=Array.from(a).map(function(){var e=_x(vx().mark((function e(t){var n,i;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getCachedAbi(t,r);case 2:return n=e.sent,i=n.rawAbi,e.abrupt("return",{accountName:t,abi:i});case 5:case"end":return e.stop()}
}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(s));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getContract=function(){var e=_x(vx().mark((function e(t,r){var n,i,a,s,o,c,f,d,u;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=!1),r||!this.contracts.get(t)){e.next=3;break}return e.abrupt("return",this.contracts.get(t));case 3:return e.next=5,this.getAbi(t,r)
;case 5:for(n=e.sent,i=$A(KA(),n),a=new Map,s=Tx(n.actions);!(o=s()).done;)c=o.value,f=c.name,d=c.type,a.set(f,HA(i,d));return u={types:i,actions:a},this.contracts.set(t,u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.serialize=function(e,t,r){this.transactionTypes.get(t).serialize(e,r)},t.deserialize=function(e,t){return this.transactionTypes.get(t).deserialize(e)},t.serializeTransaction=function(e){var t=new hA
;return this.serialize(t,"transaction",Object.assign({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],transaction_extensions:[]},e)),t.asUint8Array()},t.serializeContextFreeData=function(e){if(e&&e.length){var t=new hA;t.pushVaruint32(e.length);for(var r,n=Tx(e);!(r=n()).done;){var i=r.value;t.pushBytes(i)}return t.asUint8Array()}},t.deserializeTransaction=function(e){var t=new hA;return t.pushArray(e),this.deserialize(t,"transaction")},
t.serializeTransactionExtensions=function(e){var t=[];if(e.resource_payer){var r=new hA;$A(WA()).get("resource_payer").serialize(r,e.resource_payer),t=[].concat(t,[[1,AA(r.asUint8Array())]])}return t},t.deserializeTransactionExtensions=function(e){var t=this,r={};return e.forEach((function(e){var n=t.transactionExtensions.find((function(t){return t.id===e[0]}));if(void 0===n)throw new Error("Transaction Extension could not be determined: "+e);var i=$A(WA()),a=new hA;a.pushArray(kA(e[1]))
;var s=i.get(n.type).deserialize(a);1===e[0]&&(s.max_net_bytes=Number(s.max_net_bytes),s.max_cpu_us=Number(s.max_cpu_us),s.max_memory_bytes=Number(s.max_memory_bytes),r.resource_payer=s)})),r},t.deleteTransactionExtensionObjects=function(e){return delete e.resource_payer,e},t.serializeActions=function(){var e=_x(vx().mark((function e(t){var r=this;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=_x(vx().mark((function e(t){
var n,i,a,s,o;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,i=t.name,a=t.authorization,s=t.data,e.next=3,r.getContract(n);case 3:if(o=e.sent,"object"==typeof s){e.next=6;break}return e.abrupt("return",t);case 6:return e.abrupt("return",YA(o,n,i,a,s));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){
return e.apply(this,arguments)}}(),t.deserializeActions=function(){var e=_x(vx().mark((function e(t){var r=this;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=_x(vx().mark((function e(t){var n,i,a,s,o;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,i=t.name,a=t.authorization,s=t.data,e.next=3,r.getContract(n);case 3:return o=e.sent,e.abrupt("return",QA(o,n,i,a,s));case 5:case"end":
return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deserializeActionsSync=function(){var e=_x(vx().mark((function e(t){var r,n,i,a,s,o,c,f,d;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===t&&(t=[]),r=[],n=Tx(t);case 3:if((i=n()).done){e.next=11;break}return a=i.value,s=a.account,o=a.name,
c=a.authorization,f=a.data,e.next=7,this.getContract(s);case 7:d=e.sent,r.push(QA(d,s,o,c,f));case 9:e.next=3;break;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.deserializeTransactionWithActions=function(){var e=_x(vx().mark((function e(t){var r,n,i;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t=kA(t)),r=this.deserializeTransaction(t),e.next=4,
this.deserializeActionsSync(r.context_free_actions);case 4:return n=e.sent,e.next=7,this.deserializeActionsSync(r.actions);case 7:return i=e.sent,e.abrupt("return",Object.assign({},r,{context_free_actions:n,actions:i}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.deflateSerializedArray=function(e){return ux.deflate(e,{level:9})},t.inflateSerializedArray=function(e){return ux.inflate(e)},t.transact=function(){
var e=_x(vx().mark((function e(t,r){var n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_,w;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(n=void 0===r?{}:r).broadcast,a=void 0===i||i,s=n.sign,o=void 0===s||s,c=n.readOnlyTrx,f=n.returnFailureTraces,d=n.requiredKeys,u=n.compression,h=n.blocksBehind,l=n.useLastIrreversible,p=n.expireSeconds,b=n.transactionHeader,e.next=3,this.rpc.get_info();case 3:if(y=e.sent,b){e.next=24;break}if("number"!=typeof h||!l){e.next=10;break}
throw new Error("Use either blocksBehind or useLastIrreversible");case 10:if("number"==typeof h||l){e.next=14;break}throw new Error("Must provide one blocksBehind or useLastIrreversible");case 14:if(p){e.next=18;break}throw new Error("Must provide expireSeconds");case 18:return e.next=20,this.generateTapos(y,t,h,l,p);case 20:b=e.sent;case 22:if(this.hasRequiredTaposFields(b)){e.next=24;break}throw new Error("Required configuration or TAPOS fields are not present");case 24:return e.next=26,
this.getTransactionAbis(t);case 26:return m=e.sent,e.t0=Object,e.t1={},e.t2=b,e.next=32,this.serializeTransactionExtensions(t);case 32:return e.t3=e.sent,e.next=35,this.serializeActions(t.context_free_actions||[]);case 35:return e.t4=e.sent,e.next=38,this.serializeActions(t.actions);case 38:if(e.t5=e.sent,e.t6={transaction_extensions:e.t3,context_free_actions:e.t4,actions:e.t5},t=e.t0.assign.call(e.t0,e.t1,e.t2,e.t6),t=this.deleteTransactionExtensionObjects(t),v=this.serializeTransaction(t),
g=this.serializeContextFreeData(t.context_free_data),_={serializedTransaction:v,serializedContextFreeData:g,signatures:[]},!o){e.next=58;break}if(this.signatureProvider){e.next=48;break}throw new Error("No signature provider available");case 48:if(d){e.next=55;break}return e.next=51,this.signatureProvider.getAvailableKeys();case 51:return w=e.sent,e.next=54,this.authorityProvider.getRequiredKeys({transaction:t,availableKeys:w});case 54:d=e.sent;case 55:return e.next=57,
this.signatureProvider.sign({chainId:y.chain_id,requiredKeys:d,serializedTransaction:v,serializedContextFreeData:g,abis:m});case 57:_=e.sent;case 58:if(!a){e.next=62;break}if(!u){e.next=61;break}return e.abrupt("return",this.pushCompressedSignedTransaction(_,c,f));case 61:return e.abrupt("return",this.pushSignedTransaction(_,c,f));case 62:return e.abrupt("return",Object.assign({},_,{transactionHeader:b}));case 63:case"end":return e.stop()}}),e,this)})));return function(t,r){
return e.apply(this,arguments)}}(),t.transactWithDelay=function(){var e=_x(vx().mark((function e(t,r,n){var i,a,s;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return(a=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e){return a.apply(this,arguments)},
void 0===r&&(r={}),e.next=5,this.transact(t,r);case 5:return s=e.sent,e.next=8,i(n);case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.query=function(){var e=_x(vx().mark((function e(t,r,n,i){var a,s,o,c,f,d,u,h,l,p,b,y,m,v,g;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.sign,s=i.requiredKeys,o=i.authorization,c=void 0===o?[]:o,e.next=3,this.rpc.get_info();case 3:
return f=e.sent,e.next=6,this.tryRefBlockFromGetInfo(f);case 6:if(d=e.sent,u=new hA,dk(u,n),h=Object.assign({},JA(d,1800),{context_free_actions:[],actions:[{account:t,name:"queryit",authorization:c,data:AA(u.asUint8Array())}]}),l=this.serializeTransaction(h),p=[],!a){e.next=29;break}if(this.signatureProvider){e.next=15;break}throw new Error("No signature provider available");case 15:return e.next=17,this.getTransactionAbis(h);case 17:if(b=e.sent,s){e.next=25;break}return e.next=21,
this.signatureProvider.getAvailableKeys();case 21:return y=e.sent,e.next=24,this.authorityProvider.getRequiredKeys({transaction:h,availableKeys:y});case 24:s=e.sent;case 25:return e.next=27,this.signatureProvider.sign({chainId:f.chain_id,requiredKeys:s,serializedTransaction:l,serializedContextFreeData:void 0,abis:b});case 27:m=e.sent,p=m.signatures;case 29:return e.next=31,this.rpc.send_transaction({signatures:p,compression:0,serializedTransaction:l});case 31:if(v=e.sent,g=new hA({
array:kA(v.processed.action_traces[0][1].return_value)}),!r){e.next=37;break}return e.abrupt("return",rk(g));case 37:return e.abrupt("return",tk(g));case 38:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),t.pushSignedTransaction=function(){var e=_x(vx().mark((function e(t,r,n){var i,a,s;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.signatures,a=t.serializedTransaction,s=t.serializedContextFreeData,void 0===r&&(r=!1),
void 0===n&&(n=!1),!r){e.next=5;break}return e.abrupt("return",this.rpc.push_ro_transaction({signatures:i,serializedTransaction:a,serializedContextFreeData:s},n));case 5:return e.abrupt("return",this.rpc.push_transaction({signatures:i,serializedTransaction:a,serializedContextFreeData:s}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.pushCompressedSignedTransaction=function(){var e=_x(vx().mark((function e(t,r,n){var i,a,s,o,c
;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.signatures,a=t.serializedTransaction,s=t.serializedContextFreeData,void 0===r&&(r=!1),void 0===n&&(n=!1),o=this.deflateSerializedArray(a),c=this.deflateSerializedArray(s||new Uint8Array(0)),!r){e.next=7;break}return e.abrupt("return",this.rpc.push_ro_transaction({signatures:i,compression:1,serializedTransaction:o,serializedContextFreeData:c},n));case 7:return e.abrupt("return",this.rpc.push_transaction({signatures:i,
compression:1,serializedTransaction:o,serializedContextFreeData:c}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.generateTapos=function(){var e=_x(vx().mark((function e(t,r,n,i,a){var s,o,c;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=3),t){e.next=5;break}return e.next=4,this.rpc.get_info();case 4:t=e.sent;case 5:if(!i){e.next=10;break}return e.next=8,this.tryRefBlockFromGetInfo(t);case 8:
return s=e.sent,e.abrupt("return",Object.assign({},JA(s,a),r));case 10:if(!((o=t.head_block_num-n)<=t.last_irreversible_block_num)){e.next=17;break}return e.next=14,this.tryGetBlockInfo(o);case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,this.tryGetBlockHeaderState(o);case 19:e.t0=e.sent;case 20:return c=e.t0,e.abrupt("return",Object.assign({},JA(c,a),r));case 22:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),
t.hasRequiredTaposFields=function(e){var t=e.expiration,r=e.ref_block_num,n=e.ref_block_prefix;return!(!t||"number"!=typeof r||"number"!=typeof n)},t.tryGetBlockHeaderState=function(){var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpc.get_block_header_state(t);case 3:case 10:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,this.tryGetBlockInfo(t);case 11:case"end":return e.stop()}
}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.tryGetBlockInfo=function(){var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpc.get_block_info(t);case 3:case 10:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,this.rpc.get_block(t);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),
t.tryRefBlockFromGetInfo=function(){var e=_x(vx().mark((function e(t){var r;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.hasOwnProperty("last_irreversible_block_id")&&t.hasOwnProperty("last_irreversible_block_num")&&t.hasOwnProperty("last_irreversible_block_time"))){e.next=4;break}return e.abrupt("return",{block_num:t.last_irreversible_block_num,id:t.last_irreversible_block_id,timestamp:t.last_irreversible_block_time});case 4:return e.next=6,
this.tryGetBlockInfo(t.last_irreversible_block_num);case 6:return r=e.sent,e.abrupt("return",{block_num:r.block_num,id:r.id,timestamp:r.timestamp});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.with=function(e){return new Sk(this,e)},t.buildTransaction=function(e){var t=new kk(this);return e?e(t):t},t.getAccountKeys=function(){var e=_x(vx().mark((function e(t,r){var n,i,a;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
return e.prev=0,e.next=3,this.rpc.get_account(t);case 3:if(n=e.sent,i=n.permissions,!(a=i.find((function(e){return e.perm_name===r})))){e.next=8;break}return e.abrupt("return",a.required_auth.keys.map((function(e){var t=e.key;return bk.fromString(t).toString()})));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),
t.sha256Digest=function(){var e=_x(vx().mark((function e(t){var r;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t instanceof Uint8Array?t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength):t,e.t0=Uint8Array,e.next=4,this.getCrypto().subtle.digest("SHA-256",r);case 4:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.matchRsaKeyToSignature=function(){
var e=_x(vx().mark((function e(t){var r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_,w,x,A;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.actor,n=t.transaction,i=n.actions[0].data,a=i.signature,s=i.nonce,o=i.trx,e.next=4,this.rpc.fetchCredentials(r);case 4:c=(c=e.sent).filter((function(e){return"rsa_public_key"===e.key.key[0]})),f=Tx(c);case 7:if((d=f()).done){e.next=36;break}return u=d.value,h=u.key.key[1],l=uk(Buffer.from(h.exponent,"hex").toString("base64")),
p=uk(Buffer.from(h.modulus,"hex").toString("base64")),b=JSON.parse(a.client_json),y=new Uint8Array(lx.toBuffer(b.challenge).buffer),m=new hA,v=this.serializeTransaction(o),m.pushArray(v),m.pushNumberAsUint64(s),e.next=20,this.sha256Digest(m.asUint8Array().slice());case 20:if(g=e.sent,AA(y)===AA(g)){e.next=23;break}return e.abrupt("continue",34);case 23:return e.next=25,this.getCrypto().subtle.importKey("jwk",{kty:"RSA",e:l,n:p,alg:"RS256",ext:!1},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}
},!1,["verify"]);case 25:return _=e.sent,w=kA(a.auth_data),x=kA(pk(a.client_json)),A=new Uint8Array([].concat(w,x)),e.next=31,this.getCrypto().subtle.verify("RSASSA-PKCS1-v1_5",_,kA(a.signature),A);case 31:if(!e.sent){e.next=34;break}return e.abrupt("return",!0);case 34:e.next=7;break;case 36:return e.abrupt("return",!1);case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.matchEthKeyToSignature=function(){var e=_x(vx().mark((function e(t){
var r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.actor,n=t.transaction,i=n.actions[0].data,a=i.signature,s=i.nonce,o=i.trx,e.next=4,this.rpc.fetchCredentials(r);case 4:c=(c=e.sent).filter((function(e){return"eth_public_key"===e.key.key[0]})),f=Tx(c);case 7:if((d=f()).done){e.next=24;break}return u=d.value,h="0x"+u.key.key[1],l=new hA,p=this.serializeTransaction(o),l.pushArray(p),l.pushNumberAsUint64(s),e.next=16,
this.sha256Digest(l.asUint8Array().slice());case 16:if(b=e.sent,y=AA(b),m="0x"+a.signature,this.getRecoverPersonalSignature()({data:y,sig:m})!==h){e.next=22;break}return e.abrupt("return",!0);case 22:e.next=7;break;case 24:return e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.matchWaKeyToSignature=function(){var e=_x(vx().mark((function e(t){var r,n,i,a,s,o,c,f,d,u,h,l,p;return vx().wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:return r=t.signature,n=t.key,i=t.digest,e.prev=1,a=cA(r),s=new hA({array:a.data}),o=new mk({type:Px.r1,data:s.getUint8Array(65)},new hx.ec("p256")),c=s.getBytes().slice(),f=s.getBytes().slice(),(d=new hA).pushArray(c),e.t0=d,e.next=12,this.sha256Digest(f);case 12:return e.t1=e.sent,e.t0.pushArray.call(e.t0,e.t1),u=o.recover(d.asUint8Array()),h=bk.fromString(n),l=new hA({array:h.key.data.slice(0,33)}),p=rA({type:Px.r1,data:l.asUint8Array()}),
e.abrupt("return",u.toString()===p&&o.verify(i,u,!1));case 21:return e.prev=21,e.t2=e.catch(1),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,this,[[1,21]])})));return function(t){return e.apply(this,arguments)}}(),t.checkIfKeysMatchTransaction=function(){var e=_x(vx().mark((function e(t){var r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_,w,x,A,k,S,M,E,z,I=this;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.actor,n=t.permission,i=t.transaction,a=t.signatures,
s=t.chainId,i=JSON.parse(JSON.stringify(i)),a=JSON.parse(JSON.stringify(a)),1!==i.actions.length||"webauthn"!==i.actions[0].account||"exec"!==i.actions[0].name||"active"!==n){e.next=32;break}if(1===(o=i.actions[0].data.trx).actions.length){e.next=7;break}return e.abrupt("return",!1);case 7:c=Tx(o.actions);case 8:if((f=c()).done){e.next=19;break}d=f.value,u=Tx(d.authorization);case 11:if((h=u()).done){e.next=17;break}if((l=h.value).actor===r&&l.permission===n){e.next=15;break}
return e.abrupt("return",!1);case 15:e.next=11;break;case 17:e.next=8;break;case 19:if("eth_public_key"!==(p=i.actions[0].data.key.key[0])){e.next=24;break}return e.abrupt("return",this.matchEthKeyToSignature({transaction:i,actor:r}));case 24:if("rsa_public_key"!==p){e.next=28;break}return e.abrupt("return",this.matchRsaKeyToSignature({transaction:i,actor:r}));case 28:return console.log("Key type "+p+" not supported"),e.abrupt("return",!1);case 30:e.next=65;break;case 32:b=Tx(i.actions);case 33:
if((y=b()).done){e.next=44;break}m=y.value,v=Tx(m.authorization);case 36:if((g=v()).done){e.next=42;break}if((_=g.value).actor===r&&_.permission===n){e.next=40;break}return e.abrupt("return",!1);case 40:e.next=36;break;case 42:e.next=33;break;case 44:if(s){e.next=49;break}return e.next=47,this.rpc.get_info();case 47:w=e.sent,s=w.chain_id;case 49:return e.next=51,this.serializeActions(i.context_free_actions||[]);case 51:return i.context_free_actions=e.sent,e.next=54,
this.serializeActions(i.actions);case 54:return i.actions=e.sent,x=this.serializeTransaction(i),A=this.serializeContextFreeData(i.context_free_data),k=mk.fromString(a[0]),S=k.getType(),M=wk(s,x,A),e.next=62,this.getAccountKeys(r,n);case 62:return E=e.sent,z=E.some((function(e){var t=bk.fromString(e);return S===Px.wa?I.matchWaKeyToSignature({signature:k.toString(),key:t.toString(),digest:M}):[Px.k1,Px.r1].includes(S)?k.verify(M,t,!1):(console.log("Key type "+S+" not supported"),!1)})),
e.abrupt("return",z);case 65:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),kk=function(){function e(e){this.api=void 0,this.actions=[],this.contextFreeGroups=[],this.api=e}var t=e.prototype;return t.with=function(e){var t=new Sk(this.api,e);return this.actions.push(t),t},t.associateContextFree=function(e){return this.contextFreeGroups.push(e),this},t.send=function(){var e=_x(vx().mark((function e(t){var r,n,i;return vx().wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:return r=[],n=[],i=this.actions.map((function(e){return e.serializedData})),e.next=5,Promise.all(this.contextFreeGroups.map(function(){var e=_x(vx().mark((function e(t){var a,s,o,c;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t({cfd:r.length,cfa:n.length}),s=a.action,o=a.contextFreeAction,c=a.contextFreeData,s&&i.push(s),o&&n.push(o),c&&r.push(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)
}}()));case 5:return this.contextFreeGroups=[],this.actions=[],e.next=9,this.api.transact({context_free_data:r,context_free_actions:n,actions:i},t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),Sk=function(){function e(e,t){this.api=void 0,this.accountName=void 0,this.serializedData=void 0,this.api=e,this.accountName=t}return e.prototype.as=function(e){void 0===e&&(e=[]);var t=[]
;return t=e&&"string"==typeof e?[{actor:e,permission:"active"}]:e,new Mk(this,this.api,this.accountName,t)},e}(),Mk=function(e,t,r,n){var i=this,a=t.cachedAbis.get(r);if(!a)throw new Error("ABI must be cached before using ActionBuilder, run api.getAbi()");for(var s,o=$A(KA(),a.abi),c=new Map,f=Tx(a.abi.actions);!(s=f()).done;){var d=s.value,u=d.name,h=d.type;c.set(u,HA(o,h))}c.forEach((function(t,a){var s;Object.assign(i,((s={})[a]=function(){
for(var i={},s=arguments.length,f=new Array(s),d=0;d<s;d++)f[d]=arguments[d];f.forEach((function(e,r){var n=t.fields[r];i[n.name]=e}));var u=YA({types:o,actions:c},r,a,n,i);return e.serializedData=u,u},s))}))},Ek={__proto__:null},zk=function(e){function t(r){var n;return r&&r.error&&r.error.details&&r.error.details.length&&r.error.details[0].message?((n=e.call(this,r.error.details[0].message)||this).json=void 0,n.details=void 0,
n.details=r.error.details):r&&r.processed&&r.processed.except&&r.processed.except.message?((n=e.call(this,r.processed.except.message)||this).json=void 0,n.details=void 0,n.details=r.processed.except):r&&r.result&&r.result.except&&r.result.except.message?((n=e.call(this,r.result.except.message)||this).json=void 0,n.details=void 0,n.details=r.result.except):r?((n=e.call(this,r.message)||this).json=void 0,n.details=void 0):((n=e.call(this,r)||this).json=void 0,n.details=void 0),
Object.setPrototypeOf(Ix(n),t.prototype),n.json=r,Ix(n)}return Ax(t,e),t}(zx(Error));function Ik(){return Nk.apply(this,arguments)}function Nk(){return(Nk=_x(vx().mark((function e(){var t,r;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.get_table_rows({code:"eosio.proton",table:"kycproviders",scope:"eosio.proton"});case 3:t=e.sent,r=t.rows,this.validKycProviders=r.reduce((function(e,t){return t.blisted||e.push(t.kyc_provider),e}),[]),e.next=11
;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Unable to get KYC Providers.");case 11:case"end":return e.stop()}}),e,this,[[0,8]])})))).apply(this,arguments)}function Tk(e){return Pk.apply(this,arguments)}function Pk(){return(Pk=_x(vx().mark((function e(t){var r,n,i,a,s,o,c=this;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=["firstname","lastname","birthdate","address"],n=["selfie","frontofid","backofid"],0!==t.length){e.next=4;break}
throw new Error("Please enter an account.");case 4:if(0!==this.validKycProviders.length){e.next=7;break}return e.next=7,this.getValidKycProviders();case 7:if(i=[],!Array.isArray(t)){e.next=12;break}i=t,e.next=24;break;case 12:if("string"!=typeof t){e.next=24;break}return e.prev=13,e.next=16,this.get_table_rows({code:"eosio.proton",table:"usersinfo",scope:"eosio.proton",lower_bound:t,upper_bound:t});case 16:a=e.sent,s=a.rows,i=s,e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(13),
new Error("Account not found!");case 24:return o=i.map((function(e){var t=e.kyc.reduce((function(e,t){c.validKycProviders.indexOf(t.kyc_provider)>=0&&(e=t.kyc_level.split(",").map((function(e){return e.split(":")[1]})).concat(e));return e}),[]);return e.isTier1KYCVerified=r.every((function(e){return t.includes(e)})),e.isTier2KYCVerified=e.isTier1KYCVerified&&n.every((function(e){return t.includes(e)})),e.isTier3KYCVerified=!1,e.isLightKYCVerified=e.isTier1KYCVerified,e})),e.abrupt("return",o)
;case 26:case"end":return e.stop()}}),e,this,[[13,21]])})))).apply(this,arguments)}function Rk(e){return Ok.apply(this,arguments)}function Ok(){return(Ok=_x(vx().mark((function e(t){var r,n;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get_table_rows({code:"webauthn",scope:"webauthn",table:"credentials",lower_bound:t,upper_bound:t,key_type:"name",index_position:2});case 2:return r=e.sent,n=r.rows,e.abrupt("return",n);case 5:case"end":return e.stop()}
}),e,this)})))).apply(this,arguments)}var Bk=function(e){function t(){throw e.call(this),new TypeError("AbortSignal cannot be constructed directly")}return Ax(t,e),xx(t,[{key:"aborted",get:function(){var e=Uk.get(this);if("boolean"!=typeof e)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return e}}]),t}(mx.EventTarget);mx.defineEventAttribute(Bk.prototype,"abort");var Uk=new WeakMap;Object.defineProperties(Bk.prototype,{aborted:{
enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Bk.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var Ck=function(){function e(){var e;qk.set(this,(e=Object.create(Bk.prototype),mx.EventTarget.call(e),Uk.set(e,!1),e))}return e.prototype.abort=function(){var e;e=jk(this),!1===Uk.get(e)&&(Uk.set(e,!0),e.dispatchEvent({type:"abort"}))},xx(e,[{key:"signal",get:function(){return jk(this)}}]),e}(),qk=new WeakMap
;function jk(e){var t=qk.get(e);if(null==t)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===e?"null":typeof e));return t}Object.defineProperties(Ck.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ck.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});var Dk="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==hr?hr:void 0
;Dk&&(void 0===Dk.AbortController&&(Dk.AbortController=Ck),void 0===Dk.AbortSignal&&(Dk.AbortSignal=Bk));var Fk=function(e){for(var t,r="",n=Tx(e);!(t=n()).done;){r+=("00"+t.value.toString(16)).slice(-2)}return r};function Lk(e,t){return Kk.apply(this,arguments)}function Kk(){return(Kk=_x(vx().mark((function e(t,r){var n,i,a,s;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timeout,i=new AbortController,a=setTimeout((function(){return i.abort()}),n),e.next=5,
yx(t,Object.assign({},r||{},{signal:i.signal}));case 5:return s=e.sent,clearTimeout(a),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vk,Wk=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.initialEndpoints=void 0,this.endpoints=void 0,this.currentEndpoint=void 0,this.validKycProviders=[],this.timeout=5e3,this.isLightKYCVerified=Tk,this.getValidKycProviders=Ik,this.fetchCredentials=Rk,t.timeout&&(this.timeout=t.timeout),
e=Array.isArray(e)?e:[e],this.initialEndpoints=e.map((function(e){return e.replace(/\/$/,"")})),this.endpoints=this.initialEndpoints.slice(0),this.currentEndpoint="",this.nextEndpoint()}var t=e.prototype;return t.nextEndpoint=function(){if(this.endpoints.length&&this.currentEndpoint){var e=this.endpoints.shift();this.endpoints=this.endpoints.concat(e||[])}else this.endpoints=this.initialEndpoints;this.currentEndpoint=this.endpoints[0]},t.fetch=function(){var e=_x(vx().mark((function e(t,r,n,i){
var a,s,o,c;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),void 0===i&&(i=!0),e.prev=2,e.next=5,Lk(this.currentEndpoint+t,{body:JSON.stringify(r),method:"POST",timeout:this.timeout});case 5:return a=e.sent,e.next=8,a.json();case 8:if(!((s=e.sent).processed&&s.processed.except||s.result&&s.result.except||404===s.code)){e.next=11;break}throw new zk(s);case 11:e.next=24;break;case 13:if(e.prev=13,e.t0=e.catch(2),i&&console.log(e.t0),
!(this.endpoints.length>1)){e.next=24;break}if(this.nextEndpoint(),!(n<this.initialEndpoints.length)){e.next=22;break}return e.abrupt("return",this.fetch(t,r,++n));case 22:throw e.t0.isFetchError=!0,new zk(e.t0);case 24:if(a&&a.ok){e.next=26;break}throw new zk(s);case 26:if(!s||!s.head_block_time){e.next=34;break}if(o=new Date(s.head_block_time+"Z").getTime(),c=(new Date).getTime(),!((c-o)/1e3>30&&this.endpoints.length>1)){e.next=34;break}if(this.nextEndpoint(),
!(n<this.initialEndpoints.length)){e.next=34;break}return e.abrupt("return",this.fetch(t,r,++n));case 34:return e.abrupt("return",s);case 35:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t,r,n,i){return e.apply(this,arguments)}}(),t.get=function(){var e=_x(vx().mark((function e(t){var r,n;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yx(t);case 2:if(!((r=e.sent).status>=400)){e.next=5;break}
throw new Error("Bad response from server "+r.status);case 5:return e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.abi_bin_to_json=function(){var e=_x(vx().mark((function e(t,r,n){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/abi_bin_to_json",{code:t,action:r,binargs:n});case 2:return e.abrupt("return",e.sent);case 3:
case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.abi_json_to_bin=function(){var e=_x(vx().mark((function e(t,r,n){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/abi_json_to_bin",{code:t,action:r,args:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.get_abi=function(){
var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_abi",{account_name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_account=function(){var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_account",{account_name:t})
;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_accounts_by_authorizers=function(){var e=_x(vx().mark((function e(t,r){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_accounts_by_authorizers",{accounts:t,keys:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){
return e.apply(this,arguments)}}(),t.get_activated_protocol_features=function(){var e=_x(vx().mark((function e(t){var r,n,i,a,s,o;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=void 0===t?{limit:50,search_by_block_num:!1,reverse:!1}:t).limit,i=r.search_by_block_num,a=r.reverse,s=r.lower_bound,o=r.upper_bound,e.next=3,this.fetch("/v1/chain/get_activated_protocol_features",{lower_bound:s,upper_bound:o,limit:n,search_by_block_num:i,reverse:a});case 3:
return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_block_header_state=function(){var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_block_header_state",{block_num_or_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),
t.get_block_info=function(){var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_block_info",{block_num:t},0,!1);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_block=function(){var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,
this.fetch("/v1/chain/get_block",{block_num_or_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_code=function(){var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_code",{account_name:t,code_as_wasm:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))
;return function(t){return e.apply(this,arguments)}}(),t.get_code_hash=function(){var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_code_hash",{account_name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_currency_balance=function(){var e=_x(vx().mark((function e(t,r,n){return vx().wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_currency_balance",{code:t,account:r,symbol:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.get_currency_stats=function(){var e=_x(vx().mark((function e(t,r){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_currency_stats",{code:t,symbol:r});case 2:
return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.get_info=function(){var e=_x(vx().mark((function e(){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_info",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.get_producer_schedule=function(){
var e=_x(vx().mark((function e(){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_producer_schedule",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.get_producers=function(){var e=_x(vx().mark((function e(t,r,n){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),void 0===r&&(r=""),void 0===n&&(n=50),
e.next=5,this.fetch("/v1/chain/get_producers",{json:t,lower_bound:r,limit:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.get_raw_code_and_abi=function(){var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_raw_code_and_abi",{account_name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":
return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getRawAbi=function(){var e=_x(vx().mark((function e(t){var r,n;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get_raw_abi(t);case 2:return r=e.sent,n=$x(r.abi),e.abrupt("return",{accountName:r.account_name,abi:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_raw_abi=function(){
var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_raw_abi",{account_name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_scheduled_transactions=function(){var e=_x(vx().mark((function e(t,r,n){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),void 0===r&&(r=""),
void 0===n&&(n=50),e.next=5,this.fetch("/v1/chain/get_scheduled_transactions",{json:t,lower_bound:r,limit:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.get_table_rows=function(){var e=_x(vx().mark((function e(t){var r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.json,n=void 0===r||r,i=t.code,a=t.scope,s=t.table,
o=t.lower_bound,c=void 0===o?"":o,f=t.upper_bound,d=void 0===f?"":f,u=t.index_position,h=void 0===u?1:u,l=t.key_type,p=void 0===l?"":l,b=t.limit,y=void 0===b?10:b,m=t.reverse,v=void 0!==m&&m,g=t.show_payer,_=void 0!==g&&g,e.next=3,this.fetch("/v1/chain/get_table_rows",{json:n,code:i,scope:a,table:s,lower_bound:c,upper_bound:d,index_position:h,key_type:p,limit:y,reverse:v,show_payer:_});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){
return e.apply(this,arguments)}}(),t.get_kv_table_rows=function(){var e=_x(vx().mark((function e(t){var r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.json,n=void 0===r||r,i=t.code,a=t.table,s=t.index_name,o=t.encode_type,c=void 0===o?"bytes":o,f=t.index_value,d=t.lower_bound,u=t.upper_bound,h=t.limit,l=void 0===h?10:h,p=t.reverse,b=void 0!==p&&p,y=t.show_payer,m=void 0!==y&&y,e.next=3,this.fetch("/v1/chain/get_kv_table_rows",{json:n,
code:i,table:a,index_name:s,encode_type:c,index_value:f,lower_bound:d,upper_bound:u,limit:l,reverse:b,show_payer:m});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_table_by_scope=function(){var e=_x(vx().mark((function e(t){var r,n,i,a,s,o,c,f;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.code,n=t.table,i=t.lower_bound,a=void 0===i?"":i,s=t.upper_bound,
o=void 0===s?"":s,c=t.limit,f=void 0===c?10:c,e.next=3,this.fetch("/v1/chain/get_table_by_scope",{code:r,table:n,lower_bound:a,upper_bound:o,limit:f});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getRequiredKeys=function(){var e=_x(vx().mark((function e(t){var r;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_required_keys",{
transaction:t.transaction,available_keys:t.availableKeys});case 2:return r=e.sent,e.abrupt("return",iA(r.required_keys));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.push_transaction=function(){var e=_x(vx().mark((function e(t){var r,n,i,a,s;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.signatures,n=t.compression,i=void 0===n?0:n,a=t.serializedTransaction,s=t.serializedContextFreeData,e.prev=1,e.next=4,
this.fetch("/v1/chain/push_transaction",{signatures:r,compression:i,packed_context_free_data:Fk(s||new Uint8Array(0)),packed_trx:Fk(a)});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0&&e.t0.json&&e.t0.json.error&&"expired_tx_exception"===e.t0.json.error.name&&(e.t0.json.error.message="Transaction Expired: Try Again",this.nextEndpoint()),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),
t.push_ro_transaction=function(){var e=_x(vx().mark((function e(t,r){var n,i,a,s;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signatures,i=t.compression,a=void 0===i?0:i,s=t.serializedTransaction,void 0===r&&(r=!1),e.next=4,this.fetch("/v1/chain/push_ro_transaction",{transaction:{signatures:n,compression:a,packed_context_free_data:Fk(new Uint8Array(0)),packed_trx:Fk(s)},return_failure_traces:r});case 4:return e.abrupt("return",e.sent);case 5:case"end":
return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.push_transactions=function(){var e=_x(vx().mark((function e(t){var r;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.map((function(e){var t=e.signatures,r=e.compression,n=void 0===r?0:r,i=e.serializedTransaction,a=e.serializedContextFreeData;return{signatures:t,compression:n,packed_context_free_data:Fk(a||new Uint8Array(0)),packed_trx:Fk(i)}})),e.next=3,
this.fetch("/v1/chain/push_transactions",r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.send_transaction=function(){var e=_x(vx().mark((function e(t){var r,n,i,a,s;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.signatures,n=t.compression,i=void 0===n?0:n,a=t.serializedTransaction,s=t.serializedContextFreeData,e.next=3,this.fetch("/v1/chain/send_transaction",{
signatures:r,compression:i,packed_context_free_data:Fk(s||new Uint8Array(0)),packed_trx:Fk(a)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.db_size_get=function(){var e=_x(vx().mark((function e(){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/db_size/get",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))
;return function(){return e.apply(this,arguments)}}(),t.trace_get_block=function(){var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/trace_api/get_block",{block_num:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.history_get_actions=function(){var e=_x(vx().mark((function e(t,r,n){return vx().wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=null),void 0===n&&(n=null),e.next=4,this.fetch("/v1/history/get_actions",{account_name:t,pos:r,offset:n});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.history_get_transaction=function(){var e=_x(vx().mark((function e(t,r){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=null),e.next=3,
this.fetch("/v1/history/get_transaction",{id:t,block_num_hint:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.history_get_key_accounts=function(){var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/history/get_key_accounts",{public_key:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}
}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.history_get_controlled_accounts=function(){var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/history/get_controlled_accounts",{controlling_account:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.get_nfts_fio_address=function(){
var e=_x(vx().mark((function e(t){return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/v1/chain/get_nfts_fio_address",{fio_address:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),Zk={__proto__:null},Hk=function(){function e(){this.keys=new Map}var t=e.prototype;return t.getAvailableKeys=function(){var e=_x(vx().mark((function e(){
return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Array.from(this.keys.keys()));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.sign=function(){var e=_x(vx().mark((function e(t){var r,n,i,a,s,o,c,f,d,u,h,l,p,b,y,m,v,g,_,w,x,A,k;return vx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.chainId,n=t.requiredKeys,i=t.serializedTransaction,a=t.serializedContextFreeData,
(s=new hA).pushArray(kA(r)),s.pushArray(i),!a){e.next=14;break}return e.t0=s,e.t1=Uint8Array,e.next=9,crypto.subtle.digest("SHA-256",a.buffer);case 9:e.t2=e.sent,e.t3=new e.t1(e.t2),e.t0.pushArray.call(e.t0,e.t3),e.next=15;break;case 14:s.pushArray(new Uint8Array(32));case 15:return e.t4=Uint8Array,e.next=18,crypto.subtle.digest("SHA-256",s.asUint8Array().slice().buffer);case 18:e.t5=e.sent,o=new e.t4(e.t5),c=[],f=Tx(n);case 22:if((d=f()).done){e.next=67;break}return u=d.value,
h=kA(this.keys.get(u)),e.next=27,navigator.credentials.get({publicKey:{timeout:6e4,allowCredentials:[{id:h,type:"public-key"}],challenge:o.buffer}});case 27:if(l=e.sent,p=new hx.ec("p256"),b=p.keyFromPublic(eA(u).data.subarray(0,33)).getPublic(),y=function(e){for(var t=Array.from(e);t.length<32;)t.unshift(0);for(;t.length>32;)if(0!==t.shift())throw new Error("Signature has an r or s that is too big");return new Uint8Array(t)},48===(m=new hA({array:new Uint8Array(l.response.signature)})).get()){
e.next=34;break}throw new Error("Signature missing DER prefix");case 34:if(m.get()===m.array.length-2){e.next=36;break}throw new Error("Signature has bad length");case 36:if(2===m.get()){e.next=38;break}throw new Error("Signature has bad r marker");case 38:if(v=y(m.getUint8Array(m.get())),2===m.get()){e.next=41;break}throw new Error("Signature has bad s marker");case 41:return g=y(m.getUint8Array(m.get())),(_=new hA).pushArray(new Uint8Array(l.response.authenticatorData)),e.t6=_,e.t7=Uint8Array,
e.next=48,crypto.subtle.digest("SHA-256",l.response.clientDataJSON);case 48:return e.t8=e.sent,e.t9=new e.t7(e.t8),e.t6.pushArray.call(e.t6,e.t9),e.t10=Uint8Array,e.next=54,crypto.subtle.digest("SHA-256",_.asUint8Array().slice());case 54:e.t11=e.sent,w=new e.t10(e.t11),x=p.getKeyRecoveryParam(w,new Uint8Array(l.response.signature),b),(A=new hA).push(x+27+4),A.pushArray(v),A.pushArray(g),A.pushBytes(new Uint8Array(l.response.authenticatorData)),
A.pushBytes(new Uint8Array(l.response.clientDataJSON)),k=fA({type:Px.wa,data:A.asUint8Array().slice()}),c.push(k);case 65:e.next=22;break;case 67:return e.abrupt("return",{signatures:c,serializedTransaction:i,serializedContextFreeData:a});case 68:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),$k={Api:Ak,ApiInterfaces:Ek,JsonRpc:Wk,Numeric:dA,RpcInterfaces:Zk,RpcError:zk,Serialize:hk,JsSignatureProvider:xk,Key:gk,sha256:pk,
WebAuthnSignatureProvider:Hk};
/**
   * Proton Link v4.2.7
   * https://github.com/protonprotocol/proton-link
   *
   * @license
   * Copyright (c) 2020 Greymass Inc. All Rights Reserved.
   * 
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   * 
   *  1. Redistribution of source code must retain the above copyright notice, this
   *     list of conditions and the following disclaimer.
   * 
   *  2. Redistribution in binary form must reproduce the above copyright notice,
   *     this list of conditions and the following disclaimer in the documentation
   *     and/or other materials provided with the distribution.
   * 
   *  3. Neither the name of the copyright holder nor the names of its contributors
   *     may be used to endorse or promote products derived from this software without
   *     specific prior written permission.
   * 
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
   * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
   * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
   * OF THE POSSIBILITY OF SUCH DAMAGE.
   * 
   * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
   * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
   */
function Jk(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function Gk(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){
var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))}fx.Api=Ak,fx.ApiInterfaces=Ek,fx.JsSignatureProvider=xk,fx.JsonRpc=Wk,fx.Key=gk,fx.Numeric=dA,fx.RpcError=zk,fx.RpcInterfaces=Zk,fx.Serialize=hk,fx.WebAuthnSignatureProvider=Hk,fx.default=$k,fx.digestFromSerializedData=wk,fx.sha256=pk,Qp.exports=eb;class Yk extends Error{constructor(e){super("Request cancelled "+(e?"("+e+")":"")),this.code="E_CANCEL"}}
class Xk extends Error{constructor(e){super("Unable to verify identity "+(e?"("+e+")":"")),this.code="E_IDENTITY"}}class Qk extends Error{constructor(e,t,r){super(e),this.code=t,this.session=r}}!function(e){e.defaults={service:"https://cb.anchor.link",verifyProofs:!1,encodeChainIds:!0}}(Vk||(Vk={})),e.SealedMessage=class extends Gs{},Jk([Gs.field("public_key")],e.SealedMessage.prototype,"from",void 0),Jk([Gs.field("uint64")],e.SealedMessage.prototype,"nonce",void 0),
Jk([Gs.field("bytes")],e.SealedMessage.prototype,"ciphertext",void 0),Jk([Gs.field("uint32")],e.SealedMessage.prototype,"checksum",void 0),e.SealedMessage=Jk([Gs.type("sealed_message")],e.SealedMessage),e.LinkCreate=class extends Gs{},Jk([Gs.field("name")],e.LinkCreate.prototype,"session_name",void 0),Jk([Gs.field("public_key")],e.LinkCreate.prototype,"request_key",void 0),Jk([Gs.field("string",{extension:!0})],e.LinkCreate.prototype,"user_agent",void 0),
e.LinkCreate=Jk([Gs.type("link_create")],e.LinkCreate),e.LinkInfo=class extends Gs{},Jk([Gs.field("time_point_sec")],e.LinkInfo.prototype,"expiration",void 0),e.LinkInfo=Jk([Gs.type("link_info")],e.LinkInfo);const eS=Op().fetch;function tS(e,t){const r={sameDevice:void 0!==t.getRawInfo().return_path};if(e.link_meta)try{const t=JSON.parse(e.link_meta);for(const e of Object.keys(t))r[rS(e)]=t[e]}catch(t){nS("Unable to parse link metadata",t,e.link_meta)}return r}function rS(e){const t=function(e){
return e.split("_").map((e=>(e[0]?e[0].toUpperCase():"_")+e.slice(1))).join("")}(e);return t[0].toLowerCase()+t.slice(1)}function nS(...e){console.warn("[anchor-link]",...e)}class iS{constructor(){}remove(){return Gk(this,void 0,void 0,(function*(){this.link.storage&&(yield this.link.removeSession(this.identifier,this.auth,this.chainId))}))}get client(){return this.link.getChain(this.chainId).client}static restore(e,t){switch(t.type){case"channel":return new aS(e,t.data,t.metadata)
;case"fallback":return new sS(e,t.data,t.metadata);default:throw new Error("Unable to restore, session data invalid")}}}class aS extends iS{constructor(t,r,n){super(),this.type="channel",this.timeout=12e4,this.link=t,this.chainId=e.ChainId.from(r.chainId),this.auth=e.PermissionLevel.from(r.auth),this.publicKey=yo.from(r.publicKey),this.identifier=no.from(r.identifier);const i=wo.from(r.requestKey);this.channelKey=yo.from(r.channel.key),this.channelUrl=r.channel.url,
this.channelName=r.channel.name,this.encrypt=t=>function(t,r,n,i){const a=r.sharedSecret(n);i||(i=Ms.from(Ss.random()));const s=bs.hash(e.Serializer.encode({object:i}).appending(a.array)),o=new Kp(s.array.slice(0,32),s.array.slice(32,48)),c=hs.from(o.encrypt(hs.from(t,"utf8").array)),f=new DataView(ps.hash(s.array).array.buffer).getUint32(0,!0);return e.SealedMessage.from({from:r.toPublic(),nonce:i,ciphertext:c,checksum:f})}(t.encode(!0,!1),i,this.channelKey),
this.metadata=Object.assign(Object.assign({},n||{}),{timeout:this.timeout,name:this.channelName,request_key:i.toPublic()}),this.serialize=()=>({type:"channel",data:Object.assign(Object.assign({},r),{channel:{url:this.channelUrl,key:this.channelKey,name:this.channelName}}),metadata:this.metadata})}onSuccess(e,t){this.link.transport.onSuccess&&this.link.transport.onSuccess(e,t)}onFailure(e,t){this.link.transport.onFailure&&this.link.transport.onFailure(e,t)}onRequest(t,r){const n=e.LinkInfo.from({
expiration:new Date(Date.now()+this.timeout)});this.link.transport.onSessionRequest&&this.link.transport.onSessionRequest(this,t,r);const i=setTimeout((()=>{r(new Qk("Wallet did not respond in time","E_TIMEOUT",this))}),this.timeout);t.setInfoKey("link",n);const a=e.Serializer.encode({object:this.encrypt(t)});eS(this.channelUrl,{method:"POST",headers:{"X-Buoy-Wait":(this.timeout/1e3).toFixed(0)},body:a.array}).then((e=>{2!==Math.floor(e.status/100)&&(clearTimeout(i),
202===e.status&&console.warn("Missing delivery ack from session channel"),r(new Qk("Unable to push message","E_DELIVERY",this)))})).catch((e=>{clearTimeout(i),r(new Qk(`Unable to reach link service (${e.message||String(e)})`,"E_DELIVERY",this))}))}addLinkInfo(t){const r=e.LinkCreate.from({session_name:this.identifier,request_key:this.metadata.request_key,user_agent:this.link.getUserAgent()});t.setInfoKey("link",r)}prepare(e){
return this.link.transport.prepare?this.link.transport.prepare(e,this):Promise.resolve(e)}showLoading(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}recoverError(e,t){return!!this.link.transport.recoverError&&this.link.transport.recoverError(e,t)}makeSignatureProvider(){return this.link.makeSignatureProvider([this.publicKey.toString()],this.chainId,this)}transact(e,t){return Gk(this,void 0,void 0,(function*(){
const r=yield this.link.transact(e,Object.assign(Object.assign({},t),{chain:this.chainId}),this);if(r.payload.link_ch&&r.payload.link_key&&r.payload.link_name)try{const e=Object.assign(Object.assign({},this.metadata),tS(r.payload,r.resolved.request));this.channelUrl=r.payload.link_ch,this.channelKey=yo.from(r.payload.link_key),this.channelName=r.payload.link_name,e.name=r.payload.link_name,this.metadata=e}catch(e){nS("Unable to recover link session",e)}return r}))}}class sS extends iS{
constructor(t,r,n){super(),this.type="fallback",this.link=t,this.auth=e.PermissionLevel.from(r.auth),this.publicKey=yo.from(r.publicKey),this.chainId=e.ChainId.from(r.chainId),this.metadata=n||{},this.identifier=no.from(r.identifier),this.serialize=()=>({type:this.type,data:r,metadata:this.metadata})}onSuccess(e,t){this.link.transport.onSuccess&&this.link.transport.onSuccess(e,t)}onFailure(e,t){this.link.transport.onFailure&&this.link.transport.onFailure(e,t)}onRequest(e,t){
this.link.transport.onSessionRequest?this.link.transport.onSessionRequest(this,e,t):this.link.transport.onRequest(e,t)}prepare(e){return this.link.transport.prepare?this.link.transport.prepare(e,this):Promise.resolve(e)}showLoading(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}makeSignatureProvider(){return this.link.makeSignatureProvider([this.publicKey.toString()],this.chainId,this)}transact(e,t){return this.link.transact(e,Object.assign(Object.assign({},t),{
chain:this.chainId}),this)}}class oS{constructor(e){this.address=e.trim().replace(/\/$/,"")}create(){const e=`${this.address}/${Gp()}`;return new cS(e)}}class cS{constructor(e){this.url=e,this.ctx={}}wait(){return this.url.includes("hyperbuoy")?function(e,t){return Gk(this,void 0,void 0,(function*(){let r=!0;for(t.cancel=()=>{r=!1};r;){try{const t=yield eS(e);if(408===t.status)continue;if(200===t.status)return yield t.json();throw new Error(`HTTP ${t.status}: ${t.statusText}`)}catch(e){
nS("Unexpected hyperbuoy error",e)}yield fS(1e3)}return null}))}(this.url,this.ctx):(e=this.url,t=this.ctx,new Promise(((r,n)=>{let i=!0,a=0;const s=e.replace(/^http/,"ws"),o=e=>{try{r(JSON.parse(e))}catch(e){e.message="Unable to parse callback JSON: "+e.message,n(e)}},c=()=>{const e=new Xp(s);"undefined"!=typeof navigator&&"ReactNative"==navigator.product&&(e.binaryType="blob"),t.cancel=()=>{i=!1,e.readyState!==Xp.OPEN&&e.readyState!==Xp.CONNECTING||e.close()},e.onmessage=t=>{if(i=!1,
e.readyState===Xp.OPEN&&e.close(),"undefined"!=typeof Blob&&t.data instanceof Blob){const e=new FileReader;e.onload=()=>{o(e.result)},e.onerror=e=>{n(e)},e.readAsText(t.data)}else"string"==typeof t.data?o(t.data):o(t.data.toString())},e.onopen=()=>{a=0},e.onclose=()=>{var e;i&&setTimeout(c,(e=a++,Math.min(Math.pow(10*e,2),1e4)))}};c()})));var e,t}cancel(){this.ctx.cancel&&this.ctx.cancel()}}function fS(e){return new Promise((t=>{setTimeout(t,e)}))}class dS{constructor(t,r){this.abiCache=new Map,
this.pendingAbis=new Map,this.chainId=e.ChainId.from(t),this.client="string"==typeof r?new Qp.exports.JsonRpc(r):r}getAbi(e){return Gk(this,void 0,void 0,(function*(){const t=String(e);let r=this.abiCache.get(t);if(!r){let n=this.pendingAbis.get(t);n||(n=this.client.get_abi(e.toString()),this.pendingAbis.set(t,n)),r=(yield n).abi,this.pendingAbis.delete(t),r&&this.abiCache.set(t,r)}return r}))}}class uS{constructor(e){if("object"!=typeof e)throw new TypeError("Missing options object")
;if(!e.transport)throw new TypeError("options.transport is required");let t=e.chains||[];if(e.chainId&&e.client&&(t=[{chainId:e.chainId,nodeUrl:e.client}]),0===t.length)throw new TypeError("options.chains is required");this.chains=t.map((({chainId:e,nodeUrl:t})=>{if(!e)throw new Error("options.chains[].chainId is required");if(!t)throw new Error("options.chains[].nodeUrl is required");return new dS(e,t)})),
void 0===e.service||"string"==typeof e.service?this.callbackService=new oS(e.service||Vk.defaults.service):this.callbackService=e.service,this.transport=e.transport,null!==e.storage&&(this.storage=e.storage||this.transport.storage),this.verifyProofs=void 0!==e.verifyProofs?e.verifyProofs:Vk.defaults.verifyProofs,this.encodeChainIds=void 0!==e.encodeChainIds?e.encodeChainIds:Vk.defaults.encodeChainIds,this.scheme=e.scheme,e.walletType&&e.walletType.length>0&&(this.walletType=e.walletType||"")}
get client(){return this.chains[0].client}getChain(t){if(t instanceof dS)return t;if("number"==typeof t){const e=this.chains[t];if(!e)throw new Error(`Invalid chain index: ${t}`);return e}const r=e.ChainId.from(t),n=this.chains.find((e=>e.chainId.equals(r)));if(!n)throw new Error(`Unsupported chain: ${r}`);return n}createRequest(e,t,r){return Gk(this,void 0,void 0,(function*(){const n=r||this.transport;let i;if(t||1===this.chains.length){const r=t||this.chains[0]
;i=yield zp.create(Object.assign(Object.assign({},e),{chainId:r.chainId,broadcast:!1}),{abiProvider:r,zlib:ur,scheme:this.scheme})}else i=yield zp.create(Object.assign(Object.assign({},e),{chainId:null,chainIds:this.encodeChainIds?this.chains.map((e=>e.chainId)):void 0,broadcast:!1}),{abiProvider:this.chains[0],zlib:ur,scheme:this.scheme});n.prepare&&(i=yield n.prepare(i));const a=this.callbackService.create();return i.setCallback(a.url,!0),{request:i,callback:a}}))}sendRequest(t,r,n,i,a=!1){
return Gk(this,void 0,void 0,(function*(){const s=i||this.transport;try{if(t.data.callback!==r.url)throw new Error("Invalid request callback");if(!0===t.data.flags.broadcast||!1===t.data.flags.background)throw new Error("Invalid request flags");let i=!1;const o=new Promise(((e,n)=>{s.onRequest(t,(e=>{if(i)return;const a="string"==typeof e?new Yk(e):e;s.recoverError&&!0===s.recoverError(a,t)||(r.cancel(),n(a))}))})),c=yield Promise.race([r.wait(),o]);if(i=!0,
"string"==typeof c.rejected)throw new Yk(c.rejected);const f=c,d=e.PermissionLevel.from({actor:f.sa,permission:f.sp}),u=Object.keys(f).filter((e=>e.startsWith("sig")&&"sig0"!==e)).map((e=>go.from(f[e])));let h;if(!n&&this.chains.length>1){if(!f.cid)throw new Error("Multi chain response payload must specify resolved chain id (cid)");h=this.getChain(f.cid)}else if(h=n||this.getChain(0),f.cid&&!h.chainId.equals(f.cid))throw new Error("Got response for wrong chain id")
;const l=yield Ip.fromPayload(f,{zlib:ur,abiProvider:h,scheme:this.scheme}),p=l.request.getInfoKey("cosig",{type:go,array:!0});p&&u.unshift(...p);const b={resolved:l,chain:h,transaction:l.transaction,resolvedTransaction:l.resolvedTransaction,signatures:u,payload:f,signer:d};if(a){const t=e.SignedTransaction.from(Object.assign(Object.assign({},l.transaction),{signatures:u})).toJSON(),r=e.Serializer.objectify(t),n=e.PackedTransaction.fromSigned(t),i=yield h.client.push_transaction({
serializedTransaction:n.packed_trx.array,serializedContextFreeData:n.packed_context_free_data.array,signatures:r.signatures,transactionHeader:r});b.processed=i.processed}return s.onSuccess&&s.onSuccess(t,b),b}catch(e){throw s.onFailure&&s.onFailure(t,e),e}}))}transact(e,t,r){return Gk(this,void 0,void 0,(function*(){const n=t||{},i=r||this.transport,a=void 0!==n.chain?this.getChain(n.chain):void 0,s=!1!==n.broadcast,o=void 0!==n.noModify?n.noModify:!s;i&&i.showLoading&&i.showLoading();const c=e
;e.actions&&(c.expiration||c.ref_block_num||c.ref_block_prefix||c.max_net_usage_words||c.max_cpu_usage_ms||c.delay_sec)&&(e={transaction:Object.assign({expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0},c)});const{request:f,callback:d}=yield this.createRequest(e,a,i);o&&f.setInfoKey("no_modify",!0,"bool");return yield this.sendRequest(f,d,a,i,s)}))}identify(t){return Gk(this,void 0,void 0,(function*(){
const{request:r,callback:n}=yield this.createRequest({identity:{permission:t.requestPermission},info:t.info}),i=yield this.sendRequest(r,n);if(!i.resolved.request.isIdentity())throw new Xk("Unexpected response");let a;const s=i.resolved.getIdentityProof(i.signatures[0]);if(this.verifyProofs){if(a=yield i.chain.client.get_account(i.signer.actor.toString()),!a)throw new Xk(`Signature from unknown account: ${s.signer.actor}`)
;const e=a.permissions.find((({perm_name:e})=>s.signer.permission.equals(e)));if(!e)throw new Xk(`${s.signer.actor} signed for unknown permission: ${s.signer.permission}`);if(!s.verify(e.required_auth,a.head_block_time))throw new Xk(`Invalid identify proof for: ${s.signer}`)}if(t.requestPermission){const r=e.PermissionLevel.from(t.requestPermission)
;if(!r.actor.equals(Sp)&&!r.actor.equals(s.signer.actor)||!r.permission.equals(Mp)&&!r.permission.equals(s.signer.permission))throw new Xk(`Identity proof singed by ${s.signer}, expected: ${hS(r)} `)}return Object.assign(Object.assign({},i),{account:a,proof:s})}))}login(t){return Gk(this,void 0,void 0,(function*(){const r=wo.generate("K1"),n=r.toPublic(),i=e.LinkCreate.from({session_name:t,request_key:n,user_agent:this.getUserAgent()}),a=yield this.identify({info:{link:i}
}),s=tS(a.payload,a.resolved.request),o=a.proof.recover();let c;return c=a.payload.link_ch&&a.payload.link_key&&a.payload.link_name?new aS(this,{identifier:t,chainId:a.chain.chainId,auth:a.signer,publicKey:o,channel:{url:a.payload.link_ch,key:a.payload.link_key,name:a.payload.link_name},requestKey:r},s):new sS(this,{identifier:t,chainId:a.chain.chainId,auth:a.signer,publicKey:o},s),yield this.storeSession(c),Object.assign(Object.assign({},a),{session:c})}))}restoreSession(t,r,n){
return Gk(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to restore session: No storage adapter configured");let i;if(r&&n)i=this.sessionKey(t,hS(e.PermissionLevel.from(r)),String(e.ChainId.from(n)));else{let a=yield this.listSessions(t);if(r&&(a=a.filter((e=>e.auth.equals(r)))),n){const t=e.ChainId.from(n);a=a.filter((e=>e.chainId.equals(t)))}const s=a[0];if(!s)return null;i=this.sessionKey(t,hS(s.auth),String(s.chainId))}const a=yield this.storage.read(i)
;if(!a)return null;let s;try{s=JSON.parse(a)}catch(e){throw new Error(`Unable to restore session: Stored JSON invalid (${e.message||String(e)})`)}const o=iS.restore(this,s);return(r||n)&&(yield this.touchSession(t,o.auth,o.chainId)),o}))}listSessions(t){return Gk(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to list sessions: No storage adapter configured");const r=this.sessionKey(t,"list");let n;try{n=JSON.parse((yield this.storage.read(r))||"[]")}catch(e){
throw new Error(`Unable to list sessions: ${e.message||String(e)}`)}return n.map((({auth:t,chainId:r})=>({auth:e.PermissionLevel.from(t),chainId:e.ChainId.from(r)})))}))}removeSession(e,t,r){return Gk(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to remove session: No storage adapter configured");const n=this.sessionKey(e,hS(t),String(r));yield this.storage.remove(n),yield this.touchSession(e,t,r,!0),
(yield this.storage.read("wallet-type"))&&this.storage.remove("wallet-type"),(yield this.storage.read("user-auth"))&&this.storage.remove("user-auth")}))}clearSessions(e){return Gk(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to clear sessions: No storage adapter configured");for(const{auth:t,chainId:r}of yield this.listSessions(e))yield this.removeSession(e,t,r)}))}makeSignatureProvider(t,r,n){return{getAvailableKeys:()=>Gk(this,void 0,void 0,(function*(){return t})),
sign:t=>Gk(this,void 0,void 0,(function*(){const i=n||this.transport,a=r?this.getChain(r):this.chains[0];let s=zp.fromTransaction(t.chainId,t.serializedTransaction,{abiProvider:a,zlib:ur,scheme:this.scheme});const o=this.callbackService.create();s.setCallback(o.url,!0),s.setBroadcast(!1),i.prepare&&(s=yield i.prepare(s));const{transaction:c,signatures:f}=yield this.sendRequest(s,o,a,i),d=e.Serializer.encode({object:c});return Object.assign(Object.assign({},t),{serializedTransaction:d,
signatures:f})}))}}touchSession(e,t,r,n=!1){return Gk(this,void 0,void 0,(function*(){const i=yield this.listSessions(e),a=i.findIndex((e=>e.auth.equals(t)&&e.chainId.equals(r)));a>=0&&i.splice(a,1),!1===n&&i.unshift({auth:t,chainId:r});const s=this.sessionKey(e,"list");yield this.storage.write(s,JSON.stringify(i))}))}storeSession(e){return Gk(this,void 0,void 0,(function*(){if(this.storage){const t=this.sessionKey(e.identifier,hS(e.auth),String(e.chainId)),r=JSON.stringify(e.serialize())
;yield this.storage.write(t,r),yield this.touchSession(e.identifier,e.auth,e.chainId),this.walletType&&this.storage.write("wallet-type",this.walletType)}}))}sessionKey(e,...t){return[String(no.from(e)),...t].join("-")}getUserAgent(){let e=`AnchorLink/${uS.version}`;return this.transport.userAgent&&(e+=" "+this.transport.userAgent()),e}}function hS(t){const r=e.PermissionLevel.from(t),n=r.actor.equals(Sp)?"<any>":String(r.actor);let i
;return i=r.permission.equals(Sp)||r.permission.equals(Mp)?"<any>":String(r.permission),`${n}@${i}`}return uS.version="4.2.7",e.ABI=co,e.ABIDecoder=Ws,e.ABIEncoder=Js,e.API=uc,e.APIClient=fc,e.APIError=cc,e.Asset=fo,e.Base64u=_p,e.BlockTimestamp=oo,e.Bytes=hs,e.CancelError=Yk,e.Checksum160=ys,e.Checksum256=ps,e.Checksum512=bs,e.DEFAULT_SCHEME=kp,e.ExtendedAsset=uo,e.FetchProvider=Mo,e.Float128=ro,e.Float32=eo,e.Float64=to,e.IdentityError=Xk,e.Int=ms,e.Int128=xs,e.Int16=gs,e.Int32=_s,e.Int64=ws,
e.Int8=vs,e.Link=uS,e.LinkChain=dS,e.LinkChannelSession=aS,e.LinkFallbackSession=sS,e.LinkSession=iS,e.Name=no,e.PlaceholderAuth=Ep,e.PlaceholderName=Sp,e.PlaceholderPermission=Mp,e.PrivateKey=wo,e.ProtocolVersion=2,e.PublicKey=yo,e.ResolvedSigningRequest=Ip,e.SessionError=Qk,e.Signature=go,e.SigningRequest=zp,e.Struct=Gs,e.TimePoint=ao,e.TimePointSec=so,e.TypeAlias=Ys,e.UInt128=Es,e.UInt16=ks,e.UInt32=Ss,e.UInt64=Ms,e.UInt8=As,e.VarInt=zs,e.VarUInt=Is,e.Variant=Xs,e.default=uS,
e.isInstanceOf=us,Object.defineProperty(e,"__esModule",{value:!0}),e}({});!function(){var e=ProtonLink;for(var t in ProtonLink=e.default,e)"default"!==t&&(ProtonLink[t]=e[t])}();
//# sourceMappingURL=proton-link.bundle.js.map
